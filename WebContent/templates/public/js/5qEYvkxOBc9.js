if (self.CavalryLogger) { CavalryLogger.start_js(["oUcmv"]); }

__d("PhotosUploadWaterfallErrorCodes",[],(function a(b,c,d,e,f,g){f.exports={SECURITY:1,FILE_IO:2,IMAGE_IO:3,UPLOAD_IO:4,INVALID_SERVER_RESULT:5,RESIZE_FAILURE:6,ENCODE_FAILURE:7,INVALID_DOMAIN:8,BAD_JPEG_MARKERS:9,BAD_SERVER_RESPONSE:10,EXTERNAL_INTERFACE_UNAVAILABLE:11,JS_CALL_FAILED:12,UNCAUGHT_ERROR:13,UPLOAD_SWF_FAILED_LOAD:14,FILE_IO_TIMEOUT:15,IMAGE_SECURITY:16,BAD_IMAGE_FILE:17,IMAGE_IO_TIMEOUT:18,BLACK_PHOTO:19,EMPTY_FILE_LOADED:20,FILE_READ_DISABLED:21,BAD_NETWORK:22,FLASH_LOAD_TIMEOUT:23,FLASH_LOAD_FAILURE:24,FLASH_UPGRADE_REQUIRED:25,SPHERICAL_CHECK_FAILED:26,SPHERICAL_CHECK_TIMEOUT:27}}),null);
__d("BandicootSession",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),i=10*60*1e3,j=14*24*60*60*1e3;function k(p){return Date.now()-p.lastUpdated}function l(p){return!!(typeof p==="object"&&p&&p.lastUpdated&&p.status)}function m(p){if(p.status===h.CLOSED)return false;else if(p.status===h.INACTIVE&&k(p)>i)return false;return true}function n(p){return p.status===h.ACTIVE&&k(p)>i}function o(p){return k(p)>j}f.exports={Status:h,isValidSession:l,isTrackedSession:m,isOrphanSession:o,isCrashedSession:n}}),null);
__d("Bandicoot",["invariant","BandicootSession","FBLogger"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=5*1e3,j=i*2,k="Bandicoot:",l=c("BandicootSession").Status,m=c("BandicootSession").isValidSession,n=c("BandicootSession").isTrackedSession,o=c("BandicootSession").isCrashedSession,p=c("BandicootSession").isOrphanSession;function q(){__p&&__p();try{var t=window.localStorage;if(t){var u="__test"+Date.now();t.setItem(u,"");t.removeItem(u)}return t}catch(v){c("FBLogger")("bandicoot").warn("Local storage is full");return null}}var r=q();function s(t){this.$Bandicoot5=k+t;this.$Bandicoot4={};this.$Bandicoot1=this.$Bandicoot7.bind(this);this.sessionID=null;this.sessionStartTime=null;this.storage=r}s.prototype.getCrashTimeData=function(){var t=window.performance&&window.performance.memory||{},u=this.sessionStartTime;return{duration:u?Date.now()-u:0,tabs:Object.keys(this.$Bandicoot8()).length,jsHeapSizeLimit:t.jsHeapSizeLimit,totalJSHeapSize:t.totalJSHeapSize,usedJSHeapSize:t.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}};s.prototype.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}};s.prototype.logCrash=function(t,u,v){var w=Object.assign({sessionID:t},u,v);c("FBLogger")("bandicoot").warn("Session %s crashed at %s",t,v)};s.prototype.logBrowserUnsupported=function(){c("FBLogger")("bandicoot").warn("Browser not supported")};s.prototype.logTrackingError=function(){c("FBLogger")("bandicoot").warn("Failed to record data for current session")};s.prototype.startSession=function(){__p&&__p();if(!this.storage){this.logBrowserUnsupported();return}if(this.$Bandicoot2)return;if(!this.sessionID)this.sessionID=Math.random().toString(36).slice(2,9);if(!this.sessionStartTime)this.sessionStartTime=Date.now();this.$Bandicoot2=setInterval(function(){this.$Bandicoot9()}.bind(this),i);this.$Bandicoot9();if(document.addEventListener)document.addEventListener("visibilitychange",this.$Bandicoot1);this.$Bandicoot10()};s.prototype.endSession=function(){__p&&__p();if(!this.storage)return;if(!this.$Bandicoot2)return;clearInterval(this.$Bandicoot2);this.$Bandicoot2=null;if(!this.$Bandicoot3)this.$Bandicoot11({status:l.CLOSED});this.sessionID=null;this.sessionStartTime=null;if(document.removeEventListener)document.removeEventListener("visibilitychange",this.$Bandicoot1)};s.prototype.logKnownCrashes=function(){__p&&__p();if(!this.storage)return;if(!this.$Bandicoot2){var t=this.$Bandicoot8();t=this.$Bandicoot12(t,function(u,v){if(o(u)){this.logCrash(v,u,this.getLogTimeData());return null}else return u}.bind(this));this.$Bandicoot13(t)}};s.prototype.$Bandicoot14=function(){var t=this.sessionID;t||h(0);return t};s.prototype.$Bandicoot9=function(){var t=this.$Bandicoot8();this.$Bandicoot15(t);t=this.$Bandicoot16(t);this.$Bandicoot13(t)};s.prototype.$Bandicoot15=function(t){var u=this.$Bandicoot14(),v=t[u]?t[u]:{};t[u]=babelHelpers["extends"]({},v,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$Bandicoot17()})};s.prototype.$Bandicoot12=function(t,u){var v={};Object.keys(t).forEach(function(w){var x=t[w];if(m(x)&&n(x)&&!p(x)){var y=u(x,w);if(y)v[w]=y}});return v};s.prototype.$Bandicoot16=function(t){__p&&__p();return this.$Bandicoot12(t,function(u,v){__p&&__p();if(o(u)){var w=u.loggerReportTime||0;if(Date.now()-w>j){u.loggerReportTime=Date.now();u.loggerReportSession=this.$Bandicoot14()}else if(u.loggerReportSession==this.$Bandicoot14()){this.logCrash(v,u,this.getLogTimeData());this.$Bandicoot4[v]=true;return null}}return u}.bind(this))};s.prototype.$Bandicoot8=function(t){t=t||this.$Bandicoot5;var u=this.storage.getItem(t)||"{}";try{u=JSON.parse(u)}catch(v){u={};this.storage.removeItem(t);c("FBLogger")("bandicoot").catching(v).warn("Invalid JSON data")}return u};s.prototype.$Bandicoot11=function(t){t.lastUpdated=Date.now();var u=this.$Bandicoot8(),v=this.sessionID;if(v&&u[v]){Object.assign(u[v],t);this.$Bandicoot13(u)}};s.prototype.$Bandicoot13=function(t){__p&&__p();var u=JSON.stringify(t);try{this.storage.setItem(this.$Bandicoot5,u)}catch(v){var w=this.$Bandicoot6,x=Date.now();if(!w||x>w+i){this.logTrackingError();this.$Bandicoot6=x}try{this.storage.removeItem(this.$Bandicoot5)}catch(y){this.$Bandicoot3=true;this.endSession();c("FBLogger")("bandicoot").catching(y).warn("Removing from storage failed")}}};s.prototype.$Bandicoot10=function(){__p&&__p();for(var t=0;t<this.storage.length;++t){var u=this.storage.key(t);if(u.indexOf(k)===0&&u!==this.$Bandicoot5){var v=this.$Bandicoot8(u),w=Object.keys(v).every(function(x){var y=v[x];return!m(y)||p(y)});if(w)this.storage.removeItem(u)}}};s.prototype.$Bandicoot7=function(){this.$Bandicoot11({status:this.$Bandicoot17()})};s.prototype.$Bandicoot17=function(){return document.hidden?l.INACTIVE:l.ACTIVE};f.exports=s}),null);
__d("Facepile.react",["cx","fbt","ix","intlSummarizeNumber","joinClasses","HovercardLink","Image.react","Link.react","List.react","React"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("React").PropTypes,l={small:24,medium:32,large:50},m=c("React").createClass({displayName:"Facepile",defaultProps:{moreColor:"blue",moreCount:0,showHovercard:false,tooltipPosition:"above",showToolTip:true,spacing:"none"},propTypes:{className:k.string,moreColor:k.oneOf(["blue","gray"]),moreCount:k.number,moreDialogLink:k.string,morePageLink:k.string,numFaces:k.number,onFaceClick:k.func,onComponentDidMount:k.func,profiles:k.arrayOf(k.shape({URL:k.any,name:k.node.isRequired,uniqueID:k.any.isRequired,profilePicURI:k.any.isRequired})).isRequired,showHovercard:k.bool,size:k.oneOf([28,"small","medium","large"]).isRequired,spacing:k.oneOf(["none","small","medium","large"]),showToolTip:k.bool,tooltipPosition:k.oneOf(["above","below","left","right"])},_onFaceClick:function n(o,p){if(this.props.onFaceClick)this.props.onFaceClick(o,p)},componentDidMount:function n(){if(this.props.onComponentDidMount)this.props.onComponentDidMount()},getPicSize:function n(){return l[this.props.size]||this.props.size},renderFace:function n(o,p){var q=this.getPicSize(),r=c("HovercardLink").constructEndpoint({id:o.uniqueID}).toString();return c("React").createElement("li",{className:"_43q7",key:o.uniqueID,onClick:this._onFaceClick.bind(this,o,p)},c("React").createElement(c("Link.react"),{"aria-label":o.name,className:"_2rt_ link","data-hover":!this.props.showHovercard?"tooltip":null,"data-hovercard":this.props.showHovercard?r:null,"data-ignoreclass":"_2rt_","data-tooltip-alignh":"left","data-tooltip-content":o.name,"data-tooltip-position":this.props.tooltipPosition,href:o.URL},c("React").createElement(c("Image.react"),{src:o.profilePicURI,width:q,height:q,className:"img"})))},renderMore:function n(){__p&&__p();if(!this.props.moreCount)return null;var o=this.props.numFaces!=null&&this.props.numFaces<=this.props.profiles.length?this.props.moreCount+1:this.props.moreCount,p=c("intlSummarizeNumber")(o,0),q=p.length,r;if(o===0||this.props.size==="small"&&q>2||this.props.size===28&&q>2||this.props.size==="medium"&&q>3||this.props.size==="large"&&q>6)r=c("React").createElement(c("Image.react"),{src:j("97502")});else r="+"+p;var s;if(this.props.showToolTip===undefined||this.props.showToolTip===true)if(o===1)s=i._("1 ng\u01b0\u1eddi kh\u00e1c");else s=i._("{num} ng\u01b0\u1eddi kh\u00e1c",[i._param("num",o)]);var t=c("joinClasses")("_43q8 _43q7"+(q<2?" _43qa":"")+(q===2?" _43qb":"")+(q===3?" _43qd":"")+(q>3?" _43qe":"")+(this.props.moreColor==="blue"?" _49c8":"")+(this.props.moreColor==="gray"?" _49cb":""));return c("React").createElement("li",{className:t},c("React").createElement("a",{"data-hover":s?"tooltip":null,"data-tooltip-position":s?"right":null,"data-tooltip-content":s,ajaxify:this.props.moreDialogLink||this.props.morePageLink,href:this.props.morePageLink,role:"button",rel:this.props.moreDialogLink?"dialog":null},r))},render:function n(){var o=this.props.spacing||this.defaultProps.spacing,p=c("joinClasses")(this.props.className,"_43qm"+(this.props.size==28?" _3cxu":"")+(this.props.size=="small"?" _43q9":"")+(this.props.size=="medium"?" _43qc":"")+(this.props.size=="large"?" _43qf":"")+(o!=this.defaultProps.spacing?" _4nab":"")),q=this.props.numFaces==undefined?this.props.profiles:this.props.profiles.slice(0,this.props.moreCount?this.props.numFaces-1:this.props.numFaces);return c("React").createElement("div",{className:p,style:this.props.style},c("React").createElement(c("List.react"),{className:"_4cg3",direction:"horizontal",spacing:this.props.spacing||"none",border:"none"},q.map(this.renderFace),this.renderMore()))}});f.exports=m}),null);
__d("DOMClone",[],(function a(b,c,d,e,f,g){__p&&__p();var h={shallowClone:function j(k){return i(k,false)},deepClone:function j(k){return i(k,true)}};function i(j,k){var l=j.cloneNode(k);if(typeof l.__FB_TOKEN!=="undefined")delete l.__FB_TOKEN;if(typeof l.__FB_STORE!=="undefined")delete l.__FB_STORE;return l}f.exports=h}),null);
__d("FileInput",["cx","ArbiterMixin","DOM","DOMClone","Event","Focus","Keys","UserAgent_DEPRECATED","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("UserAgent_DEPRECATED").ie();i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function l(m,n,o){"use strict";__p&&__p();j.constructor.call(this);this.container=m;this.control=n;var p=c("DOM").scry(this.container,"a")[0];p&&p.removeAttribute("href");var q=c("DOM").create("div",{className:"_3jk"},o);c("DOM").appendContent(this.control,q);this._boundHandleChange=this._handleChange.bind(this);if(k)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(o)}l.prototype.getValue=function(){"use strict";return this.input.value};l.prototype.getInput=function(){"use strict";return this.input};l.prototype.getContainer=function(){"use strict";return this.container};l.prototype.getControl=function(){"use strict";return this.control};l.prototype.clear=function(){"use strict";this.input.value="";if(this.input.value!==""){var m=c("DOMClone").deepClone(this.input);c("DOM").replace(this.input,m);this._setInputElement(m)}};l.prototype.destroy=function(){"use strict";__p&&__p();this._focus.remove();this._focus=null;this._listener.remove();this._listener=null;if(k){this._IEKeyDownListener.remove();this._IEKeyDownListener=null}this.container=null;this.control=null;this.input=null};l.prototype._setInputElement=function(m){"use strict";__p&&__p();this.input=m;this._focus&&this._focus.remove();this._focus=c("Focus").relocate(m,this.control);this._listener&&this._listener.remove();this._listener=c("Event").listen(m,"change",this._boundHandleChange);if(k){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=c("Event").listen(m,"keydown",this._boundHandleIEKeyDown)}};l.prototype._handleChange=function(event){"use strict";this.inform("change",event);if(this.input){var m=this.input.form;if(m&&k<9)c("Event").fire(m,"change",event)}};l.prototype._handleIEKeyDown=function(event){"use strict";if(event.keyCode===c("Keys").RETURN){event.preventDefault();var m=document.createEvent("MouseEvents");m.initEvent("click",true,true);this.input.dispatchEvent(m)}};f.exports=l}),null);
__d("FileInput.react",["cx","invariant","FileInput","InlineBlock.react","React","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getFileInput=function(){return this.$FileInput1}.bind(this),this.focus=function(){var s=c("ReactDOM").findDOMNode(this.refs.fileInput);if(!s.disabled)s.focus()}.bind(this),o}m.prototype.render=function(){"use strict";var n=c("joinClasses")("_m",this.props.containerClassName),o="container",p=c("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"file",className:c("joinClasses")(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==="block")return c("React").createElement("div",{className:n,ref:o},this.props.children,p);else if(this.props.display==="inline-block")return c("React").createElement(c("InlineBlock.react"),{className:n,ref:o},this.props.children,p);else return c("React").createElement("span",{className:n,ref:o},this.props.children,p)};m.prototype.componentDidMount=function(){"use strict";var n=c("ReactDOM").findDOMNode(this.refs.fileInput),o=c("ReactDOM").findDOMNode(this.refs.container),p=o.firstChild;p.nodeName==="A"||i(0);p.setAttribute("rel","ignore");this.$FileInput1=new(c("FileInput"))(o,p,n)};m.prototype.componentWillUnmount=function(){"use strict";this.$FileInput1.destroy();this.$FileInput1=null};m.propTypes={containerClassName:l.string,display:l.oneOf(["block","inline-block","inline"])};m.defaultProps={display:"inline-block"};f.exports=m}),null);
__d("TooltipMixin",["React","ReactDOM","TooltipData","DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes;function i(k){var l=k.tooltip;return l!=null&&c("React").isValidElement(l)}var j={propTypes:{tooltip:h.oneOfType([h.element,h.string]),position:h.oneOf(["above","below","left","right"]),alignH:h.oneOf(["left","center","right"])},getInitialState:function k(){return{tooltipContainer:i(this.props)?c("DOM").create("div"):null}},UNSAFE_componentWillReceiveProps:function k(l){var m=i(l),n=this.state.tooltipContainer;if(n&&!m)this.setState({tooltipContainer:null});else if(!n&&m)this.setState({tooltipContainer:c("DOM").create("div")})},componentDidMount:function k(){this._updateTooltip()},componentDidUpdate:function k(l,m){if(m.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(m.tooltipContainer);this._updateTooltip()},_updateTooltip:function k(){var l;if(i(this.props)){l=this.state.tooltipContainer;c("ReactDOM").render(this.props.tooltip,l)}else l=this.props.tooltip;if(l!=null)c("TooltipData").set(c("ReactDOM").findDOMNode(this),l,this.props.position,this.props.alignH);else c("TooltipData").remove(c("ReactDOM").findDOMNode(this))},componentWillUnmount:function k(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);c("TooltipData").remove(c("ReactDOM").findDOMNode(this))},_cleanupContainer:function k(l){c("ReactDOM").unmountComponentAtNode(l)}};f.exports=j}),null);
__d("AbstractTextArea.react",["cx","AbstractTextField.react","React","TextAreaControl"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").Component,l=c("React").PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;m.prototype.componentDidUpdate=function(){"use strict";this.$AbstractTextArea2&&this.$AbstractTextArea2.onupdate()};m.prototype.componentWillUnmount=function(){"use strict";this.$AbstractTextArea2=null};m.prototype.render=function(){"use strict";return c("React").createElement(c("AbstractTextField.react"),this.props,c("React").createElement("textarea",{className:"_58an",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onKeyUp:this.props.onKeyUp,rows:this.props.rows,tabIndex:this.props.tabIndex,ref:function(n){this.$AbstractTextArea1=n;this.$AbstractTextArea3()}.bind(this)}))};m.prototype.$AbstractTextArea3=function(){"use strict";if(this.$AbstractTextArea1&&this.props.autoGrow&&!this.$AbstractTextArea2){var n=new(c("TextAreaControl"))(this.$AbstractTextArea1);n.setAutogrow(true);n.onupdate();this.$AbstractTextArea2=n}};m.prototype.focusInput=function(){"use strict";this.$AbstractTextArea1&&this.$AbstractTextArea1.focus()};m.prototype.blurInput=function(){"use strict";this.$AbstractTextArea1&&this.$AbstractTextArea1.blur()};m.prototype.getTextFieldDOM=function(){"use strict";return this.$AbstractTextArea1};m.prototype.getValue=function(){"use strict";return this.$AbstractTextArea1?this.$AbstractTextArea1.value:""};function m(){"use strict";i.apply(this,arguments)}m.propTypes=babelHelpers["extends"]({},c("AbstractTextField.react").propTypes,{autoGrow:l.bool});f.exports=m}),null);
__d("ComposerTargetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event",RECOMMENDATION:"recommendation",CRISIS:"crisis",FUNDRAISER:"fundraiser",EXAMPLE:"example",MARKETPLACE:"marketplace",ALBUM:"album",OTHER:"other"})}),null);
__d("ComposerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STATUS:"status",RESHARE:"reshare",UNKNOWN:"unknown",PHOTO:"photo",VIDEO:"video",INLINE:"inline",ADVANCED:"advanced"})}),null);
__d("ComposerWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CANCEL:"composer_cancel",COMPOSER_CANCEL_INTENT:"intent_composer_cancel",COMPOSER_ENTRY:"composer_entry",COMPOSER_NOT_RENDERED:"composer_not_renderer",COMPOSER_POST:"composer_post",COMPOSER_POST_CANCEL:"composer_post_cancel",COMPOSER_POST_FAILURE:"composer_post_failure",COMPOSER_POST_FAILURE_FATAL:"composer_post_fatal_failure",COMPOSER_POST_FAILURE_GIVEUP:"composer_post_giveup_failure",COMPOSER_POST_SUCCESS:"composer_post_success",COMPOSER_POST_COMPLETED:"composer_post_completed",COMPOSER_WRITTEN:"composer_written",ALBUM_ADD:"add_album",ALBUM_CANCEL:"cancel_album",ALBUM_INTENT:"intent_album",ALBUM_REMOVE:"remove_album",FRIEND_TAG_ADD:"add_friend_tag",FRIEND_TAG_CANCEL:"cancel_friend_tag",FRIEND_TAG_INTENT:"intent_friend_tag",FRIEND_TAG_REMOVE:"remove_friend_tag",FRIEND_TAG_SEARCH:"search_friend_tag",FRIEND_SHOW_MORE:"show_more_friend_tag",LOCATION_ADD:"add_location",LOCATION_CANCEL:"cancel_location",LOCATION_INTENT:"intent_location",LOCATION_REMOVE:"remove_location",LOCATION_SCROLL:"scroll_location",LOCATION_SEARCH:"search_location",MINUTIAE_ADD:"add_minutiae",MINUTIAE_CANCEL:"cancel_minutiae",MINUTIAE_CHANGE_ICON:"change_icon_minutiae",MINUTIAE_CHANGE_ICON_CANCEL:"change_icon_cancel_minutiae",MINUTIAE_CHANGE_ICON_INTENT:"change_icon_intent_minutiae",MINUTIAE_CHANGE_ICON_SEARCH:"change_icon_search_minutiae",MINUTIAE_INTENT:"intent_minutiae",MINUTIAE_REMOVE:"remove_minutiae",MINUTIAE_SCROLL:"scroll_minutiae",MINUTIAE_SEARCH:"search_minutiae",MINUTIAE_TYPE_CLICK:"type_click_minutiae",MINUTIAE_SEE_MORE:"see_more_minutiae",MINUTIAE_CHAIN_SKIP:"skip_chain_minutiae",MINUTIAE_CHAIN_SUGGEST:"suggest_chain_minutiae",MINUTIAE_ICONPICKER_QUERY:"minutiae_iconpicker_query",MINUTIAE_ICONPICKER_BOOTSTRAP:"minutiae_iconpicker_bootstrap",MINUTIAE_ICONPICKER_SELECT:"minutiae_iconpicker_select",MARKDOWN_INTENT:"markdown_intent",MEDIA_INTENT:"intent_media",MEDIA_CANCEL:"cancel_media",NAVIGATE_AWAY:"navigate_away",PHOTO_ADD:"add_photo",PHOTO_ADD_FAILURE:"add_photo_failure",PHOTO_ADD_SUCCESS:"add_photo_success",PHOTO_REMOVE:"remove_photo",PRIVACY_ADD:"add_privacy",PRIVACY_CANCEL:"cancel_privacy",VOICE_SWITCHER_CANCEL:"cancel_voice_switcher",PRIVACY_INTENT:"intent_privacy",PRIVACY_SCROLL:"scroll_privacy",PRIVACY_SEE_ALL_LISTS:"see_all_lists_privacy",SELECT_FRIEND_TIMELINE_INTENT:"intent_select_friend_timeline",SELECT_FRIEND_TIMELINE_ADD:"add_select_friend_timeline",SELECT_FRIEND_TIMELINE_CANCEL:"cancel_select_friend_timeline",SERVER_POST_BEGIN:"server_composer_post_begin",SERVER_POST_FAILURE:"server_composer_post_failure",SERVER_POST_SUCCESS:"server_composer_post_succeeded",POST_POST_WITH_TAG_BEGIN:"post_post_with_tag_begin",POST_POST_WITH_TAG_FAILURE:"post_post_with_tag_failure",POST_POST_WITH_TAG_SUCCESS:"post_post_with_tag_success",TARGET_SELECTOR_INTENT:"intent_target_selector",TARGET_SELECTOR_CANCEL:"cancel_target_selector",VIDEO_ADD:"add_video",VIDEO_ADD_FAILURE:"add_video_failure",VIDEO_ADD_SUCCESS:"add_video_success",VIDEO_REMOVE:"remove_video",FEATURE_INTENT:"composer_feature_intent",FEATURE_UPDATE:"composer_feature_update",FEATURE_CANCEL:"composer_feature_cancel",FEATURE_DONE:"composer_feature_done",SPROUTS_SCROLL:"inline_sprouts_scrolled_in_full_screen",SPROUTS_INITIAL:"inline_sprouts_initial_state",SPROUTS_STATE_CHANGE:"inline_sprouts_state_changed"})}),null);
__d("ComposerXSessionIDs",["cx","DOM","uuid"],(function a(b,c,d,e,f,g,h){var i={},j={getSessionID:function k(l){return i[l]},resetSessionID:function k(l){i[l]=c("uuid")()},createSessionIDInput:function k(l){return c("DOM").create("input",{type:"hidden",name:"composer_session_id",className:"_5r_b",value:l})}};f.exports=j}),null);
__d("ComposerXMarauderLogger",["Event","ComposerTargetType","ComposerType","ComposerWaterfallEvent","ComposerXSessionIDs","MarauderLogger","ShareModeConst"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=c("ComposerType").STATUS,j={logEvent:function k(l,m,n){__p&&__p();if(!n)n={};var o=h[m],p=c("ComposerXSessionIDs").getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true}var q=o.composerType?o.composerType:i,r=babelHelpers["extends"]({},n.extraData,{composer_type:q,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef,composer_source_surface:o.composerSourceSurface,is_edit_composer:o.isEditComposer===true});c("MarauderLogger").log(l,"composer",r,undefined,undefined,p)},registerComposer:function k(l,m,n){h[l.id]=Object.assign({targetID:m,loggedEventTypes:{}},n)},getInstance:function k(l){return h[l]},listenForPostEvents:function k(l,m){if(!m)return[];return[c("Event").listen(m,"submit",function(){j.logPost(l)}),c("Event").listen(m,"success",function(){j.logPostSuccess(l)}),c("Event").listen(m,"error",function(event){j.logPostFailure(l,{error_info:{error_code:event.data.response.error,error_description:event.data.response.errorDescription,error_summary:event.data.response.errorSummary}})})]},setShareMode:function k(l,m){__p&&__p();var n=h[l];if(!n)return;switch(m){case c("ShareModeConst").SELF_POST:n.targetType=c("ComposerTargetType").SELF_USER;break;case c("ShareModeConst").FRIEND:n.targetType=c("ComposerTargetType").OTHER_USER;break;case c("ShareModeConst").PAGE:case c("ShareModeConst").SELF_PAGE:n.targetType=c("ComposerTargetType").PAGE;break;case c("ShareModeConst").GROUP:n.targetType=c("ComposerTargetType").GROUP;break;default:n.targetType=c("ComposerTargetType").OTHER}},logEntry:function k(l,m){j.logEvent(c("ComposerWaterfallEvent").COMPOSER_ENTRY,l,{logOncePerSession:true,extraData:m})},logCompleted:function k(l,m){j.logEvent(c("ComposerWaterfallEvent").COMPOSER_POST_COMPLETED,l,{extraData:m})},logPost:function k(l,m){j.logEvent(c("ComposerWaterfallEvent").COMPOSER_POST,l,{extraData:m})},logPostSuccess:function k(l,m){j.logEvent(c("ComposerWaterfallEvent").COMPOSER_POST_SUCCESS,l,{extraData:m})},logPostFailure:function k(l,m){j.logEvent(c("ComposerWaterfallEvent").COMPOSER_POST_FAILURE,l,{extraData:m})}};f.exports=j}),null);
__d("getDelightRangesForContentState",["ContentState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i){__p&&__p();var j=0,k=[];i.getBlocksAsArray().forEach(function(l){__p&&__p();l.findEntityRanges(function(m){return true},function(m,n){var o=l.getEntityAt(m);if(!o)return;var p=i.getEntity(o);if(p.getType()!=="DELIGHT")return;if(p.getData().disabled)return;k.push({offset:j+m,length:n-m,campaignID:p.getData().campaignID})});j+=l.getLength()+1});return k};f.exports=h}),null);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function a(b,c,d,e,f,g){__p&&__p();var h="slice",i;if(i=c("UserAgent_DEPRECATED").chrome()){if(i<21)h="webkitSlice"}else if(i=c("UserAgent_DEPRECATED").firefox()){if(i<13)h="mozSlice"}else if(!(i=c("UserAgent_DEPRECATED").safari()))if(c("UserAgent_DEPRECATED").webkit())h="webkitSlice";f.exports=h}),null);
__d("FileHasher",["WebWorker","fileSliceName","emptyFunction","FileHashWorkerResource"],(function a(b,c,d,e,f,g){__p&&__p();h.isSupported=function(){"use strict";return c("WebWorker").isSupported()};function h(){"use strict";var i=c("FileHashWorkerResource");c("WebWorker").prepareResource(i);this.$FileHasher1=new(c("WebWorker"))(i).setMessageHandler(function(j){this.$FileHasher2(j)}.bind(this)).execute()}h.prototype.hash=function(i,j){"use strict";this.$FileHasher2=j;this.$FileHasher1.postMessage({file:i,fileSliceName:c("fileSliceName")});return this};h.prototype.destroy=function(){"use strict";this.$FileHasher2=c("emptyFunction");this.$FileHasher1.terminate()};f.exports=h}),null);
__d("GroupsPollDeleteOptionMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"GroupsQuestionOptionDeleteData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"groups_question_option_delete",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"GroupsQuestionOptionDeleteData!"}],concreteType:"GroupsQuestionOptionDeleteResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"deleted_option_id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"GroupsPollDeleteOptionMutation",id:"1939994219348819",text:null,metadata:{},fragment:{kind:"Fragment",name:"GroupsPollDeleteOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"GroupsPollDeleteOptionMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("PollAddOptionMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"QuestionAddOptionData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionAddOptionData!"}],k={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m=[l],n={kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:m},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},p=[o,l],q={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"PollAddOptionMutation",id:"1440670349365268",text:null,metadata:{},fragment:{kind:"Fragment",name:"PollAddOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:j,concreteType:"QuestionAddOptionResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_node",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:false,selections:[k,n,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:false,selections:m}]}]}]},operation:{kind:"Operation",name:"PollAddOptionMutation",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:j,concreteType:"QuestionAddOptionResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[l,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:p},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],concreteType:"QuestionOptionsConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"QuestionOptionVotersConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[l,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[r]},o]},k]},s]},{kind:"LinkedHandle",alias:null,name:"voters",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},r]},l]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},o]},k]},s]},{kind:"LinkedHandle",alias:null,name:"options",args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:false,selections:[k,n,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:false,selections:p}]}]}]}}}();f.exports=h}),null);
__d("PollAddVoteMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"QuestionAddVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionAddVoteData!"}],k={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"voters",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:false,selections:[l]},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"PollAddVoteMutation",id:"1771830122850987",text:null,metadata:{},fragment:{kind:"Fragment",name:"PollAddVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:j,concreteType:"QuestionAddVoteResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[k,m]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_node",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]}]},operation:{kind:"Operation",name:"PollAddVoteMutation",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:j,concreteType:"QuestionAddVoteResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[k,m,n]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[n,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:[o,n]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],concreteType:"QuestionOptionsConnection",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[n,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},k,{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"QuestionOptionVotersConnection",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[p]},o]},q]},r]},{kind:"LinkedHandle",alias:null,name:"voters",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},p]},n]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},o]},q]},r]},{kind:"LinkedHandle",alias:null,name:"options",args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]}}}();f.exports=h}),null);
__d("PollAttachmentComponentRefetchQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"questionID",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[n]},p={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},q={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"PollAttachmentComponentRefetchQuery",id:"1623554927705909",text:null,metadata:{},fragment:{kind:"Fragment",name:"PollAttachmentComponentRefetchQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_node",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]},operation:{kind:"Operation",name:"PollAttachmentComponentRefetchQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,l,m,o,{kind:"InlineFragment",type:"User",selections:[p]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[k,l,{kind:"InlineFragment",type:"Question",selections:[{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,l]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],concreteType:"QuestionOptionsConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"QuestionOptionVotersConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[l,m,{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},p,o,k]},r]},s]},{kind:"LinkedHandle",alias:null,name:"voters",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},n]},l]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},k]},r]},s]},{kind:"LinkedHandle",alias:null,name:"options",args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]}}}();f.exports=h}),null);
__d("PollAttachmentComponent_node.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},n={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Fragment",name:"PollAttachmentComponent_node",type:"Question",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:null},{count:"first",cursor:null,direction:"forward",path:["options"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"ordering",type:"[QuestionOptionsOrdering]",defaultValue:["vote_count"]}],selections:[i,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:[i]},{kind:"LinkedField",alias:"options",name:"__PollAttachmentComponent_options_connection",storageKey:null,args:null,concreteType:"QuestionOptionsConnection",plural:false,selections:[j,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[i,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:"voters",name:"__PollAttachmentComponent_options_voters_connection",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:false,selections:[j,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[i,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[k]},l]},m]},n]},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},k]}]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},l]},m]},n]}]}}();f.exports=h}),null);
__d("PollAttachmentComponent_viewer.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"PollAttachmentComponent_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'}]}]}]};f.exports=h}),null);
__d("PollAttachmentQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"questionID",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[n]},p={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},q={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"PollAttachmentQuery",id:"1949733628400832",text:null,metadata:{},fragment:{kind:"Fragment",name:"PollAttachmentQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_node",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]},operation:{kind:"Operation",name:"PollAttachmentQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:false,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,l,m,o,{kind:"InlineFragment",type:"User",selections:[p]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[k,l,{kind:"InlineFragment",type:"Question",selections:[{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:[k,l]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],concreteType:"QuestionOptionsConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"QuestionOptionVotersConnection",plural:false,selections:[q,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[l,m,{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},p,o,k]},r]},s]},{kind:"LinkedHandle",alias:null,name:"voters",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},n]},l]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},k]},r]},s]},{kind:"LinkedHandle",alias:null,name:"options",args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]}}}();f.exports=h}),null);
__d("PollRemoveVoteMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"QuestionRemoveVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],j=[{kind:"Variable",name:"data",variableName:"input",type:"QuestionRemoveVoteData!"}],k={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"voters",storageKey:null,args:null,concreteType:"QuestionOptionVotersConnection",plural:false,selections:[l]},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:false,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",operationKind:"mutation",name:"PollRemoveVoteMutation",id:"1798872650137018",text:null,metadata:{},fragment:{kind:"Fragment",name:"PollRemoveVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:j,concreteType:"QuestionRemoveVoteResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[k,m]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_node",args:[{kind:"Variable",name:"first",variableName:"first",type:null}]}]}]}]},operation:{kind:"Operation",name:"PollRemoveVoteMutation",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:j,concreteType:"QuestionRemoveVoteResponsePayload",plural:false,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[k,m,n]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:false,selections:[n,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"poll_answers_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:false,selections:[o,n]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],concreteType:"QuestionOptionsConnection",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:false,selections:[n,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:false,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},k,{kind:"LinkedField",alias:null,name:"voters",storageKey:"voters(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"QuestionOptionVotersConnection",plural:false,selections:[l,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionVotersEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:false,selections:[n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32,type:"Int"}],concreteType:"Image",plural:false,selections:[p]},o]},q]},r]},{kind:"LinkedHandle",alias:null,name:"voters",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],handle:"connection",key:"PollAttachmentComponent_options_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:false,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:false,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},p]},n]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},o]},q]},r]},{kind:"LinkedHandle",alias:null,name:"options",args:[{kind:"Variable",name:"first",variableName:"first",type:"Int"},{kind:"Literal",name:"orderby",value:["vote_count"],type:"[QuestionOptionsOrdering]"}],handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]}}}();f.exports=h}),null);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$PhotoUploadFacerecWaterfallTypedLogger1)};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers["extends"]({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h}),null);
__d("UserScheduledPostsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$UserScheduledPostsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$UserScheduledPostsTypedLogger1,c("Banzai").VITAL)};h.prototype.logImmediately=function(){c("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$UserScheduledPostsTypedLogger1,{signal:true})};h.prototype.clear=function(){this.$UserScheduledPostsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$UserScheduledPostsTypedLogger1)};h.prototype.updateData=function(j){this.$UserScheduledPostsTypedLogger1=babelHelpers["extends"]({},this.$UserScheduledPostsTypedLogger1,j);return this};h.prototype.setAction=function(j){this.$UserScheduledPostsTypedLogger1.action=j;return this};h.prototype.setAppID=function(j){this.$UserScheduledPostsTypedLogger1.app_id=j;return this};h.prototype.setContent=function(j){this.$UserScheduledPostsTypedLogger1.content=j;return this};h.prototype.setJobInstance=function(j){this.$UserScheduledPostsTypedLogger1.job_instance=j;return this};h.prototype.setPostAttachmentType=function(j){this.$UserScheduledPostsTypedLogger1.post_attachment_type=j;return this};h.prototype.setPostID=function(j){this.$UserScheduledPostsTypedLogger1.post_id=j;return this};h.prototype.setPublishTime=function(j){this.$UserScheduledPostsTypedLogger1.publish_time=j;return this};h.prototype.setVC=function(j){this.$UserScheduledPostsTypedLogger1.vc=j;return this};var i={action:true,app_id:true,content:true,job_instance:true,post_attachment_type:true,post_id:true,publish_time:true,vc:true};f.exports=h}),null);
__d("ErrorDialog",["Dialog","emptyFunction"],(function a(b,c,d,e,f,g){var h={showAsyncError:function i(j){try{return h.show(j.getErrorSummary(),j.getErrorDescription())}catch(k){alert(j)}},show:function i(j,k,l,m){return new(c("Dialog"))().setTitle(j).setBody(k).setButtons([c("Dialog").OK]).setStackable(true).setModal(true).setHandler(l||c("emptyFunction")).setButtonsMessage(m||"").show()}};f.exports=h}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","shield"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(m){var n={},o=c("DOMQuery").scry(m,'input[type="file"]');o.forEach(function(p){n[p.name]=p.files});return n}function k(m){var n=c("DOMQuery").scry(m,'input[type="file"]');n.forEach(function(o){o.files=null})}h=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function l(m,n,o){"use strict";__p&&__p();i.constructor.call(this);this._handleSubmit=function(event){if(event.isDefaultPrevented()||event.getTarget()!==this._form)return;if(this.inform("submit")===false){event.prevent();return}this.submit(event)}.bind(this);if(m.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if(m.getAttribute("method").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");this._form=m;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding="multipart/form-data";this._files=null;this._customHeader={};n&&this.enableBehaviors(n);this._options=o||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[c("Event").listen(document.documentElement,"submit",this._handleSubmit),c("Event").listen(this._form,"click",this._click.bind(this))];c("DataStore").set(this._form,"FileForm",this)}l.prototype.getRoot=function(){"use strict";return this._form};l.prototype.setAllowCrossOrigin=function(m){"use strict";this._allowCrossOrigin=!!m;return this};l.prototype.setAllowCrossPageTransition=function(m){"use strict";this._allowCrossPageTransition=!!m;return this};l.prototype.setUploadInParallel=function(m){"use strict";this._uploadInParallel=!!m;return this};l.prototype.setConcurrentLimit=function(m){"use strict";this._concurrentLimit=m;return this};l.prototype.setCustomHttpHeader=function(m,n){"use strict";this._customHeader[m]=n;return this};l.prototype.setPreprocessHandler=function(m){"use strict";this._preprocessHandler=m;return this};l.prototype.setNetworkErrorRetryLimit=function(m){"use strict";this._retryLimit=m;return this};l.prototype.setFiles=function(m){"use strict";this._files=m;return this};l.prototype.canUseXHR=function(){"use strict";var m="FormData"in window;if(m)if(!new(c("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin)m=false;return m};l.prototype._click=function(event){"use strict";__p&&__p();var m=event.getTarget();while(c("isElementNode")(m)){if(m.type==="submit"){this._clickTarget=m;setTimeout(this._unclick.bind(this),0);break}m=m.parentNode}};l.prototype._unclick=function(){"use strict";this._clickTarget=null};l.prototype._sendViaFrame=function(){"use strict";__p&&__p();var m=this._request=new(c("AsyncRequest"))();m.setStatusElement(this._getStatusElement());m.addStatusIndicator();m.setOption("useIframeTransport",true);var n=m.handleResponse.bind(m),o=new(c("JSONPTransport"))("iframe",this._form.action,n),p=o.getTransportFrame(),q=o.getRequestURI().addQueryData({__iframe:true,__user:c("CurrentUser").getID()});this._form.setAttribute("action",q.toString());o.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",p.name);m.setJSONPTransport(o);m.setURI(q);m.setHandler(this.success.bind(this,null));m.setErrorHandler(this.failure.bind(this,null));m.setInitialHandler(c("shield")(this.initial,this,null))};l.prototype._sendViaXHR=function(event){"use strict";__p&&__p();var m;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){m=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(c("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var n in this._customHeader)m.setCustomHttpHeader(n,this._customHeader[n]);if(this._concurrentLimit)m.setLimit(this._concurrentLimit);if(this._files)m.setFiles(this._files);else m.setFiles(j(this._form));var o=[m.subscribe("progress",function(s,t){this.progress(t,t.getProgressEvent())}.bind(this)),m.subscribe("initial",function(s,t){this.initial(t,t.getResponse())}.bind(this)),m.subscribe("success",function(s,t){this.success(t,t.getResponse())}.bind(this)),m.subscribe("start",function(s,t){this.inform("start",{upload:t})}.bind(this)),m.subscribe("failure",function(s,t){this.failure(t,t.getResponse());return false}.bind(this)),m.subscribe("complete",function(){while(o.length)o.pop().unsubscribe()})]}else{var p;if(this._files){p=c("Form").createFormData(c("Form").serialize(this._form,this._clickTarget));var q=c("AsyncUploadRequest").parseFiles(this._files);for(var n in q){var r=q[n];if(r.length===1)p.append(n,r[0]);else{n=n+"[]";r.forEach(function(s){p.append(n,s)})}}}else p=c("Form").createFormData(this._form,this._clickTarget);m=new(c("AsyncRequest"))().setRawData(p).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(c("shield")(this.initial,this,null))}m.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=m;event&&event.prevent()};l.prototype.forceSendViaXHR=function(){"use strict";return this._sendViaXHR(null)};l.prototype.initial=function(m){"use strict";return this.inform("initial",{upload:m})};l.prototype.success=function(m,n){"use strict";var o={response:n,upload:m};if(this.inform("success",o)!==false)c("Event").fire(this._form,"success",o);this._cleanup()};l.prototype.failure=function(m,n){"use strict";var o={response:n,upload:m};if(this.inform("failure",o)!==false)if(c("Event").fire(this._form,"error",o)!==false)c("AsyncResponse").defaultErrorHandler(n);this._cleanup()};l.prototype.progress=function(m,event){"use strict";this.inform("progress",{event:event,upload:m})};l.prototype.abort=function(){"use strict";if(this._request){this._request.abort();this._cleanup()}};l.prototype.clear=function(){"use strict";k(this._form)};l.prototype.destroy=function(){"use strict";this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;c("DataStore").remove(this._form,"FileForm")};l.prototype.submit=function(event){"use strict";this.canUseXHR()?this._sendViaXHR(event):this._sendViaFrame()};l.prototype._cleanup=function(){"use strict";this._request=null};l.prototype._getStatusElement=function(){"use strict";return c("Parent").byClass(this._form,"stat_elem")||this._form};l.getInstance=function(m){"use strict";return c("DataStore").get(m,"FileForm")};Object.assign(l,{EVENTS:["start","submit","initial","progress","success","failure"]});f.exports=l}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this._inputElem=k;this._data={}}j.prototype.setInput=function(k){"use strict";this._inputElem=k;return this};j.prototype.setURI=function(k){"use strict";this._uri=k;return this};j.prototype.setData=function(k){"use strict";this._data=k;return this};j.prototype.setPreprocessHandler=function(k){"use strict";this._preprocessHandler=k;return this};j.prototype.setNetworkErrorRetryLimit=function(k){"use strict";this._retryLimit=k;return this};j.prototype.setFiles=function(k){"use strict";this._files=k;return this};j.prototype.setAllowCrossOrigin=function(k){"use strict";this._allowCrossOrigin=!!k;return this};j.prototype.setAllowCrossPageTransition=function(k){"use strict";this._allowCrossPageTransition=!!k;return this};j.prototype.setUploadInParallel=function(k){"use strict";this._uploadInParallel=!!k;return this};j.prototype.setConcurrentLimit=function(k){"use strict";this._concurrentLimit=k;return this};j.prototype.abort=function(){"use strict";if(this._fileForm){this._fileForm.abort();this._destroyFileForm()}};j.prototype.send=function(){"use strict";__p&&__p();this._createForm();var k=!this._inputElem.parentElement;if(!k){var l=this._inputElem.cloneNode(false);c("DOM").replace(this._inputElem,l)}c("DOM").appendContent(this._formElem,this._inputElem);c("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();if(!k)c("DOM").replace(l,this._inputElem);this._removeFormEl()};j.prototype._onFileFormEvent=function(k,l){"use strict";if(k==="success"||k==="failure")this._destroyFileForm();return this.inform(k,l)};j.prototype._createForm=function(){"use strict";this._destroyFileForm();this._formElem=c("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(c("FileForm"))(this._formElem,null,{allowCrossOrigin:this._allowCrossOrigin,allowCrossPageTransition:this._allowCrossPageTransition,uploadInParallel:this._uploadInParallel,concurrentLimit:this._concurrentLimit,preprocessHandler:this._preprocessHandler,networkErrorRetryLimit:this._retryLimit});if(this._files)this._fileForm.setFiles(this._files);this._fileForm.subscribe(c("FileForm").EVENTS,this._onFileFormEvent.bind(this));c("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:c("DTSG").getToken()},this._data),this._formElem)};j.prototype._removeFormEl=function(){"use strict";c("DOM").remove(this._formElem);this._formElem=null};j.prototype._destroyFileForm=function(){"use strict";if(this._fileForm){this._fileForm.destroy();this._fileForm=null}};f.exports=j}),null);
__d("PhotosUploadID",[],(function a(b,c,d,e,f,g){var h=1024,i={getNewID:function j(){return(h++).toString()}};f.exports=i}),null);
__d("Poller",["ArbiterMixin","AsyncRequest","CurrentUser","TimeSlice","clearTimeout","emptyFunction","mixin","setTimeoutAcrossTransitions","setTimeout"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(l){"use strict";__p&&__p();i.constructor.call(this);this._config=babelHelpers["extends"]({clearOnQuicklingEvents:true,setupRequest:c("emptyFunction"),maxRequests:Infinity},l);this._handle=null;this._isSkipIndefinitely=false;this._hasSkippedRequest=false;this._requests=0;this._muted=false;this._polling=false;this._skip=false;this._cancelRequest=c("emptyFunction");if(!this._config.dontStart)this.start()}j.prototype.start=function(){"use strict";if(this._polling)return this;this._requests=0;this.request();return this};j.prototype.stop=function(){"use strict";this._cancelRequest();return this};j.prototype.mute=function(){"use strict";this._muted=true;return this};j.prototype.resume=function(){"use strict";__p&&__p();if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request()}if(this._isSkipIndefinitely){this._isSkipIndefinitely=false;return this.request()}return this};j.prototype.skip=function(){"use strict";this._skip=true;return this};j.prototype.startSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=true;return this};j.prototype.stopSkipIndefinitely=function(){"use strict";this._isSkipIndefinitely=false;if(this._hasSkippedRequest)return this.request();else return this};j.prototype.isSkipIndefinitely=function(){"use strict";return this._isSkipIndefinitely};j.prototype.reset=function(){"use strict";return this.stop().start()};j.prototype.request=function(){"use strict";__p&&__p();this._cancelRequest();this._polling=true;if(!this._config.allowNotLoggedIn&&!k())return this._done();if(this._muted)return this;var l=false;this._cancelRequest=function(){l=true;this._cleanup()}.bind(this);if(this._isSkipIndefinitely){this._deferRequest();this._hasSkippedRequest=true;return this}else this._hasSkippedRequest=false;if(++this._requests>this._config.maxRequests)return this._done();var m=new(c("AsyncRequest"))();m.setIsBackgroundRequest(true);m.setInitialHandler(function(){return!l});m.setFinallyHandler(this._deferRequest.bind(this));m.setInitialHandler=c("emptyFunction");m.setFinallyHandler=c("emptyFunction");this._config.setupRequest(m,this);if(this._skip){this._skip=false;c("setTimeoutAcrossTransitions")(this._deferRequest.bind(this),0)}else m.send();return this};j.prototype.isPolling=function(){"use strict";return this._polling};j.prototype.isMuted=function(){"use strict";return this._muted};j.prototype.setInterval=function(l){"use strict";if(l){this._config.interval=l;this.start()}};j.prototype.getInterval=function(){"use strict";return this._config.interval};j.prototype._cleanup=function(){"use strict";if(this._handle!==null)c("clearTimeout")(this._handle);this._handle=null;this._cancelRequest=c("emptyFunction");this._polling=false};j.prototype._done=function(){"use strict";this._cleanup();this.inform("done",{sender:this});return this};j.prototype._deferRequest=function(){"use strict";__p&&__p();if(!this._polling)return;if(this._requests<this._config.maxRequests){var l=this._config.interval;l=typeof l==="function"?l(this._requests):l;l=l>j.MIN_INTERVAL?l:j.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents)this._handle=c("setTimeout")(c("TimeSlice").guard(function(){this.request()}.bind(this),"Poller setTimeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),l);else this._handle=c("setTimeoutAcrossTransitions")(c("TimeSlice").guard(function(){this.request()}.bind(this),"Poller setTimeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),l)}else this._done()};j.MIN_INTERVAL=2e3;function k(){return c("CurrentUser").isLoggedInNow()}f.exports=j}),null);
__d("fileSlice",["fileSliceName"],(function a(b,c,d,e,f,g){var h=b.File&&b.File.prototype[c("fileSliceName")];if(!h)h=b.Blob&&b.Blob.prototype[c("fileSliceName")];f.exports=h}),null);
__d("submitForm",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i){var j=c("DOM").scry(i,'input[type="submit"]')[0];if(j)j.click();else{j=c("DOM").create("input",{type:"submit",className:"hidden_elem"});c("DOM").appendContent(i,j);j.click();c("DOM").remove(j)}};f.exports=h}),null);
__d("SpotlightViewerLoggingEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOADED:"loaded",LOADING:"loading",ERROR:"error",ABORT:"abort",OPEN_BEGIN:"open_begin",OPEN_COMPLETE:"open_complete",CLOSE_BEGIN:"close_begin",CLOSE_COMPLETE:"close_complete",PAGE_BEGIN:"page_begin",PAGE_COMPLETE:"page_complete",PHOTO_CHANGE_BEGIN:"photo_change_begin",PHOTO_CHANGE_COMPLETE:"photo_change_complete",DATA_FETCH_BEGIN:"data_fetch_begin",DATA_FETCH_COMPLETE:"data_fetch_complete",PHOTO_FETCH:"photo_fetch"})}),null);
__d("PhotoLogger",["Event","Banzai","BanzaiScuba","SpotlightViewerLoggingEvents","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$PhotoLogger1=i;this.$PhotoLogger2={}}h.prototype.log=function(i,j,k,l){"use strict";c("Banzai").post("profile_photos_view",{photo_fbid:j,source:k,profile_id:l});if(!this.$PhotoLogger2[i]){this.$PhotoLogger3(i);this.$PhotoLogger2[i]=true}};h.prototype.$PhotoLogger3=function(i){"use strict";__p&&__p();this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").LOADING,{uri:i});var j=new(c("SubscriptionsHandler"))(),k=new Image();j.addSubscriptions(c("Event").listen(k,"load",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").LOADED,{uri:i});j.release()}.bind(this)),c("Event").listen(k,"error",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").ERROR,{uri:i});j.release()}.bind(this)),c("Event").listen(k,"abort",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").ABORT,{uri:i});j.release()}.bind(this)));k.src=i};h.prototype.logEvent=function(i){"use strict";this.$PhotoLogger4(i)};h.prototype.$PhotoLogger4=function(i,j){"use strict";var k=new(c("BanzaiScuba"))("photos_client_loading",null,{addBrowserFields:true});k.addNormal("event",i);k.addNormal("viewer",this.$PhotoLogger1);for(var l in j)k.addNormal(l,j[l]);k.post()};f.exports=h}),null);
__d("PhotoUtils",["Event","URI"],(function a(b,c,d,e,f,g){__p&&__p();var h={getImagesFromData:function i(j){var k=[];for(var l in j)if(l.indexOf("image")===0)k.push(j[l]);return k},getFBIDFromData:function i(j){return j&&j.id},getOriginalImageFromData:function i(j){return j.original||j.download_image},getDownloadURLFromData:function i(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new(c("URI"))(k.uri);l.addQueryData({dl:1});return l},getPermalinkFromData:function i(j){return j.permalink},canViewerMakeCoverPhoto:function i(j){return!!j.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function i(j){return new(c("URI"))("/profile.php").addQueryData({preview_cover:h.getFBIDFromData(j)})},preload:function i(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&c("Event").listen(p,"load",l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri}}};f.exports=h}),null);
__d("PhotoViewState",["ArbiterMixin","PhotoStore","PhotoUtils","SpotlightViewerLoggingEvents","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m){"use strict";__p&&__p();i.constructor.call(this);var n=m||{};this._viewer=k;this._setID=l;this._position=n.position||0;this._preventPreload=n.preventPreload;this._reverse=n.reverse;this._updateCallback=n.updateCallback;this._preloaded={}}j.prototype._fetchCallback=function(k){"use strict";if(!this._viewer.isOpen())return;this._preload(k);this._log(c("SpotlightViewerLoggingEvents").DATA_FETCH_COMPLETE)};j.prototype._preload=function(k){"use strict";c("PhotoUtils").preload(this._viewer,k,function(l){this._preloaded[c("PhotoUtils").getFBIDFromData(l)]=true}.bind(this))};j.prototype._preloadPhotosInRange=function(k,l){"use strict";var m=[];for(var n=k;n<=l;++n){var o=c("PhotoStore").getByIndexImmediate(this._setID,n);if(o&&!this._isPreloaded(o))m.push(o)}this._preload(m)};j.prototype._isPreloaded=function(k){"use strict";return this._preloaded[c("PhotoUtils").getFBIDFromData(k)]};j.prototype.getPosition=function(){"use strict";return this._position};j.prototype.isValidMovement=function(k){"use strict";if(!c("PhotoStore").hasBeenCreated(this._setID))return false;if(c("PhotoStore").hasLooped(this._setID))return true;var l=this._position+k,m=c("PhotoStore").getAvailableRange(this._setID),n=m.offset+m.length-1;return l>=m.offset-1&&l<=n+1};j.prototype.getRelativeMovement=function(k){"use strict";return c("PhotoStore").getIndexForID(this._setID,k)-this._position};j.prototype.moveCursor=function(k){"use strict";if(!this.isValidMovement(k))return false;this._position+=k;return true};j.prototype._page=function(k){"use strict";__p&&__p();if(!this.moveCursor(k))return;this._log(c("SpotlightViewerLoggingEvents").PAGE_BEGIN);var l=c("PhotoStore").getByIndexImmediate(this._setID,this._position);if(!l){this.inform("photo_fetch");this._log(c("SpotlightViewerLoggingEvents").PHOTO_FETCH)}else if(!this._isPreloaded(l))this._preload([l]);c("PhotoStore").getByIndex(this._setID,this._position,this._updateCallback);this._loadMoreIfNecessary(k>0,j.BUFFER_SIZE);this._log(c("SpotlightViewerLoggingEvents").PAGE_COMPLETE)};j.prototype.loadMoreForwardIfNecessary=function(k){"use strict";if(this._preventPreload)return;var l=c("PhotoStore").getAvailableRange(this._setID),m=l.offset+l.length-1,n=this._position+k;if(n>m&&!c("PhotoStore").hasLooped(this._setID)){var o=c("PhotoStore").getCursorByIndexImmediate(this._setID,m);c("PhotoStore").fetchForward(this._setID,o,k,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(this._position+1,n)};j.prototype.loadMoreBackwardIfNecessary=function(k){"use strict";if(this._preventPreload)return;var l=c("PhotoStore").getAvailableRange(this._setID),m=this._position-k;if(m<l.offset&&!c("PhotoStore").hasLooped(this._setID)){var n=c("PhotoStore").getCursorByIndexImmediate(this._setID,l.offset);c("PhotoStore").fetchBackward(this._setID,n,k,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(m,this._position-1)};j.prototype._loadMoreIfNecessary=function(k,l){"use strict";if(k)this.loadMoreForwardIfNecessary(l);else this.loadMoreBackwardIfNecessary(l)};j.prototype.displayFirst=function(){"use strict";__p&&__p();if(!this._viewer.isOpen())return;c("PhotoStore").setPreFetchCallback(this._setID,function(){this._log(c("SpotlightViewerLoggingEvents").DATA_FETCH_BEGIN)}.bind(this));var k=function(l){if(!this._isPreloaded(l))this._preload([l]);this._updateCallback&&this._updateCallback(l)}.bind(this);c("PhotoStore").getByIndex(this._setID,this._position,k);if(this._reverse)this.loadMoreBackwardIfNecessary(j.BUFFER_SIZE);else this.loadMoreForwardIfNecessary(j.BUFFER_SIZE)};j.prototype.backward=function(){"use strict";this._page(this._reverse?1:-1)};j.prototype.forward=function(){"use strict";this._page(this._reverse?-1:1)};j.prototype._log=function(k){"use strict";this._viewer.log(k)};Object.assign(j,{BUFFER_SIZE:4});f.exports=j}),null);
__d("SpotlightViewer",["cx","React","Spotlight.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(!this.props.open)return null;var l="_n3";if(this.props.className)l+=" "+this.props.className;return c("React").createElement(c("Spotlight.react"),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,key:"photoLayer"},c("React").createElement("div",{className:l,onClick:this.props.onClick,role:"presentation"},this.props.children))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("SpotlightViewerClose",["cx","fbt","React","TooltipLink.react","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props.position=="left"?"_5wx3":"_5wx4",o=c("React").createElement("span",null,i._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng"));return c("React").createElement(c("TooltipLink.react"),{className:c("joinClasses")("_4-o9 _50-m _51an",n,this.props.isFixed?"_2chv":""),onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,tooltip:o,tabIndex:"0"})};function m(){"use strict";j.apply(this,arguments)}m.propTypes={position:l.oneOf(["left","right"]),isFixed:l.bool,onKeyPress:l.func};m.defaultProps={position:"right",isFixed:false,onKeyPress:c("emptyFunction")};f.exports=m}),null);
__d("SpotlightViewerImage",["cx","Image.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";j.constructor.call(this,l);this.$SpotlightViewerImage3=function(){this.setState({loading:false})}.bind(this);this.state={loading:true}}k.prototype.UNSAFE_componentWillReceiveProps=function(l){"use strict";if(l.src!==this.props.src)this.setState({loading:true})};k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_4-od"},this.$SpotlightViewerImage1(),this.$SpotlightViewerImage2())};k.prototype.$SpotlightViewerImage1=function(){"use strict";if(!this.state.loading)return null;return c("React").createElement(c("XUISpinner.react"),{className:"_enh",size:"large"})};k.prototype.$SpotlightViewerImage2=function(){"use strict";return c("React").createElement("div",{className:this.state.loading?"_eni":""},c("React").createElement(c("Image.react"),{onLoad:this.$SpotlightViewerImage3,src:this.props.src,style:{width:this.props.dimensions.x||"",height:this.props.dimensions.y||""}}))};f.exports=k}),null);
__d("SpotlightViewerCoreMixin",["PhotoLogger","PhotoStore","PhotoUtils","PhotoViewState","React","SpotlightViewerImage","SpotlightViewerLoggingEvents"],(function a(b,c,d,e,f,g){__p&&__p();var h={_displayFirstPhoto:function i(){c("PhotoStore").executePostCreate(this.props.setid,this.viewState.displayFirst.bind(this.viewState))},_getInitialPosition:function i(){var j;if(!this.props.clearcache)j=c("PhotoStore").getIndexForID(this.props.setid,this.props.photoid);if(j===undefined){c("PhotoStore").clearSetCache(this.props.setid);j=0}return j},__displayPhoto:function i(){var j=this._getInitialPosition();this.viewState=new(c("PhotoViewState"))(this,this.props.setid,{position:j,preventPreload:this.__shouldPreventPhotoPreload,reverse:this.props.reverse,updateCallback:this._updatePhoto});this.inform("open");this._displayFirstPhoto()},UNSAFE_componentWillMount:function i(){this._logger=new(c("PhotoLogger"))(this.getViewerID());this.log(c("SpotlightViewerLoggingEvents").OPEN_BEGIN);this.__displayPhoto()},componentDidMount:function i(){this._enableSubscriptions&&this._enableSubscriptions();this.log(c("SpotlightViewerLoggingEvents").OPEN_COMPLETE)},isOpen:function i(){return this.state.open},close:function i(){if(!this.isOpen())return;this.log(c("SpotlightViewerLoggingEvents").CLOSE_BEGIN);this.setState({open:false},function(){this.inform("close");this.log(c("SpotlightViewerLoggingEvents").CLOSE_COMPLETE)})},componentWillUnmount:function i(){this.viewState=null},_onClickViewport:function i(j){j?this.viewState.forward():this.viewState.backward()},_getMedia:function i(j,k){return c("React").createElement(c("SpotlightViewerImage"),{ref:"image",src:j.uri,dimensions:k.imageDimensions})},_getCurrentFBID:function i(){return c("PhotoUtils").getFBIDFromData(this.state.photoData)},_updatePhoto:function i(j){this.log(c("SpotlightViewerLoggingEvents").PHOTO_CHANGE_BEGIN);this.setState({photoData:j},function(){this.inform("photo_change",this.state.photoData);this.log(c("SpotlightViewerLoggingEvents").PHOTO_CHANGE_COMPLETE)})},getLogger:function i(){return this._logger},log:function i(j){this._logger&&this._logger.logEvent(j)}};f.exports=h}),null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h={verticalPadding:"number",horizontalPadding:"number",normalResDim:"object"};function i(j){"use strict";__p&&__p();this._verticalPadding=40;this._horizontalPadding=60;this._normalResDim={x:960,y:960};this._photoStripHeight=88;for(var k in j){if(!h[k])throw new Error("Unsupported extraData value '"+k+"' should not be used");if(typeof j[k]===h[k])this["_"+k]=j[k]}this._listener=c("Event").listen(window,"resize",this._resetMaxStageDimensions.bind(this))}i.prototype.destroy=function(){"use strict";this._listener.remove()};i.prototype.getStageDimensions=function(j){"use strict";var k=this.getMaxStageDimensions(),l=new(c("Vector"))(Math.min(j.x,k.x),Math.min(j.y,k.y)),m=l.x/l.y,n=j.x/j.y;if(m<n)l.y=Math.round(l.x/n);else l.x=Math.round(l.y*n);return l};i.prototype.getImageDimensionsForStage=function(j,k){"use strict";__p&&__p();var l=j.x,m=j.y,n=k.x,o=k.y;if(l>=n||m>=o){var p=l/m,q=n/o;if(q<p){l=n;m=Math.round(n/p)}else if(q>p){l=Math.round(o*p);m=o}else{l=n;m=o}}return new(c("Vector"))(l,m)};i.prototype.getImageDimensionsForMaxStage=function(j,k){"use strict";__p&&__p();var l=j.x,m=j.y,n=k.x,o=k.y-this._photoStripHeight,p=l/m,q=n/o;if(l>=n||m>=o)if(q<p){l=n;m=Math.round(n/p)}else if(q>p){l=Math.round(o*p);m=o}else{l=n;m=o}else if(p<q)l=Math.round(m*p);else m=Math.round(l/p);return new(c("Vector"))(l,m)};i.prototype.getMaxStageDimensions=function(){"use strict";if(!this._maxStageDimensions)this._maxStageDimensions=new(c("Vector"))(c("Vector").getViewportDimensions().x-this._horizontalPadding,c("Vector").getViewportDimensions().y-this._verticalPadding);return this._maxStageDimensions};i.prototype.getMaxStageDimensionsWithoutPadding=function(){"use strict";if(!this._maxStageDimensions)this._maxStageDimensions=new(c("Vector"))(c("Vector").getViewportDimensions().x,c("Vector").getViewportDimensions().y);return this._maxStageDimensions};i.prototype._resetMaxStageDimensions=function(){"use strict";this._maxStageDimensions=null};i.prototype.getBestFitImageFromPhoto=function(j,k){"use strict";__p&&__p();var l=null,m=c("PhotoUtils").getImagesFromData(j);m=m.sort(function(o,p){return p.width-o.width});if(window.devicePixelRatio&&window.devicePixelRatio>1)k=new(c("Vector"))(k.x*window.devicePixelRatio,k.y*window.devicePixelRatio);for(var n=0;n<m.length;n++)if(!l||m[n].width>=k.x||m[n].height>=k.y)l=m[n];return l};i.prototype.getOriginalDimensionsFromPhoto=function(j){"use strict";var k=c("PhotoUtils").getOriginalImageFromData(j);return new(c("Vector"))(k.width,k.height)};i.prototype.getBestFitDimensionsFromPhoto=function(j,k){"use strict";var l=this.getBestFitImageFromPhoto(j,k);return new(c("Vector"))(l.width,l.height)};i.prototype.getVerticalPadding=function(){"use strict";return this._verticalPadding};i.prototype.getHorizontalPadding=function(){"use strict";return this._horizontalPadding};f.exports=i}),null);
__d("SpotlightViewerStageResizer",["MessengerEnvironment","Event","SubscriptionsHandler","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h=520;function i(j,k){"use strict";this._subscriptionsHandler=new(c("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(c("Event").listen(window,"resize",this._resetStageDimensions.bind(this)));this._dimensions=j;this._minHeight=k.minHeight||h;this._minWidth=k.minWidth||h;this._resetStageDimensions()}i.prototype.destroy=function(){"use strict";this._dimensions=null;this._subscriptionsHandler.release()};i.prototype._resetStageDimensions=function(){"use strict";this._currentStageDimensions=new(c("Vector"))(this._minWidth,this._minHeight)};i.prototype.getImageAndStageDimensions=function(j){"use strict";var k=this._dimensions.getBestFitDimensionsFromPhoto(j,this._dimensions.getMaxStageDimensions()),l=c("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding(k):this._dimensions.getStageDimensions(k);this._currentStageDimensions=new(c("Vector"))(Math.max(l.x,this._minWidth,this._currentStageDimensions.x),Math.max(l.y,this._minHeight,this._currentStageDimensions.y));var m=c("MessengerEnvironment").messengerui?this._dimensions.getImageDimensionsForMaxStage(k,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(k,this._currentStageDimensions);return{stageDimensions:this._currentStageDimensions,imageDimensions:m}};i.prototype.getCurrentStageDimensions=function(){"use strict";return this._currentStageDimensions};f.exports=i}),null);
__d("SpotlightViewerDimensionMixin",["MessengerEnvironment","SpotlightViewerStageResizer","PhotoViewerDimensions"],(function a(b,c,d,e,f,g){__p&&__p();var h={getInitialState:function i(){this._dimensions=new(c("PhotoViewerDimensions"))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new(c("SpotlightViewerStageResizer"))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return{maxStageDimensions:c("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()}},componentWillUnmount:function i(){this._resizer&&this._resizer.destroy();this._resizer=null;this._dimensions&&this._dimensions.destroy();this._dimensions=null},getMedia:function i(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==="MessageVideo")return this._getVideo();var j=this._resizer.getImageAndStageDimensions(this.state.photoData),k=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(k,j)}else return null},getDimensions:function i(){return this._dimensions},getStageDimensions:function i(){if(this.state.photoData)return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;else return c("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()},getImageDimensions:function i(){if(!this.state.photoData)return null;return this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions},onResize:function i(){if(c("MessengerEnvironment").messengerui){var j=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:j,width:j.x})}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()})}};f.exports=h}),null);
__d("SpotlightViewerInit",["DOM","ReactDOM"],(function a(b,c,d,e,f,g){var h={render:function i(j,k){var l=c("DOM").create("div"),m=c("ReactDOM").render(j,l);c("DOM").appendContent(document.body,l);m.subscribeOnce("close",function(){c("ReactDOM").unmountComponentAtNode(l);c("DOM").remove(l);k&&k()});return m}};f.exports=h}),null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],(function a(b,c,d,e,f,g){__p&&__p();var h={_getInitialPhotoData:function i(){var j=c("PhotoStore").getIndexForID(this.props.setid,this.props.photoid),k=c("PhotoStore").getByIndexImmediate(this.props.setid,j);return k?k:this._getThumbnailPhotoData()},_getThumbnailPhotoData:function i(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var j={id:this.props.photoid};for(var k=0;k<this.props.dimensions.length;++k){var l=c("Vector").deserialize(this.props.dimensions[k]);j["image"+k]={width:l.x,height:l.y,uri:this.props.thumbsrc}}return j}};f.exports=h}),null);
__d("SpotlightViewport",["csx","cx","Locale","Parent","React","ReactDOM","Vector","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"SpotlightViewport",propTypes:{stageDimensions:j.object.isRequired,useWidth:j.bool},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},timer:null,getInitialState:function l(){return{currentActiveSection:this.sections.NONE,active:true}},componentDidMount:function l(){this._onMouseEnter()},componentWillUnmount:function l(){if(this.props.fadeInNOut)clearTimeout(this.timer)},_onMouseMove:function l(event){__p&&__p();var m=c("ReactDOM").findDOMNode(this),n=c("Vector").getEventPosition(event.nativeEvent),o=c("Vector").getElementPosition(m),p=this.props.useWidth?this.props.stageDimensions.x:c("Vector").getElementDimensions(m).x;if(this.props.fadeInNOut)if(this._isMouseOverActionBars(n))clearTimeout(this.timer);else this._onMouseEnter();var q,r=n.x-o.x,s=r/p;if(c("Locale").isRTL())q=s>1-this.PAGE_TO_PREV_PERCENTAGE;else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q)this.setState({currentActiveSection:this.sections.BACKWARD});else this.setState({currentActiveSection:this.sections.FORWARD})},_onClick:function l(event){var m=this.state.currentActiveSection==this.sections.FORWARD,n=event.target;if(!c("Parent").bySelector(n,"._51an"))this.props.onClick&&this.props.onClick(m,event)},_isMouseOverActionBars:function l(m){return m.y<70||m.y>this.props.stageDimensions.y-70},_onMouseEnter:function l(){this.setState({active:true});if(this.props.fadeInNOut){clearTimeout(this.timer);this.timer=setTimeout(this._onMouseLeave,1e3)}},_onMouseLeave:function l(){this.setState({active:false})},makeActive:function l(){this._onMouseEnter()},render:function l(){__p&&__p();var m="_4-of"+(!this.state.active&&!this.props.active?" _50-l":"")+(this.state.currentActiveSection===this.sections.BACKWARD?" _516a":"")+(this.state.currentActiveSection===this.sections.FORWARD?" _516b":"")+(this.props.showLoadingIndicator?" _51jp":"");if(this.props.className)m=c("joinClasses")(m,this.props.className);var n={};if(this.props.stageDimensions){n={height:this.props.stageDimensions.y};if(this.props.useWidth)n.width=this.props.stageDimensions.x}return c("React").createElement("div",{className:m,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,role:"presentation",style:n},this.props.children,c("React").createElement("div",{className:"_4-og"},c("React").createElement("span",{className:"_4-oh"}),this.props.media,c("React").createElement("div",{className:"_4-oi"})))}});f.exports=k}),null);
__d("PhotoEditorSaveStates",["requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h;c("requireWeak")("PhotoEditorGraphic",function(l){h=l.Sticker});var i=new Map(),j=new Map(),k={setState:function l(m,n){i.set(m,n)},getState:function l(m){return i.get(m)},setLoggingData:function l(m,n){j.set(m,n)},getLoggingData:function l(m){return j.get(m)},getTotalNumOfStickersOnPhoto:function l(m){if(i.get(m))return i.get(m).graphics.filter(function(n){return h&&n.type===h}).length;return 0}};f.exports=k}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"})}),null);
__d("FaceRecognitionController",["ArbiterMixin","BanzaiODS","Poller","mixin","removeFromArray","FacerecWaterfallEvent"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this._config=babelHelpers["extends"]({uri:"/photos/tagging/recognition/",interval:2e3,maxRequests:4,targetIsPage:false,targetID:null},k);this._cleanup();this._poller=new(c("Poller"))({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(l,m){if(!this._pendingPhotos||this._pendingPhotos.length===0)m.skip();l.setURI(this._config.uri).setData({recognition_project:"composer_facerec",photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this))}.bind(this)});this._poller.subscribe("done",function(){var l=this._pendingPhotos;this._cleanup();this.inform("done",{unresolved:l,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_GIVE_UP})}.bind(this))}j.prototype.setWaterfallID=function(k){"use strict";this._config.waterfallID=k};j.prototype.start=function(k){"use strict";Array.prototype.push.apply(this._pendingPhotos,k);this._poller.reset();this._resetSafeguardTimeout()};j.prototype.stop=function(){"use strict";this._poller.stop();this._cleanup()};j.prototype._cleanup=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[]};j.prototype._resetSafeguardTimeout=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){c("BanzaiODS").bumpEntityKey("composer_facerec","safeguard");var k=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform("done",{unresolved:k,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_TIMEOUT})}.bind(this),(this._config.maxRequests+2)*this._config.interval)};j.prototype._handleResponse=function(k){"use strict";__p&&__p();var l=k.getPayload();l.forEach(function(m){var n=0;c("removeFromArray")(this._pendingPhotos,m.fbid);m.faceboxes.forEach(function(o){n+=o.recognitions.length;o.recognitions.forEach(function(p){this.inform("recognition",{photo:m.fbid,facebox:{fbid:o.fbid,x:o.x,y:o.y},recognition:p})}.bind(this))}.bind(this));this.inform("photo",{photo:m.fbid,faceboxes:m.faceboxes,recognitions:n})}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform("done",{unresolved:this._pendingPhotos})}};f.exports=j}),null);
__d("GroupsPollDeleteOptionMutation",["RelayModern","RelayConnectionHandler","GroupsPollDeleteOptionMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RelayModern").graphql,i=c("RelayModern").commitMutation,j=function j(){return c("GroupsPollDeleteOptionMutation.graphql")};function k(l,m){__p&&__p();var n={input:{question_option_id:m.optionID}},o=function o(r){__p&&__p();var s=r.get(m.questionID);if(!s)return;var t=s&&c("RelayConnectionHandler").getConnection(s,"PollAttachmentComponent_options");if(!t)return;c("RelayConnectionHandler").deleteNode(t,m.optionID);var u=parseInt(t.getValue("count"),10);t.setValue(u-1,"count");r["delete"](m.optionID)},p=function p(){m.callbacks&&m.callbacks.onSuccess()},q=function q(r){m.callbacks&&m.callbacks.onFailure(r)};return i(l,{mutation:j,updater:o,optimisticUpdater:o,variables:n,onCompleted:p,onError:q})}f.exports={commit:k}}),null);
__d("PollAddOptionMutation",["RelayModern","QuestionPollType","PollAddOptionMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RelayModern").graphql,i=c("RelayModern").commitMutation,j=0,k=function k(){return c("PollAddOptionMutation.graphql")};function l(m,n){__p&&__p();var o=n.imageUpload&&n.imageUpload.fbid,p={input:{question_id:n.node.id,option_text:n.optionText,option_page_id:n.optionPageID,image_id:o},first:n.numOptionsToShow},q=function q(){var t=n.node.author.id===n.viewer.actor.id,u="client:newOption:"+j++,v=n.imageUpload&&{image:{height:n.imageUpload.thumbnail_height,width:n.imageUpload.thumbnail_width,uri:n.imageUpload.thumbnail_uri}},w={node:{id:u,text_with_entities:{text:n.optionText},associated_image:v,viewer_has_voted:!t,voters:{count:t?0:1,edges:t?[]:[{node:babelHelpers["extends"]({},n.viewer.actor)}]}}},x=n.node.options.edges.map(function(y){var z=babelHelpers["extends"]({},y.node);if(n.node.response_method===c("QuestionPollType").CHOOSE_ONE&&y.node.viewer_has_voted&&!t){z.viewer_has_voted=false;z.voters={count:y.node.voters.count-1}}return{node:z}});x.push(w);return{question_add_option:{question:{id:n.node.id,options:{count:n.node.options.count+1,edges:x}},question_options_edge:w}}},r=function r(t){n.callbacks&&n.callbacks.onSuccess()},s=function s(t){n.callbacks&&n.callbacks.onFailure(t)};return i(m,{mutation:k,variables:p,optimisticResponse:q,onCompleted:r,onError:s})}f.exports={commit:l}}),null);
__d("PollAttachmentUtils",["QuestionPollType"],(function a(b,c,d,e,f,g){"use strict";var h={isOpinionPoll:function i(j){return j===c("QuestionPollType").CHOOSE_ONE||j===c("QuestionPollType").IMAGE_CHOOSE_ONE},isEigenpoll:function i(j){return j===c("QuestionPollType").CHOOSE_MULTIPLE||j===c("QuestionPollType").IMAGE_CHOOSE_MULTIPLE}};f.exports=h}),null);
__d("PollAddVoteMutation",["PollAttachmentUtils","RelayModern","RelayConnectionHandler","PollAddVoteMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PollAttachmentUtils").isOpinionPoll,i=c("RelayModern").graphql,j=c("RelayModern").commitMutation,k=function k(){return c("PollAddVoteMutation.graphql")};function l(m,n){__p&&__p();var o={input:{question_id:n.node.id,option_id:n.option.id,rank:n.rank},first:n.numOptionsToShow},p=function p(t){__p&&__p();var u=t.get(n.node.id);if(!u)return;var v=u&&c("RelayConnectionHandler").getConnection(u,"PollAttachmentComponent_options");if(!v)return;var w=v&&v.getLinkedRecords("edges");if(!w)return;var x=w.map(function(y){return y&&y.getLinkedRecord("node")});x.forEach(function(y){__p&&__p();if(!y)return;var z=y&&c("RelayConnectionHandler").getConnection(y,"PollAttachmentComponent_options_voters");if(!z)return;if(y.getValue("id")===n.option.id){y.setValue(true,"viewer_has_voted");z.setValue(n.option.voters.count+1,"count")}else if(y.getValue("viewer_has_voted")){y.setValue(false,"viewer_has_voted");z.setValue(parseInt(z.getValue("count"),10)-1,"count")}})},q=function q(t){__p&&__p();if(h(n.node.response_method))p(t);else{var u=t.get(n.option.id);if(!u)return;var v=u&&c("RelayConnectionHandler").getConnection(u,"PollAttachmentComponent_options_voters");if(!v)return;u.setValue(true,"viewer_has_voted");v.setValue(n.option.voters.count+1,"count")}},r=function r(){n.callbacks&&n.callbacks.onSuccess()},s=function s(t){n.callbacks&&n.callbacks.onFailure(t)};return j(m,{mutation:k,optimisticUpdater:q,variables:o,onCompleted:r,onError:s})}f.exports={commit:l}}),null);
__d("PollRemoveVoteMutation",["RelayModern","RelayConnectionHandler","PollRemoveVoteMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("RelayModern").graphql,i=c("RelayModern").commitMutation,j=function j(){return c("PollRemoveVoteMutation.graphql")};function k(l,m){__p&&__p();var n={input:{question_id:m.node.id,option_id:m.option.id},first:m.numOptionsToShow},o=function o(r){var s=r.get(m.option.id);if(!s)return;var t=s&&c("RelayConnectionHandler").getConnection(s,"PollAttachmentComponent_options_voters");if(!t)return;s&&s.setValue(false,"viewer_has_voted");t&&t.setValue(m.option.voters.count-1,"count")},p=function p(){m.callbacks&&m.callbacks.onSuccess()},q=function q(r){m.callbacks&&m.callbacks.onFailure(r)};return i(l,{mutation:j,optimisticUpdater:o,variables:n,onCompleted:p,onError:q})}f.exports={commit:k}}),null);
__d("SpotlightPollOptionImageViewer",["cx","ArbiterMixin","Facepile.react","React","SpotlightViewer","SpotlightViewerClose","SpotlightViewerCoreMixin","SpotlightViewerDimensionMixin","SpotlightViewerThumbnailMixin","SpotlightViewport","TextWithEntities.react","XUIText.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=20,j=28,k=10,l=c("React").createClass({displayName:"SpotlightPollOptionImageViewer",mixins:[c("ArbiterMixin"),c("SpotlightViewerCoreMixin"),c("SpotlightViewerThumbnailMixin"),c("SpotlightViewerDimensionMixin")],getViewerID:function m(){return this.props.setid},getInitialState:function m(){return{photoData:this._getThumbnailPhotoData(),open:true}},render:function m(){var n=this.getMedia(),o=this.getStageDimensions(),p=this.props.useloadingindicator&&!this.state.photoData;return c("React").createElement(c("SpotlightViewer"),{onHide:this.close,open:this.state.open,rootClassName:this.props.rootClassName},c("React").createElement(c("SpotlightViewport"),{className:"_wma",media:n,onClick:this._onClickViewport,showLoadingIndicator:p,snapToPhoto:this.props.snapToPhoto,stageDimensions:o,useWidth:true},c("React").createElement(c("SpotlightViewerClose"),{onClick:this.close}),this._renderOptionData()))},_renderOptionData:function m(){return c("React").createElement("div",{className:"_50-m _wmb"},this._renderOptionText(),this._renderFacepile(),this._renderMore())},_renderOptionText:function m(){var n=this.props.optionText.split(/\r?\n/)[0].slice(0,i);if(n.length<this.props.optionText.length)n+="...";return c("React").createElement(c("TextWithEntities.react"),{className:"_wmc",renderEmoticons:false,renderEmoji:true,text:n})},_renderFacepile:function m(){return c("React").createElement("div",{className:"_wmd"},c("React").createElement(c("Facepile.react"),{onFaceClick:this._onFaceClick,numFaces:k,profiles:this.props.profiles,showHovercard:false,size:j}))},_renderMore:function m(){var n=this.props.voterCount-k;if(n<=0)return null;var o="+"+n+" voters";return c("React").createElement("div",{className:"_wme"},c("React").createElement(c("XUIText.react"),null,o))},_onFaceClick:function m(){this.close()}});f.exports=l}),null);
__d("GroupsPollAttachmentDeleteOption.react",["ix","cx","fbt","Image.react","Link.react","React","SimpleXUIDialog","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$GroupsPollAttachmentDeleteOption1=function(){c("SimpleXUIDialog").showConfirm(j._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n x\u00f3a t\u00f9y ch\u1ecdn n\u00e0y kh\u1ecfi cu\u1ed9c th\u0103m d\u00f2 \u00fd ki\u1ebfn kh\u00f4ng?"),j._("X\u00f3a t\u00f9y ch\u1ecdn"),this.$GroupsPollAttachmentDeleteOption2,{confirmBtnTxt:j._("X\u00f3a")})}.bind(this),this.$GroupsPollAttachmentDeleteOption2=function(s){var t=this.props.optionID||"";if(s)this.props.onDelete(t)}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_1mh_"},c("React").createElement(c("Link.react"),{onClick:this.$GroupsPollAttachmentDeleteOption1},c("React").createElement(c("Image.react"),{src:h("125920")})))};f.exports=m}),null);
__d("ReactComposerPhotoUploadState",[],(function a(b,c,d,e,f,g){f.exports={PHOTO_UPLOAD_ENQUEUED:"PHOTO_UPLOAD_ENQUEUED",PHOTO_UPLOAD_RESIZE_STARTED:"PHOTO_UPLOAD_RESIZE_STARTED",PHOTO_UPLOAD_RESIZE_DONE:"PHOTO_UPLOAD_RESIZE_DONE",PHOTO_UPLOAD_RESIZE_FAILED:"PHOTO_UPLOAD_RESIZE_FAILED",PHOTO_UPLOAD_UPLOADING:"PHOTO_UPLOAD_UPLOADING",PHOTO_UPLOAD_DONE:"PHOTO_UPLOAD_DONE",PHOTO_UPLOAD_FAILED:"PHOTO_UPLOAD_FAILED"}}),null);
__d("ReactComposerMediaUploadActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,PHOTO_SET_THUMBNAIL:null,SPHERICAL_PHOTO_CHECK_DONE:null,SPHERICAL_PHOTO_CHECK_FAILED:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_METADATA_PARSED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,VIDEOS_HIDDEN:null,VIDEOS_SHOWN:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},"ReactComposerMediaUploadActionType")}),null);
__d("ReactComposerPhotoActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_TAG_XY_PRODUCT:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null,PHOTO_LOADING_EDIT_FINISHED:null,PHOTO_UNTAG_ALL:null,PHOTO_SPHERICAL_UPDATING:null,PHOTO_UPDATE_ALL_PHOTO_TAGS:null},"ReactComposerPhotoActionType")}),null);
__d("ReactComposerPhotoStore",["immutable","ReactComposerMediaUploadActionType","ReactComposerPhotoActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").Record({cubestripURI:null,faceboxes:c("immutable").Map(),height:null,id:null,imageSrc:null,isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,thumbSrc:null,uploadID:null,width:null,xyTags:c("immutable").Map()}),k=c("immutable").Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false,recognizedSubjectID:null}),l=c("immutable").Record({from_facebox:false,name:null,photoID:null,source:null,subject:null,x:null,y:null,is_product_tag:false});h=babelHelpers.inherits(m,c("ReactComposerStoreBase"));i=h&&h.prototype;function m(){"use strict";__p&&__p();var n=void 0;i.constructor.call(this,function(){return{photos:c("immutable").Map(),photoBeingTagged:null,isSphericalPhotoUpdating:false}},function(o){__p&&__p();switch(o.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:n&&n.$ReactComposerPhotoStore1(o);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:n&&n.$ReactComposerPhotoStore2(o);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:n&&n.$ReactComposerPhotoStore3(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED:n&&n.$ReactComposerPhotoStore4(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED:n&&n.$ReactComposerPhotoStore5(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:n&&n.$ReactComposerPhotoStore6(o);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:n&&n.$ReactComposerPhotoStore7(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:n&&n.$ReactComposerPhotoStore8(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:n&&n.$ReactComposerPhotoStore9(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:n&&n.$ReactComposerPhotoStore10(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:n&&n.$ReactComposerPhotoStore11(o);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:n&&n.$ReactComposerPhotoStore12(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:n&&n.$ReactComposerPhotoStore13(o);break;case c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED:n&&n.$ReactComposerPhotoStore14(o);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:n&&n.$ReactComposerPhotoStore15(o);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:n&&n.$ReactComposerPhotoStore16(o);break;case c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED:n&&n.$ReactComposerPhotoStore17(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:n&&n.$ReactComposerPhotoStore18(o);break;case c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING:n&&n.$ReactComposerPhotoStore19(o);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:n&&n.$ReactComposerPhotoStore20(o);break;default:}});n=this}m.prototype.getPhotos=function(n){"use strict";return this.getComposerData(n).photos};m.prototype.isLimitExceeded=function(n,o){"use strict";return this.getPhotos(n).size>o};m.prototype.getPhoto=function(n,o){"use strict";return this.getComposerData(n).photos.get(o)};m.prototype.isRecognizing=function(n){"use strict";return this.getComposerData(n).photos.some(function(o){return o.isRecognizingFaceboxes})};m.prototype.getIsSubjectTagged=function(n,o){"use strict";var p=this.getComposerData(n).photos;return p.some(function(q){return this.getIsSubjectTaggedInPhoto(n,q.id,o)}.bind(this))};m.prototype.getIsSubjectTaggedInPhoto=function(n,o,p){"use strict";var q=this.getPhoto(n,o),r=q.faceboxes.some(function(t){return t.taggedSubjectID===p}),s=q.xyTags.some(function(t){return t.subject===p});return r||s};m.prototype.hasTagsInPhoto=function(n,o){"use strict";var p=this.getPhoto(n,o);if(!p)return false;var q=p.faceboxes.some(function(s){return s.taggedSubjectID!==null}),r=p.xyTags.size>0;return q||r};m.prototype.getAllTaggedFaceboxes=function(n){"use strict";var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.faceboxes.toArray())});return p.filter(function(q){return!!q.get("taggedSubjectID")})};m.prototype.getTaggedFaceboxes=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.faceboxes.filter(function(q){return!!q.get("taggedSubjectID")}).map(function(q){return q.toObject()}).toArray()};m.prototype.getFaceboxes=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.faceboxes.map(function(q){return q.toObject()}).toArray()};m.prototype.getXYTags=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.xyTags.map(function(q){return q.toObject()}).toArray()};m.prototype.getAllXYTags=function(n){"use strict";var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.xyTags.toArray())});return p};m.prototype.getPhotoBeingTagged=function(n){"use strict";return this.getComposerData(n).photoBeingTagged};m.prototype.isSphericalPhotoUpdating=function(n){"use strict";return this.getComposerData(n).isSphericalPhotoUpdating};m.prototype.$ReactComposerPhotoStore1=function(n){"use strict";var o=this.validateAction(n,["composerID","uploadID","photoID","thumbSrc","cubestripURI","imageSrc","width","height"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=o[7];this.$ReactComposerPhotoStore21(p,r,new j({id:r,uploadID:q,thumbSrc:s,cubestripURI:t,imageSrc:u,width:v,height:w}));this.emitChange(p)};m.prototype.$ReactComposerPhotoStore2=function(n){"use strict";this.$ReactComposerPhotoStore1(n)};m.prototype.$ReactComposerPhotoStore4=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isRecognizingFaceboxes",true)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore5=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s&&s.set("isRecognizingFaceboxes",false)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore6=function(n){"use strict";var o=this.validateAction(n,["composerID","photos"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return q.indexOf(s.id)!==-1?s.set("isRecognizingFaceboxes",false):s});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore7=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","photoID","facebox"]),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p),t=r.bestRecognition,u=null,v=null;if(t){u=t.subjectID;v=t.value}s.photos=s.photos.update(q,function(w){return w&&w.update("faceboxes",function(x){return x.set(r.id,new k({id:r.id,photoID:q,x:r.x,y:r.y,top:r.top,left:r.left,width:r.width,height:r.height,croppedURI:r.croppedURI,taggedSubjectID:u,taggedValue:v,isMagicTag:!!u,recognizedSubjectID:u}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore9=function(n){"use strict";var o=this.validateAction(n,["composerID","value","photoID","source","subject","x","y"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update("xyTags",function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore8=function(n){"use strict";var o=this.validateAction(n,["composerID","value","photoID","source","subject","x","y"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update("xyTags",function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v,is_product_tag:true}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore10=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID","faceboxID","subjectID","value"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=this.getComposerData(p);u.photos=u.photos.update(q,function(v){return v.update("faceboxes",function(w){return w.update(r,function(x){return x.withMutations(function(y){return y.set("taggedSubjectID",s).set("taggedValue",t).set("isMagicTag",false)})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore18=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){s=s.set("xyTags",c("immutable").Map());return s});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore11=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID","faceboxID"]),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.photos=s.photos.update(q,function(t){return t.update("faceboxes",function(u){return u.update(r,function(v){return v.withMutations(function(w){return w.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",false)})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore12=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos["delete"](q)};m.prototype.$ReactComposerPhotoStore13=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","subjectID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return s.withMutations(function(t){return t.update("faceboxes",function(u){return u.map(function(v){if(v.taggedSubjectID!==q)return v;return v.withMutations(function(t){return t.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",false)})})}).update("xyTags",function(u){return u.filterNot(function(v){return v.subject===q})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore14=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photoBeingTagged=q;this.emitChange(p)};m.prototype.$ReactComposerPhotoStore15=function(n){"use strict";var o=this.validateAction(n,["composerID","medias"]),p=o[0],q=o[1];q.forEach(function(r){this.$ReactComposerPhotoStore21(p,r.photoID,new j({id:r.photoID,uploadID:r.uploadID,thumbSrc:r.thumbSrc,imageSrc:r.imageSrc,width:r.width,height:r.height,cubestripURI:r.cubestripURI}))}.bind(this));this.emitChange(p)};m.prototype.$ReactComposerPhotoStore16=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isLoadingPhotoEdit",true)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore17=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isLoadingPhotoEdit",false)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore3=function(n){"use strict";var o=this.validateAction(n,["composerID","photo"]),p=o[0],q=o[1];this.$ReactComposerPhotoStore21(p,q.id,q);this.emitChange(p)};m.prototype.$ReactComposerPhotoStore19=function(n){"use strict";var o=this.validateAction(n,["composerID","isSphericalPhotoUpdating"]),p=o[0],q=o[1],r=this.getComposerData(p);r.isSphericalPhotoUpdating=q;this.emitChange(p)};m.prototype.$ReactComposerPhotoStore20=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","photoID","faceboxes","xyTags"]),p=o[0],q=o[1],r=o[2],s=o[3],t=this.getComposerData(p),u={};r.forEach(function(w){u[w.id]=new k(w)});var v={};s.forEach(function(w){v[w.subject]=new l(w)});t.photos=t.photos.update(q,function(w){return w&&w.set("faceboxes",c("immutable").Map(u)).set("xyTags",c("immutable").Map(v))});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore21=function(n,o,p){"use strict";var q=this.getComposerData(n);q.photos=q.photos.set(o,p)};f.exports=new m()}),null);
__d("ReactComposerPhotoActions",["ReactComposerDispatcher","ReactComposerPhotoActionType","ReactComposerPhotoStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPhotoStore");var h={startRecognizing:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED})},finishRecognizingPhoto:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED,photoID:k})},finishRecognizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED,photos:k,facerecWaterfallEvent:l})},addFacebox:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX,photoID:k,facebox:l})},tagXY:function i(j,k,l,m,n,o,p){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY,value:l,photoID:k,source:m,subject:n,x:o,y:p})},tagXYProduct:function i(j,k,l,m,n,o,p){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT,value:l,photoID:k,source:m,subject:n,x:o,y:p})},tagFacebox:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m,value:n})},untagFacebox:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m})},removePhoto:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_REMOVE,photoID:k,uploadID:l})},untagSubjectFromAllPhotos:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:k})},untagAllForPhoto:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL,photoID:k})},startPhotoEdit:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED})},finishPhotoEdit:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED})},setPhotoBeingTagged:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED})},finishLoadingPhotoEdit:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED,photoID:k})},changeSphericalPhotoUpdateStatus:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING,isSphericalPhotoUpdating:k})},updateAllPhotoTags:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS,photoID:k,faceboxes:l,xyTags:m})}};f.exports=h}),null);
__d("ReactComposerMediaUploadActions",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerPhotoActions","ReactComposerPhotoUploadState","ReactComposerMediaUploadStore","ReactComposerPhotoStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMediaUploadStore");c("ReactComposerPhotoStore");var h={enqueue:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?[]:arguments[7],r=arguments.length<=8||arguments[8]===undefined?false:arguments[8];c("ReactComposerDispatcher").dispatch({composerID:j,mediaType:o,uploadID:k,type:n,filename:l,fileURL:p?p:"",index:m,xyTags:q,isSpherical:r})},startResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED})},progressResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS,progress:l})},doneResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE})},failResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED})},doneSphericalCheck:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:m,useLocalSphericalImage:n})},failSphericalCheck:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED})},videoMetadataParsed:function i(j,k,l){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED,composerID:j,uploadID:k,metadata:l})},startUploading:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:m,fileUpload:l})},progressUploading:function i(j,k,l,m,n,o){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS,progress:l,use_real_progress_percentage:m,use_progress_linearity:n,use_progress_transform_x:o})},isSpherical:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:l,projectionType:m})},doneUploading:function i(j){c("ReactComposerDispatcher").dispatch(j)},doneUploadingExtra:function i(j,k,l,m,n,o,p,q){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE,composerID:j,uploadID:k,photoID:l,thumbSrc:m,cubestripURI:n,imageSrc:o,width:p,height:q})},failUploading:function i(j,k,l,m,n,o){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:o,error:n,fileUpload:l,timeToUpload:m})},removeAllPhotoUploads:function i(j,k){k.forEach(function(l){return this.removePhotoAndPhotoUpload(j,l)}.bind(this))},removePhotoAndPhotoUpload:function i(j,k){if(k.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE)c("ReactComposerPhotoActions").removePhoto(j,k.photoID,k.id);else this.removeMediaUpload(j,k.id)},removeMediaUpload:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE,uploadID:k})},mediaMoved:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED,from:k,to:l})},resizerUnavailable:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE})},photosSelect:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,method:l,numPhotos:k,type:c("ReactComposerMediaUploadActionType").PHOTOS_SELECT})},retryMediaUpload:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:k})},reorderMedias:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,mediaIDs:k,type:c("ReactComposerMediaUploadActionType").REORDER_MEDIAS})},prefillMedias:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,medias:k,type:c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS})},setVideoThumbnail:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL,thumbSrc:l,uploadID:k})},addPhotoUpload:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD,composerID:j,index:k,photo:m,upload:l})},setPhotoThumbnail:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL,thumbSrc:l,uploadID:k})},hideVideos:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN})},showVideos:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN})}};f.exports=h}),null);
__d("ReactComposerAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT:null,SET_ATTACHMENT_MARKUP:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,UPLOAD_ATTACHMENT:null},"ReactComposerAttachmentActionType")}),null);
__d("ReactComposerAttachmentInitState",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},"ReactComposerAttachmentInitState")}),null);
__d("ReactComposerAttachmentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STATUS:"STATUS",MEDIA:"MEDIA",ALBUM:"ALBUM",MILESTONE:"MILESTONE",MLE:"MLE",NOTES:"NOTES",QANDA:"QANDA",PAGES_EXTRA:"PAGES_EXTRA",FILE:"FILE",QUESTION:"QUESTION",VISUAL_POLL:"VISUAL_POLL",LIST:"LIST",SELL:"SELL",WORK_HEADER:"WORK_HEADER",WORK_FOOTER:"WORK_FOOTER",SEND_GIFT:"SEND_GIFT",LIVE_BROADCAST:"LIVE_BROADCAST",PHOTO_ZOOM_CROP:"PHOTO_ZOOM_CROP",PROFILE_PIC_DESCRIPTION:"PROFILE_PIC_DESCRIPTION",PROFILE_PIC_FRAME:"PROFILE_PIC_FRAME",LIVE_VIDEO:"LIVE_VIDEO",DOC:"DOC",EVENT:"EVENT",GAME:"GAME",CTA:"CTA",QA:"QA",MESSAGE:"MESSAGE",GET_DIRECTIONS:"GET_DIRECTIONS",CALL:"CALL",PLACE_LIST:"PLACE_LIST",QUIZ:"QUIZ",TASK:"TASK",ADD_MENTIONED:"ADD_MENTIONED",AUDIENCE_SELECTOR:"AUDIENCE_SELECTOR",LEARNING_COURSE:"LEARNING_COURSE",LEARNING_THIRD_PARTY_LINK:"LEARNING_THIRD_PARTY_LINK",PAGE_RECOMMENDATION:"PAGE_RECOMMENDATION",GROUP_MEET_UP:"GROUP_MEET_UP",EMPLOYEE_QUESTION_SUGGESTIONS:"EMPLOYEE_QUESTION_SUGGESTIONS",POST_TO_GROUP:"POST_TO_GROUP",MEDIA_EFFECT_SHARE:"MEDIA_EFFECT_SHARE",FIND_PLAYERS:"FIND_PLAYERS",SALES_PROMO:"SALES_PROMO",JOB_SEARCH:"JOB_SEARCH",SHARING_SPACES_SELECTOR:"SHARING_SPACES_SELECTOR",UICE_EXAMPLE_ATTACHMENT:"UICE_EXAMPLE_ATTACHMENT",EVENT_CREATION:"EVENT_CREATION",ASSET_3D:"ASSET_3D",LIVING_ROOM:"LIVING_ROOM",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",APP_INTEGRATION_AODOCS:"APP_INTEGRATION_AODOCS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_CORNERSTONE:"APP_INTEGRATION_CORNERSTONE",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_EGNYTE:"APP_INTEGRATION_EGNYTE",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_JIRA:"APP_INTEGRATION_JIRA",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",APP_INTEGRATION_SHAREPOINT:"APP_INTEGRATION_SHAREPOINT"})}),null);
__d("ReactComposerFocusActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirror")({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null})}),null);
__d("ReactComposerAttachmentStore",["ImmutableObject","ReactComposerAttachmentActionType","ReactComposerAttachmentInitState","ReactComposerAttachmentType","ReactComposerFocusActionTypes","ReactComposerStoreBaseGatedModule","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ReactComposerStoreBaseGatedModule").module;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{attachments:[],selectedAttachment:null,isSelectedAttachmentActive:false,proxiedAttachment:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT:l&&l.$ReactComposerAttachmentStore1(m);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerAttachmentStore2(m);break;case c("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP:l&&l.$ReactComposerAttachmentStore3(m);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:l&&l.$ReactComposerAttachmentStore4(m);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:l&&l.$ReactComposerAttachmentStore5(m);break;case c("ReactComposerAttachmentActionType").SET_INITIALIZED:l&&l.$ReactComposerAttachmentStore6(m);break;case c("ReactComposerFocusActionTypes").FOCUS_LOST:l&&l.$ReactComposerAttachmentStore7(m);break}});l=this}k.prototype.getAttachment=function(l,m){"use strict";var n=this.getComposerData(l);return n.attachments.find(function(o){return o.id===m})};k.prototype.getSelectedAttachmentID=function(l){"use strict";var m=this.getComposerData(l);if(m.selectedAttachment)return m.selectedAttachment.id;return null};k.prototype.getProxiedAttachmentID=function(l){"use strict";var m=this.getComposerData(l);if(m.proxiedAttachment)return m.proxiedAttachment.id;return null};k.prototype.hasAttachment=function(l,m){"use strict";return this.getComposerData(l).attachments.some(function(n){return n.id===m})};k.prototype.getIsAttachmentSelected=function(l,m){"use strict";var n=this.getComposerData(l).selectedAttachment;return!!n&&n.id===m};k.prototype.getIsAttachmentSelectedOrProxied=function(l,m){"use strict";if(this.getIsAttachmentSelected(l,m))return true;else{var n=this.getComposerData(l).proxiedAttachment;return!!n&&n.id===m}};k.prototype.isSelectedAttachmentActive=function(l){"use strict";return this.getComposerData(l).isSelectedAttachmentActive};k.prototype.isBootstrapped=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootstrapped};k.prototype.getBootloadDuration=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootloadDuration};k.prototype.getBootstrapDuration=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootstrapDuration};k.prototype.getAttachmentMarkup=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].markup};k.prototype.getAttachmentsConfig=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].config};k.prototype.$ReactComposerAttachmentStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","id"]),n=m[0],o=m[1],p=this.getComposerData(n),q=new(c("ImmutableObject"))({id:o,initState:c("ReactComposerAttachmentInitState").UNINITIALIZED,bootloaded:l.bootloaded,bootstrapped:l.bootstrapped,module:l.module,postButtonModule:l.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,config:o===c("ReactComposerAttachmentType").MEDIA&&l.config?{videoUploadParams:l.config.videoUploadParams||{}}:null});p.attachments.push(q);if(l.selected)p.selectedAttachment=q;if(l.active)p.isSelectedAttachmentActive=true;this.emitChange(n)};k.prototype.$ReactComposerAttachmentStore9=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);if(p.attachments[q].initState===c("ReactComposerAttachmentInitState").UNINITIALIZED)p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{initState:c("ReactComposerAttachmentInitState").INITIALIZING});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore2=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["id","composerID","activate"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(o),r=this.$ReactComposerAttachmentStore8(q,n);q.selectedAttachment=q.attachments[r];q.isSelectedAttachmentActive=p;if(q.attachments[r].initState===c("ReactComposerAttachmentInitState").UNINITIALIZED)q.attachments[r]=c("ImmutableObject").set(q.attachments[r],{initState:c("ReactComposerAttachmentInitState").INITIALIZING});if(l.proxiedAttachmentID){var s=this.$ReactComposerAttachmentStore8(q,l.proxiedAttachmentID);q.proxiedAttachment=q.attachments[s]}else delete q.proxiedAttachment;this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore4=function(l){"use strict";var m=this.validateAction(l,["id","composerID","attachmentModule"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(o),r=this.$ReactComposerAttachmentStore8(q,n);q.attachments[r]=c("ImmutableObject").set(q.attachments[r],{bootloaded:true,bootloadDuration:c("performanceAbsoluteNow")()-q.attachments[r].initTime,module:p,postButtonModule:l.postButtonModule});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore5=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{bootstrapped:true,bootstrapDuration:c("performanceAbsoluteNow")()-p.attachments[q].initTime});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n),q=o.attachmentID;if(!q)return;var r=this.$ReactComposerAttachmentStore8(p,q);p.attachments[r]=c("ImmutableObject").set(p.attachments[r],{markup:o.markup});this.emitChange(n)};k.prototype.$ReactComposerAttachmentStore6=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{initState:c("ReactComposerAttachmentInitState").INITIALIZED,initTime:c("performanceAbsoluteNow")()});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore7=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getProxiedAttachmentID(m);n&&this.$ReactComposerAttachmentStore2({composerID:m,id:this.getProxiedAttachmentID(m),activate:false})};k.prototype.$ReactComposerAttachmentStore8=function(l,m){"use strict";__p&&__p();var n=-1;for(var o=0;o<l.attachments.length;o++)if(l.attachments[o].id===m){n=o;break}if(n===-1)throw new Error("Undefined attachment id: "+m);return n};f.exports=new k()}),null);
__d("ReactComposerMediaUploadType",[],(function a(b,c,d,e,f,g){f.exports={PHOTO:"PHOTO",VIDEO:"VIDEO"}}),null);
__d("ReactComposerOptimisticPostingActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},"ReactComposerOptimisticPostingActionType")}),null);
__d("ReactComposerPhotoUpload",["immutable"],(function a(b,c,d,e,f,g){f.exports=c("immutable").Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,useRealProgressPercentage:false,useProgressLinearity:null,useProgressTransformX:null,state:null,thumbSrc:null,width:null,xyTags:[],videoMetadata:null,stickyUploadItemID:null,canShowSphericalSingletonNux:false,flatPhotoID:null,sphericalImage:null,isSpherical:false,isSphericalVideo:false,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:false,isFromPrefill:false,holidayCardID:null})}),null);
__d("StickyUploadGating",["gkx"],(function a(b,c,d,e,f,g){"use strict";function h(){return c("gkx")("AT6x3WzM5afyBAwbnmUpW9Olv3wdDN3xSqQhqwBGrZhWeJK8flAb5rzdClCIeUBHXrOg3tS0SeRU1vA2lGoy2paF")}f.exports={enabled:h}}),null);
__d("StickyUploadBootloader",["Promise","Bootloader","StickyUploadGating"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("StickyUploadGating").enabled,i=null,j=null;function k(n){__p&&__p();if(!i){if(!h())return;i=new(c("Promise"))(function(o){return c("Bootloader").loadModules(["StickyUploadAPI"],function(p){j=p;o(p)},"StickyUploadBootloader")})}if(n)i.then(n).done()}function l(){return!!i}function m(){return j}f.exports={enabled:h,loadAPI:k,hasStartedLoadingAPI:l,getAPI:m}}),null);
__d("ReactComposerMediaUploadStore",["invariant","StickyUploadBootloader","immutable","PhotoEditorSaveStates","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerPhotoUpload","ReactComposerPhotoUploadState","ReactComposerStoreBase","ReactComposerVideoXUploader","ReactComposerOptimisticPostingActionType"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";__p&&__p();var l=void 0;j.constructor.call(this,function(){return{removedIDs:c("immutable").Set(),uploads:c("immutable").List(),uploadsByID:c("immutable").Map(),videoUploader:null,hideVideos:false,stickyUploadCollectionID:null}},function(m){__p&&__p();if(l&&l.$ReactComposerMediaUploadStore1(m))return;switch(m.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:l&&l.$ReactComposerMediaUploadStore2(m);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED:l&&l.$ReactComposerMediaUploadStore3(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:l&&l.$ReactComposerMediaUploadStore4(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS:l&&l.$ReactComposerMediaUploadStore5(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:l&&l.$ReactComposerMediaUploadStore6(m,c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_DONE);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:l&&l.$ReactComposerMediaUploadStore6(m,c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING:l&&l.$ReactComposerMediaUploadStore7(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL:l&&l.$ReactComposerMediaUploadStore8(m);break;case c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL:case c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL:l&&l.$ReactComposerMediaUploadStore9(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS:l&&l.$ReactComposerMediaUploadStore5(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore10(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore11(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED:l&&l.$ReactComposerMediaUploadStore12(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:case c("ReactComposerPhotoActionType").PHOTO_REMOVE:l&&l.$ReactComposerMediaUploadStore13(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED:l&&l.$ReactComposerMediaUploadStore14(m);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:l&&l.$ReactComposerMediaUploadStore15(m);break;case c("ReactComposerMediaUploadActionType").REORDER_MEDIAS:l&&l.$ReactComposerMediaUploadStore16(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:l&&l.$ReactComposerMediaUploadStore17(m);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:l&&l.$ReactComposerMediaUploadStore18(m);break;case c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN:l&&l.$ReactComposerMediaUploadStore19(m);break;case c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN:l&&l.$ReactComposerMediaUploadStore20(m);break;case c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:l&&l.$ReactComposerMediaUploadStore21(m);break;default:}});l=this}k.prototype.getMediaUploadExists=function(l,m){"use strict";var n=this.getComposerData(l);return n.uploadsByID.get(m)!==undefined};k.prototype.getMediaUpload=function(l,m){"use strict";return this.$ReactComposerMediaUploadStore22(this.getComposerData(l),m)};k.prototype.getUploadIndex=function(l,m){"use strict";return this.$ReactComposerMediaUploadStore23(this.getComposerData(l),m)};k.prototype.getUploads=function(l){"use strict";var m=this.getComposerData(l);if(m.hideVideos)return m.uploads.filter(function(n){return n.mediaType!==c("ReactComposerMediaUploadType").VIDEO});else return this.getComposerData(l).uploads};k.prototype.getPhotos=function(l){"use strict";var m=this.getComposerData(l);return m.uploads.filter(function(n){return n.mediaType!==c("ReactComposerMediaUploadType").VIDEO})};k.prototype.getUploadsOfType=function(l,m){"use strict";var n=this.getUploads(l).filter(function(o){return o.mediaType===m});return n};k.prototype.getUploadsCount=function(l,m){"use strict";if(!m)return this.getComposerData(l).uploads.size;return this.getComposerData(l).uploads.filter(function(n){return n.mediaType===m}).size};k.prototype.getNonPrefillVideoUploadsCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").VIDEO).filter(function(m){return!m.isFromPrefill}).size};k.prototype.getSphericalPhotoCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO).filter(function(m){return m.isSpherical}).size};k.prototype.getNonsphericalPhotoCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO).filter(function(m){return!m.isSpherical}).size};k.prototype.getHasUploadBeenRemoved=function(l,m){"use strict";var n=this.getComposerData(l);return n.removedIDs.has(m)};k.prototype.isUploading=function(l){"use strict";return this.getUploads(l).some(function(m){return m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED&&m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED})};k.prototype.getTotalNumberOfStickersOnPhotos=function(l){"use strict";var m=0;this.getUploads(l).forEach(function(n){var o=n.get("originalPhotoID");if(o)m+=c("PhotoEditorSaveStates").getTotalNumOfStickersOnPhoto(o)});return m};k.prototype.getVideoUploader=function(l,m){"use strict";var n=this.getComposerData(l);if(!n.videoUploader){var o=new(c("ReactComposerVideoXUploader"))({composerID:l,uploaderParams:m});n.videoUploader=o}return n.videoUploader};k.prototype.$ReactComposerMediaUploadStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","mediaType","uploadID","filename","fileURL","index","xyTags","isSpherical"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5],t=m[6],u=m[7];if(o===c("ReactComposerMediaUploadType").VIDEO)this.$ReactComposerMediaUploadStore24(n,p,q);this.$ReactComposerMediaUploadStore25(n,s,new(c("ReactComposerPhotoUpload"))({id:p,mediaType:o,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:q,fileURL:r,xyTags:t,isSpherical:u}));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","metadata"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(q,o,function(r){return r.withMutations(function(r){return r.set("videoMetadata",p)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(p,o,function(q){return q.withMutations(function(q){return q.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED).set("progress",0)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","fileUpload"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=p&&p.getFile&&p.getFile().size;this.$ReactComposerMediaUploadStore26(q,o,function(s){return s.withMutations(function(s){return s.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING).set("progress",0).set("fileUpload",p).set("fileSize",r||null)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","progress"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=l.use_real_progress_percentage?l.use_real_progress_percentage:false,s=l.use_progress_linearity!=null?l.use_progress_linearity:0,t=l.use_progress_transform_x!=null?l.use_progress_transform_x:0;this.$ReactComposerMediaUploadStore26(q,o,function(u){return u.set("progress",p).set("useRealProgressPercentage",r).set("useProgressLinearity",s).set("useProgressTransformX",t)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore10=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","photoID"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(q,o,function(r){return r.withMutations(function(s){return s.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE).set("photoID",p).set("sphericalPhotoID",l.sphericalPhotoID).set("originalPhotoID",l.originalPhotoID||p).set("progress",100).set("isSphericalVideo",!!l.isSphericalVideo).remove("fileUpload")})});if(!l.cubestripURI)this.$ReactComposerMediaUploadStore26(q,o,function(r){return r.set("isSpherical",false)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore11=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","photoID","cubestripURI"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getUploadsCount(n);this.$ReactComposerMediaUploadStore25(n,r,new(c("ReactComposerPhotoUpload"))({id:o,photoID:p,mediaType:c("ReactComposerMediaUploadType").PHOTO,originalPhotoID:p,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,isSpherical:Boolean(q)}));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore8=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","isSpherical"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerMediaUploadStore26(this.getComposerData(n),o,function(q){return q.withMutations(function(q){return q.set("isSpherical",p).set("projectionType",l.projectionType)})})};k.prototype.$ReactComposerMediaUploadStore12=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(p,o,function(q){return q.withMutations(function(q){return q.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED).set("error",l.error)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore13=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMediaUploadStore23(p,o),r=p.uploads.get(q);if(r.mediaType==c("ReactComposerMediaUploadType").VIDEO){if(r.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING)p.videoUploader.cancelUpload(o);else{if(!p.videoUploader){var s=c("ReactComposerAttachmentStore").getAttachmentsConfig(n,c("ReactComposerAttachmentType").MEDIA);s||h(0);this.getVideoUploader(n,s.videoUploadParams)}p.videoUploader.deleteUpload(o)}if(c("StickyUploadBootloader").hasStartedLoadingAPI())c("StickyUploadBootloader").loadAPI(function(v){if(!r.stickyUploadItemID)return;v.deleteItem(r.stickyUploadItemID)})}p.uploads=p.uploads["delete"](q);p.uploadsByID=p.uploadsByID["delete"](o);for(var t=q;t<p.uploads.size;t++){var u=p.uploads.get(t).id;p.uploadsByID=p.uploadsByID.set(u,t)}p.removedIDs=p.removedIDs.add(o);this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore9=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","thumbSrc"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(q,o,function(r){return r.set("thumbSrc",p)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore6=function(l,m){"use strict";var n=this.validateAction(l,["composerID","uploadID"]),o=n[0],p=n[1];this.$ReactComposerMediaUploadStore27(o,p,m);this.emitChange(o)};k.prototype.$ReactComposerMediaUploadStore14=function(l){"use strict";var m=this.validateAction(l,["composerID","from","to"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,1).splice(p,0,q.uploads.get(o));q.uploadsByID=q.uploads.groupBy(function(r,s){return s}).toMap().map(function(r){return r.first().id}).flip();this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore16=function(l){"use strict";var m=this.validateAction(l,["composerID","mediaIDs"]),n=m[0],o=m[1],p=this.getComposerData(n);p.uploads=o.map(function(q){return this.$ReactComposerMediaUploadStore22(p,q)}.bind(this));p.uploadsByID=p.uploads.groupBy(function(q,r){return r}).toMap().map(function(q){return q.first().id}).flip();this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore15=function(l){"use strict";var m=this.validateAction(l,["composerID","medias"]),n=m[0],o=m[1];o.forEach(function(p,q){this.$ReactComposerMediaUploadStore25(n,q,new(c("ReactComposerPhotoUpload"))({id:p.uploadID,photoID:p.photoID,mediaType:p.mediaType,originalPhotoID:p.photoID,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,thumbSrc:p.thumbSrc,fileURL:p.fileURL||p.imageSrc,filename:p.filename,isSpherical:Boolean(p.cubestripURI),height:p.height,width:p.width,isFromPrefill:true,holidayCardID:p.holidayCardID}))}.bind(this));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore17=function(l){"use strict";var m=this.validateAction(l,["composerID","index","upload"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,0,p);for(var r=o;r<q.uploads.size;r++){var s=q.uploads.get(r).id;q.uploadsByID=q.uploadsByID.set(s,r)}this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore18=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","sphericalImage","useLocalSphericalImage"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);this.$ReactComposerMediaUploadStore26(r,o,function(s){return s.withMutations(function(s){return s.set("sphericalImage",p).set("useLocalSphericalImage",q)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore19=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.hideVideos=true;this.emitChange(m)};k.prototype.$ReactComposerMediaUploadStore20=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.hideVideos=false;this.emitChange(m)};k.prototype.$ReactComposerMediaUploadStore21=function(l){"use strict";var m=this.validateAction(l,["composerID"]);if(c("StickyUploadBootloader").hasStartedLoadingAPI())c("StickyUploadBootloader").loadAPI(function(n){var o=this.getComposerData(m);if(!o.stickyUploadCollectionID)return;n.setCollectionVisibility(o.stickyUploadCollectionID,true)}.bind(this))};k.prototype.$ReactComposerMediaUploadStore27=function(l,m,n){"use strict";var o=this.getComposerData(l);this.$ReactComposerMediaUploadStore26(o,m,function(p){return p.set("state",n)})};k.prototype.$ReactComposerMediaUploadStore26=function(l,m,n){"use strict";var o=this.$ReactComposerMediaUploadStore28(l,m),p=o[0],q=o[1];l.uploads=l.uploads.set(q,n(p,q))};k.prototype.$ReactComposerMediaUploadStore28=function(l,m){"use strict";var n=this.$ReactComposerMediaUploadStore23(l,m);return[l.uploads.get(n),n]};k.prototype.$ReactComposerMediaUploadStore23=function(l,m){"use strict";var n=l.uploadsByID.get(m);if(n===undefined)throw new Error("Upload "+m+" hasn't been registered");return n};k.prototype.$ReactComposerMediaUploadStore22=function(l,m){"use strict";var n=this.$ReactComposerMediaUploadStore23(l,m);return l.uploads.get(n)};k.prototype.$ReactComposerMediaUploadStore1=function(l){"use strict";if(c("ReactComposerMediaUploadActionType")[l.type]){var m=l.composerID,n=l.uploadID;if(n==null)return false;return this.getHasUploadBeenRemoved(m,n)}return false};k.prototype.$ReactComposerMediaUploadStore24=function(l,m,n){"use strict";c("StickyUploadBootloader").loadAPI(function(o){var p=this.getComposerData(l);if(!p.stickyUploadCollectionID)p.stickyUploadCollectionID=o.createCollection(false);var q=o.registerItem(p.stickyUploadCollectionID,n);this.$ReactComposerMediaUploadStore26(p,m,function(r){return r.set("stickyUploadItemID",q)})}.bind(this))};k.prototype.$ReactComposerMediaUploadStore25=function(l,m,n){"use strict";var o=this.getComposerData(l);o.uploads=o.uploads.splice(m,0,n);for(var p=m;p<o.uploads.size;p++){var q=o.uploads.get(p).id;o.uploadsByID=o.uploadsByID.set(q,p)}this.$ReactComposerMediaUploadStore29(l,n)};k.prototype.$ReactComposerMediaUploadStore29=function(l,m){__p&&__p();var n,o=this,p;"use strict";if(m.mediaType==c("ReactComposerMediaUploadType").PHOTO)(function(){var q=new Image();q.onload=function(){var r=this.getComposerData(l);this.$ReactComposerMediaUploadStore26(r,m.id,function(s){return s.withMutations(function(s){return s.set("height",q.height).set("width",q.width)})});this.emitChange(l)}.bind(o);q.src=m.fileURL})();else if(m.mediaType==c("ReactComposerMediaUploadType").VIDEO)(function(){var q=document.createElement("video");q.onloadedmetadata=function(){var r=this.getComposerData(l);this.$ReactComposerMediaUploadStore26(r,m.id,function(s){return s.withMutations(function(s){return s.set("height",q.videoHeight).set("width",q.videoWidth)})});this.emitChange(l)}.bind(o);q.src=m.fileURL})()};f.exports=new k()}),null);
__d("MultimediaUploadProcessingDialog.react",["fbt","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={dialogShown:true},this.$MultimediaUploadProcessingDialog1=function(){return this.props.numOfVideos===1?h._("Video trong b\u00e0i vi\u1ebft \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\u00fd. Ch\u00fang t\u00f4i s\u1ebd g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o khi ho\u00e0n t\u1ea5t v\u00e0 b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n s\u1eb5n s\u00e0ng \u0111\u1ec3 xem."):h._("C\u00e1c video trong b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c x\u1eed l\u00fd. Ch\u00fang t\u00f4i s\u1ebd g\u1eedi cho b\u1ea1n th\u00f4ng b\u00e1o khi ho\u00e0n t\u1ea5t v\u00e0 b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n s\u1eb5n s\u00e0ng \u0111\u1ec3 xem.")}.bind(this),this.$MultimediaUploadProcessingDialog2=function(){return h._("\u0110ang x\u1eed l\u00fd video")},n}l.prototype.UNSAFE_componentWillReceiveProps=function(m){if(m.show)this.setState({dialogShown:true})};l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.state.dialogShown,"data-testid":"video_processing_dialog",width:400},c("React").createElement(c("XUIDialogTitle.react"),null,this.$MultimediaUploadProcessingDialog2()),c("React").createElement(c("XUIDialogBody.react"),null,this.$MultimediaUploadProcessingDialog1()))};l.propTypes={numOfVideos:k.number.isRequired};f.exports=l}),null);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function a(b,c,d,e,f,g){var h={hasVideos:function i(j){return this.filterVideos(j).length>0},hasAudioFiles:function i(j){return this.filterAudioFiles(j).length>0},filterVideos:function i(j){return this.filterFileOfSupportedType(j,c("VideoUploadConfig").videoExtensions)},filterAudioFiles:function i(j){return this.filterFileOfSupportedType(j,c("ComposerXNativeAudioUploadsConfig").audioExtensions)},filterFileOfSupportedType:function i(j,k){return j.filter(function(l){var m=l.indexOf(".")!==-1?l.split(".").pop().toLowerCase():"";return k[m]})}};f.exports=h}),null);
__d("ImageExtensions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GIF:"gif",JPG:"jpg",PNG:"png",ICO:"ico",BMP:"bmp",WEBP:"webp",BEST:"best",PNG2JPG:"png2jpg",MP4:"mp4"})}),null);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function a(b,c,d,e,f,g){var h={supportsChunking:function i(){return typeof c("fileSlice")==="function"&&this.supportsXHR()},supportsFullProgress:function i(){return!c("UserAgent_DEPRECATED").firefox()},supportsFileAPI:function i(){return"FileList"in window},supportsFileReading:function i(){return"FileReader"in window&&"DataView"in window},supportsXHR:function i(){return"FormData"in window}};f.exports=h}),null);
__d("VideoUploadFile",["fileSlice","ImageExtensions","VideoCreatorProductType","VideoUploadFeatureDetector"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";this.$VideoUploadFile1=i;this.$VideoUploadFile2=j;this.$VideoUploadFile3=k;this.$VideoUploadFile4=l}h.fromFile=function(i){"use strict";var j=h.getExtensionFromFileName(i.name);return new this(null,i,i.size,j)};h.fromFileInput=function(i){"use strict";var j=null,k=null,l=h.getExtensionFromFileInput(i);if(c("VideoUploadFeatureDetector").supportsFileAPI()&&i.files.length){j=i.files[0];k=j.size}return new this(i,j,k,l)};h.prototype.getFileInput=function(){"use strict";return this.$VideoUploadFile1};h.prototype.getFile=function(){"use strict";return this.$VideoUploadFile2};h.prototype.getSize=function(){"use strict";return this.$VideoUploadFile3};h.prototype.getExtension=function(){"use strict";return this.$VideoUploadFile4};h.prototype.getCreatorProduct=function(){"use strict";if(this.$VideoUploadFile4===c("ImageExtensions").GIF)return c("VideoCreatorProductType").ANIMATED_GIFS;return c("VideoCreatorProductType").CORE_VIDEOS};h.prototype.getChunk=function(i,j){"use strict";return this.$VideoUploadFile2?c("fileSlice").call(this.$VideoUploadFile2,i,j):null};h.getExtensionFromFileInput=function(i){"use strict";return this.getExtensionFromFileName(i.value)};h.getExtensionFromFileName=function(i){"use strict";return i.indexOf(".")!=-1?i.split(".").pop().toLowerCase():""};f.exports=h}),null);
__d("VideoUploadLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){__p&&__p();this._source=j.source;this._composerDialogVersion=j.composer_dialog_version;this._waterfallID=j.waterfall_id;this._targetID=j.target_id;this._delay=j.delay;this._times=[];this._isChunkedUpload=j.is_chunked_upload;this._actorID=j.actor_id;this._composerEntryPointRef=j.composer_entry_point_ref;this._isRemoteUpload=j.is_remote_upload;this._containerType=j.container_type;this._hasFileBeenReplaced=j.has_file_been_replaced}var i={BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer",EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1"};Object.assign(h,i);Object.assign(h.prototype,{logEvent:function j(event,k){__p&&__p();var l=babelHelpers["extends"]({},k);if(l.elapsed_time==null)if(event.indexOf("started")!==-1)this._times[event]=Date.now();else if(event.indexOf("finished")!==-1)l.elapsed_time=this._computeElapsedTime(event,"finished");else if(event.indexOf("canceled")!==-1)l.elapsed_time=this._computeElapsedTime(event,"canceled");else if(event.indexOf("failed")!==-1)l.elapsed_time=this._computeElapsedTime(event,"failed");l.event=event;l.source=this._source;l.composer_dialog_version=l.composer_dialog_version||this._composerDialogVersion;l.waterfall_id=this._waterfallID;l.target_id=this._targetID;l.is_chunked_upload=this._isChunkedUpload;l.actor_id=this._actorID;l.composer_entry_point_ref=this._composerEntryPointRef;l.is_remote_upload=this._isRemoteUpload;l.container_type=this._containerType;l.has_file_been_replaced=this._hasFileBeenReplaced;c("Banzai").post(h.BANZAI_ROUTE,l,{delay:this._delay,retry:true})},getWaterfallID:function j(){return this._waterfallID},_computeElapsedTime:function j(event,k){var l=event.replace(k,"started"),m=this._times[l];return m?Date.now()-m:null}});f.exports=h}),null);
__d("VideoUploadProgressBar",["cx","CSS","VideoUploadFeatureDetector"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";__p&&__p();this.$VideoUploadProgressBar1=j.progress_bar;this.$VideoUploadProgressBar2=j.throbber;this.$VideoUploadProgressBar3=j.uploader;this.$VideoUploadProgressBar4=j.start_margin;this.$VideoUploadProgressBar5=j.start_delay;this.$VideoUploadProgressBar6=j.end_margin;this.$VideoUploadProgressBar7=j.end_delay;this.$VideoUploadProgressBar8=j.progress_bar_label;this.$VideoUploadProgressBar9()}i.prototype.reset=function(){"use strict";this.$VideoUploadProgressBar1.setPosition(0)};i.prototype.getRoot=function(){"use strict";return this.$VideoUploadProgressBar1.getRoot()};i.computeProgress=function(j,k,l,m,n){"use strict";var o=Math.min(j+k,l);return o/l*(100-m-n)+m};i.prototype.$VideoUploadProgressBar9=function(){"use strict";if(c("VideoUploadFeatureDetector").supportsFileAPI()){this.$VideoUploadProgressBar3.subscribe("upload-requested",this.$VideoUploadProgressBar10.bind(this));this.$VideoUploadProgressBar3.subscribe("upload-progressed",this.$VideoUploadProgressBar11.bind(this));this.$VideoUploadProgressBar3.subscribe("online",this.$VideoUploadProgressBar12.bind(this));this.$VideoUploadProgressBar3.subscribe("offline",this.$VideoUploadProgressBar13.bind(this))}else this.$VideoUploadProgressBar3.subscribe("upload-requested",this.$VideoUploadProgressBar14.bind(this))};i.prototype.$VideoUploadProgressBar10=function(event){"use strict";c("CSS").show(this.$VideoUploadProgressBar1.getRoot());c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a");this.$VideoUploadProgressBar1.setTarget(this.$VideoUploadProgressBar4,this.$VideoUploadProgressBar5);this.$VideoUploadProgressBar15(0)};i.prototype.$VideoUploadProgressBar15=function(j){"use strict";if(this.$VideoUploadProgressBar8)this.$VideoUploadProgressBar1.changeLabel(""+j.toFixed(1)+"%")};i.prototype.$VideoUploadProgressBar11=function(event,j){"use strict";c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a");var k=i.computeProgress(j.start_offset,j.sent_bytes,j.file_size,this.$VideoUploadProgressBar4,this.$VideoUploadProgressBar6);this.$VideoUploadProgressBar1.setPosition(k);this.$VideoUploadProgressBar15(k);if(k>=100-this.$VideoUploadProgressBar6){this.$VideoUploadProgressBar1.setTarget(100,this.$VideoUploadProgressBar7);this.$VideoUploadProgressBar15(100)}};i.prototype.$VideoUploadProgressBar12=function(event){"use strict";c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a")};i.prototype.$VideoUploadProgressBar13=function(event){"use strict";c("CSS").addClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a")};i.prototype.$VideoUploadProgressBar14=function(event){"use strict";c("CSS").show(this.$VideoUploadProgressBar2)};f.exports=i}),null);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("Bandicoot"));i=h&&h.prototype;function j(k,l,m,n,o,p,q,r){"use strict";i.constructor.call(this,"VideoUploadSession");this.$VideoUploadCrashMonitor1={waterfallID:k,actorID:l,source:m,targetID:n,loggingDelay:o,supportsChunking:p,composerEntryPointRef:q,flowStarted:r}}j.prototype.flowStarted=function(){"use strict";this.$VideoUploadCrashMonitor1.flowStarted=true};j.prototype.getCrashTimeData=function(){"use strict";return this.$VideoUploadCrashMonitor1};j.prototype.logCrash=function(k,l,m){"use strict";if(!l.waterfallID)return;var n=new(c("VideoUploadLogger"))({actor_id:l.actorID,source:l.source,waterfall_id:l.waterfallID,target_id:l.targetID,delay:l.loggingDelay,is_chunked_upload:l.supportsChunking,composer_entry_point_ref:l.composerEntryPointRef}),o={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};n.logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,o);if(l.flowStarted)n.logEvent(c("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};f.exports=j}),null);
__d("VideoUploadFileValidator",["errorCode","fbt","ErrorDialog","ImageExtensions","Link.react","React","killswitch"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],k=["VIDEO__INVALID_GUIDE_DATA"];function l(m){"use strict";this.$VideoUploadFileValidator1=m}l.prototype.validate=function(m,n){"use strict";return this.$VideoUploadFileValidator2(m)&&this.$VideoUploadFileValidator3(m)&&this.$VideoUploadFileValidator4(m.getExtension()===c("ImageExtensions").GIF,n)};l.prototype.getValidationErrorMessage=function(m,n){"use strict";return this.$VideoUploadFileValidator5(m)||this.$VideoUploadFileValidator6(m)||this.$VideoUploadFileValidator7(m.getExtension()===c("ImageExtensions").GIF,n)};l.canReplaceVideoForError=function(h){"use strict";if(!h)return true;if(k.indexOf(h)>-1)return false;if(j.indexOf(h)>-1)return true;return false};l.prototype.$VideoUploadFileValidator2=function(m){"use strict";var n=this.$VideoUploadFileValidator5(m);if(n){c("ErrorDialog").show(n.summary,n.description);return false}else return true};l.prototype.$VideoUploadFileValidator5=function(m){"use strict";if(this.$VideoUploadFileValidator1.extensions[m.getExtension()])return;var n="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?",o=c("React").createElement(c("Link.react"),{href:n},i._("\u0111\u1ecbnh d\u1ea1ng \u0111\u01b0\u1ee3c \u0111\u1ec1 xu\u1ea5t"));return{summary:i._("\u0110\u1ecbnh d\u1ea1ng t\u1ec7p kh\u00f4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),description:i._("R\u1ea5t ti\u1ebfc, t\u1ec7p b\u1ea1n \u0111\u00e3 ch\u1ecdn c\u00f3 \u0111\u1ecbnh d\u1ea1ng m\u00e0 ch\u00fang t\u00f4i kh\u00f4ng h\u1ed7 tr\u1ee3. Vui l\u00f2ng s\u1eed d\u1ee5ng m\u1ed9t trong c\u00e1c {link} c\u1ee7a ch\u00fang t\u00f4i cho t\u1ec7p video.",[i._param("link",o)])}};l.prototype.$VideoUploadFileValidator3=function(m){"use strict";var n=this.$VideoUploadFileValidator6(m);if(n){c("ErrorDialog").show(n.summary,n.description);return false}else return true};l.prototype.$VideoUploadFileValidator6=function(m){"use strict";var n;if(m.getSize()===null)return;if(m.getSize()<this.$VideoUploadFileValidator1.minSize)n=this.$VideoUploadFileValidator8();if(m.getSize()>this.$VideoUploadFileValidator1.maxSize)n=this.$VideoUploadFileValidator9();return n};l.prototype.$VideoUploadFileValidator8=function(){"use strict";var m=Math.round(this.$VideoUploadFileValidator1.minSize/1024);return{summary:i._("T\u1ec7p video qu\u00e1 nh\u1ecf"),description:i._("T\u1ec7p video b\u1ea1n c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 nh\u1ecf. K\u00edch th\u01b0\u1edbc t\u1ed1i thi\u1ec3u c\u1ee7a t\u1ec7p video l\u00e0 {min-size} KB. Vui l\u00f2ng th\u1eed l\u1ea1i v\u1edbi t\u1ec7p l\u1edbn h\u01a1n.",[i._param("min-size",m)])}};l.prototype.$VideoUploadFileValidator9=function(){"use strict";var m=Math.floor(this.$VideoUploadFileValidator1.maxSize/1024/1024);return{summary:i._("T\u1ec7p video qu\u00e1 l\u1edbn"),description:i._("T\u1ec7p video b\u1ea1n \u0111\u00e3 c\u1ed1 t\u1ea3i l\u00ean n\u00e0y qu\u00e1 l\u1edbn. K\u00edch th\u01b0\u1edbc t\u1ed1i \u0111a cho m\u1ed9t t\u1ec7p video l\u00e0 {max-size} MB. Vui l\u00f2ng th\u1eed l\u1ea1i v\u1edbi t\u1ec7p nh\u1ecf h\u01a1n.",[i._param("max-size",m)])}};l.prototype.$VideoUploadFileValidator4=function(m,n){"use strict";var o=this.$VideoUploadFileValidator7(m,n);if(o){c("ErrorDialog").show(o.summary,o.description);return false}else return true};l.prototype.$VideoUploadFileValidator7=function(m,n){"use strict";__p&&__p();var o;if(!n)return;var p=n.format.duration;if(p){if(p>this.$VideoUploadFileValidator1.maxLength)o=this.$VideoUploadFileValidator10();if(p<this.$VideoUploadFileValidator1.minLength&&!m)o=this.$VideoUploadFileValidator11()}if(!n.streams||!n.streams.primaryVideo)return;var q=n.streams.primaryVideo.width,r=n.streams.primaryVideo.height,s=0,t=0;if(n.videoPlayerData!==null){s=n.videoPlayerData.height;t=n.videoPlayerData.width}if(!c("killswitch")("VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG")&&t!==0&&s!==0){q=t;r=s}if(!n.streams.primaryVideo&&n.streams.primaryAudio)o=this.$VideoUploadFileValidator12();if(q<this.$VideoUploadFileValidator1.minWidth)o=this.$VideoUploadFileValidator13();if(r<this.$VideoUploadFileValidator1.minHeight)o=this.$VideoUploadFileValidator14();var u=q/r;if(this.$VideoUploadFileValidator1.require16to9AspectRatio)if(u>2||u<1.6)o=this.$VideoUploadFileValidator15();if(this.$VideoUploadFileValidator1.minAspectRatio)if(u<this.$VideoUploadFileValidator1.minAspectRatio)o=this.$VideoUploadFileValidator16();if(this.$VideoUploadFileValidator1.maxAspectRatio)if(u>this.$VideoUploadFileValidator1.maxAspectRatio)o=this.$VideoUploadFileValidator17();return o};l.prototype.$VideoUploadFileValidator10=function(){"use strict";if(this.$VideoUploadFileValidator1.source==="profile_video")return{summary:i._("Th\u1eddi l\u01b0\u1ee3ng video \u0111\u1ea1i di\u1ec7n qu\u00e1 d\u00e0i"),description:i._("\u0110\u1ed9 d\u00e0i t\u1ed1i \u0111a l\u00e0 {max-length} gi\u00e2y. Vui l\u00f2ng t\u1ea3i l\u00ean video ng\u1eafn h\u01a1n.",[i._param("max-length",this.$VideoUploadFileValidator1.maxLength)])};else return{summary:i._("Th\u1eddi l\u01b0\u1ee3ng video qu\u00e1 d\u00e0i"),description:i._("Th\u1eddi l\u01b0\u1ee3ng c\u1ee7a video b\u1ea1n c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 d\u00e0i. Th\u1eddi l\u01b0\u1ee3ng t\u1ed1i \u0111a c\u1ee7a video l\u00e0 {max-length} ph\u00fat. Vui l\u00f2ng t\u1ea3i l\u00ean video ng\u1eafn h\u01a1n.",[i._param("max-length",Math.round(this.$VideoUploadFileValidator1.maxLength/60))])}};l.prototype.$VideoUploadFileValidator11=function(){"use strict";return{summary:i._("T\u1ec7p video qu\u00e1 ng\u1eafn"),description:i._({"second":"Th\u1eddi l\u01b0\u1ee3ng c\u1ee7a video b\u1ea1n \u0111\u00e3 c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 ng\u1eafn. Th\u1eddi l\u01b0\u1ee3ng t\u1ed1i thi\u1ec3u cho video l\u00e0 {min-length} gi\u00e2y. Vui l\u00f2ng t\u1ea3i l\u00ean video d\u00e0i h\u01a1n.","seconds":"Th\u1eddi l\u01b0\u1ee3ng c\u1ee7a video b\u1ea1n \u0111\u00e3 c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 ng\u1eafn. Th\u1eddi l\u01b0\u1ee3ng t\u1ed1i thi\u1ec3u cho video l\u00e0 {min-length} gi\u00e2y. Vui l\u00f2ng t\u1ea3i l\u00ean video d\u00e0i h\u01a1n."},[i._param("min-length",this.$VideoUploadFileValidator1.minLength),i._enum(this.$VideoUploadFileValidator1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"})])}};l.prototype.$VideoUploadFileValidator12=function(){"use strict";var m="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?",n=c("React").createElement(c("Link.react"),{href:m},i._("\u0111\u1ecbnh d\u1ea1ng video \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"));return{summary:i._("Kh\u00f4ng t\u00ecm th\u1ea5y video"),description:i._("C\u00f3 v\u1ebb b\u1ea1n \u0111ang c\u1ed1 g\u1eafng t\u1ea3i l\u00ean t\u1ec7p kh\u00f4ng ph\u1ea3i video. Vui l\u00f2ng th\u1eed t\u1ea3i l\u00ean {supported-video-format link}",[i._param("supported-video-format link",n)])}};l.prototype.$VideoUploadFileValidator13=function(){"use strict";return{summary:i._("Chi\u1ec1u r\u1ed9ng video qu\u00e1 h\u1eb9p"),description:i._("Chi\u1ec1u r\u1ed9ng c\u1ee7a video b\u1ea1n c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 th\u1ea5p. Chi\u1ec1u r\u1ed9ng t\u1ed1i thi\u1ec3u l\u00e0 {min-width}. Vui l\u00f2ng t\u1ea3i l\u00ean video c\u00f3 k\u00edch th\u01b0\u1edbc r\u1ed9ng h\u01a1n.",[i._param("min-width",this.$VideoUploadFileValidator1.minWidth)])}};l.prototype.$VideoUploadFileValidator15=function(){"use strict";return{summary:i._("L\u1ed7i khi t\u1ea3i video l\u00ean"),description:i._("Video \u0111\u1eb9p nh\u1ea5t khi c\u00f3 t\u1ef7 l\u1ec7 khung h\u00ecnh 16:9. Vui l\u00f2ng ch\u1ec9nh s\u1eeda video v\u00e0 t\u1ea3i l\u00ean l\u1ea1i.")}};l.prototype.$VideoUploadFileValidator14=function(){"use strict";return{summary:i._("Chi\u1ec1u cao c\u1ee7a video qu\u00e1 th\u1ea5p"),description:i._("Chi\u1ec1u cao c\u1ee7a video b\u1ea1n c\u1ed1 t\u1ea3i l\u00ean qu\u00e1 th\u1ea5p. Chi\u1ec1u cao t\u1ed1i thi\u1ec3u l\u00e0 {min-height}. Vui l\u00f2ng t\u1ea3i l\u00ean video c\u00f3 k\u00edch th\u01b0\u1edbc cao h\u01a1n.",[i._param("min-height",this.$VideoUploadFileValidator1.minHeight)])}};l.prototype.$VideoUploadFileValidator17=function(){"use strict";return{summary:i._("T\u1ef7 l\u1ec7 khung h\u00ecnh qu\u00e1 l\u1edbn"),description:i._("Video b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 r\u1ed9ng. Video c\u1ea7n c\u00f3 t\u1ef7 l\u1ec7 khung h\u00ecnh t\u1eeb {max_aspect_ratio} \u0111\u1ebfn {min_aspect_ratio}.",[i._param("max_aspect_ratio",this.$VideoUploadFileValidator1.maxAspectRatio+":1"),i._param("min_aspect_ratio",this.$VideoUploadFileValidator1.minAspectRatio+":1")])}};l.prototype.$VideoUploadFileValidator16=function(){"use strict";return{summary:i._("T\u1ef7 l\u1ec7 khung h\u00ecnh qu\u00e1 th\u1ea5p"),description:i._("Video b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 cao. Video c\u1ea7n c\u00f3 t\u1ef7 l\u1ec7 khung h\u00ecnh t\u1eeb {max_aspect_ratio} \u0111\u1ebfn {min_aspect_ratio}.",[i._param("max_aspect_ratio",this.$VideoUploadFileValidator1.maxAspectRatio+":1"),i._param("min_aspect_ratio",this.$VideoUploadFileValidator1.minAspectRatio+":1")])}};f.exports=l}),null);
__d("ISOVideoBoxConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={BOX_BASE_SIZE:8,GSPHERICAL_UUID:[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221],FBSPHERICAL_UUID:[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193]};f.exports=h}),null);
__d("FBSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata",USED_360_DIRECTOR:"FBSpherical:Used360Director"})}),null);
__d("GSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware"})}),null);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({GSPHERICAL:c("GSphericalMetadataTags"),FBSPHERICAL:c("FBSphericalMetadataTags")});f.exports=h}),null);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={parseXMLToDocument:function i(j){__p&&__p();if(!j)return null;j=j.replace(/\0/g,"");var k=void 0;if(window.DOMParser){var l=new DOMParser();k=l.parseFromString(j,"text/xml")}else{k=new window.ActiveXObject("Microsoft.XMLDOM");k.async="false";k.loadXML(j)}return k},stringToProjectionType:function i(j){if(Object.values(c("VideoProjection")).includes(j))return j;else return null},stringToStereoMode:function i(j){if(Object.values(c("VideoStereoFormat")).includes(j))return j;else return null},getUnsupportedGSphericalTagsXML:function i(j){__p&&__p();var k=j.getElementsByTagNameNS("*","*"),l=null;for(var m=0;m<k.length;m++){var n=k[m],o=n.nodeName,p=n.parentElement;if(o!=="parsererror"&&p&&p.nodeName!=="parsererror"&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(o)<0&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(p.nodeName)<0){if(!l)l="";var q=n.outerHTML;l+="<"+o+q.slice(o.length+1,-(o.length+1))+o+">"}}return l},arrayBufferToFile:function i(j,k,l){return new File([j],k,{type:l})},stringToArrayBuffer:function i(j){var k=new ArrayBuffer(j.length),l=new DataView(k);for(var m=0;m<j.length;m++)l.setUint8(m,j.charCodeAt(m));return k},bufferToFile:function i(j,k,l){var m=j.buffer;return this.arrayBufferToFile(m,k,l)},uuidArrayEquals:function i(j,k){if(j.length!==k.length)return false;for(var l=0;l<j.length;l++)if(j[l]!==k[l])return false;return true}};f.exports=h}),null);
__d("VideoUploadSphericalLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();var h=3e3;function i(){"use strict";this.$VideoUploadSphericalLogger1={};this.$VideoUploadSphericalLogger2=false;this.$VideoUploadSphericalLogger3=0}i.prototype.log=function(){"use strict";this.$VideoUploadSphericalLogger2?this.$VideoUploadSphericalLogger4():this.$VideoUploadSphericalLogger5()};i.prototype.$VideoUploadSphericalLogger5=function(){"use strict";c("Banzai").post("spherical_video_composer_upload",babelHelpers["extends"]({},this.$VideoUploadSphericalLogger1))};i.prototype.$VideoUploadSphericalLogger4=function(){"use strict";var j=Date.now();if(j-this.$VideoUploadSphericalLogger3>h){this.$VideoUploadSphericalLogger3=j;this.$VideoUploadSphericalLogger5()}};i.prototype.setDirectorsCutEnabled=function(j){"use strict";this.$VideoUploadSphericalLogger1.directors_cut_enabled=j;return this};i.prototype.setFieldOfView=function(j){"use strict";this.$VideoUploadSphericalLogger1.field_of_view=j;return this};i.prototype.setFileExtension=function(j){"use strict";this.$VideoUploadSphericalLogger1.file_extension=j;return this};i.prototype.setHasSphericalMetadata=function(j){"use strict";this.$VideoUploadSphericalLogger1.has_spherical_metadata=j;return this};i.prototype.setPitchDegrees=function(j){"use strict";this.$VideoUploadSphericalLogger1.pitch_degrees=j;return this};i.prototype.setTargetID=function(j){"use strict";this.$VideoUploadSphericalLogger1.target_id=j;return this};i.prototype.setVideoID=function(j){"use strict";this.$VideoUploadSphericalLogger1.video_id=j;return this};i.prototype.setUserAction=function(j){"use strict";this.$VideoUploadSphericalLogger1.user_action=j;if(j==="drag_video_preview"||j==="scroll_video_preview")this.$VideoUploadSphericalLogger2=true;else this.$VideoUploadSphericalLogger2=false;return this};i.prototype.setVideoPreviewPosition=function(j){"use strict";this.$VideoUploadSphericalLogger1.video_preview_position=j;return this};i.prototype.setYawDegrees=function(j){"use strict";this.$VideoUploadSphericalLogger1.yaw_degrees=j;return this};i.prototype.setIsRedesign=function(j){"use strict";this.$VideoUploadSphericalLogger1.is_redesign=j;return this};i.prototype.setFinalGuideEnabled=function(j){"use strict";this.$VideoUploadSphericalLogger1.final_guide_enabled=j;return this};i.prototype.setFinalNumGuidePoints=function(j){"use strict";this.$VideoUploadSphericalLogger1.final_num_guide_points=j;return this};i.prototype.setIsNuxTest=function(j){"use strict";this.$VideoUploadSphericalLogger1.is_nux_test=j;return this};f.exports=new i()}),null);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("VideoSphericalMetadataUtil").parseXMLToDocument(i);if(!j)return false;var k=j.getElementsByTagNameNS("*","Spherical");if(k.length===0)return false;var l=k[0],m=l.childNodes[0].nodeValue;return m.toLowerCase()==="true"}f.exports=h}),null);
__d("getVideo64BitAtomLength",["Int64"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=i.getUint32(j+l+k),n=i.getUint32(j+k+l+l);return new(c("Int64"))(n,m).toNumber()}f.exports=h}),null);
__d("VideoUploadMetadataParser",["regeneratorRuntime","Promise","VideoUploadFeatureDetector","VideoUploadSphericalLogger","VideoSphericalMetadataUtil","ISOVideoBoxConstants","fileSlice","killswitch","getVideo64BitAtomLength","checkForSphericalTag"],(function a(b,c,aa,ba,d,ca){__p&&__p();var e=4,f=4,g=5242880,h=24,i=88,j=20,k=16,l=4,m=84,n=20,o=62,p=4,q=12,r=12,s=16,t=36,u=1,v=1,w=4,x=1,y=1,z=4,A=4,B=1e3;function C(D,E){"use strict";this.$VideoUploadMetadataParser1=D;this.$VideoUploadMetadataParser2=E}C.prototype.getHandler=function(){"use strict";return this.$VideoUploadMetadataParser2};C.prototype.parse=function(){"use strict";__p&&__p();if(!c("VideoUploadFeatureDetector").supportsFileReading()){this.$VideoUploadMetadataParser2(null);return null}switch(this.$VideoUploadMetadataParser1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":c("VideoUploadSphericalLogger").setFileExtension(this.$VideoUploadMetadataParser1.getExtension());break;default:this.$VideoUploadMetadataParser2(null);return null}return this.$VideoUploadMetadataParser3(0,Math.min(g,this.$VideoUploadMetadataParser1.getSize()),null)};C.prototype.$VideoUploadMetadataParser3=function D(E,F,G){__p&&__p();var H,I,J;return c("regeneratorRuntime").async(function K(L){__p&&__p();while(1)switch(L.prev=L.next){case 0:"use strict";H=new FileReader();I=new(c("Promise"))(function(M,N){__p&&__p();H.onload=function P(event){__p&&__p();var Q;return c("regeneratorRuntime").async(function R(S){__p&&__p();while(1)switch(S.prev=S.next){case 0:S.prev=0;Q=this.$VideoUploadMetadataParser4(new DataView(H.result),0,F-E,E,G);if(!Q.completed){S.next=8;break}Q=this.$VideoUploadMetadataParser5(Q);Q.completed=true;M(Q);S.next=13;break;case 8:S.next=10;return c("regeneratorRuntime").awrap(this.$VideoUploadMetadataParser3(E+Q.nextOffset,Math.min(this.$VideoUploadMetadataParser1.getSize(),E+Q.nextOffset+g),Q));case 10:Q=S.sent;Q.completed=false;M(Q);case 13:S.next=18;break;case 15:S.prev=15;S.t0=S["catch"](0);N(S.t0);case 18:case"end":return S.stop()}},null,this,[[0,15]])}.bind(this);var O=this.$VideoUploadMetadataParser1.getFile();H.readAsArrayBuffer(c("fileSlice").call(O,E,F))}.bind(this));J=this.$VideoUploadMetadataParser6();return L.abrupt("return",new(c("Promise"))(function(M,N){__p&&__p();try{c("Promise").all([I,J]).then(function(P){var Q=P[0];if(Q.completed){var R=P[1];Q.videoPlayerData=R;this.$VideoUploadMetadataParser2(Q)}M(Q)}.bind(this),function(P){this.$VideoUploadMetadataParser2(null);N(P)}.bind(this)).done()}catch(O){this.$VideoUploadMetadataParser2(null);N(O)}}.bind(this)));case 5:case"end":return L.stop()}},null,this)};C.prototype.$VideoUploadMetadataParser6=function(){"use strict";__p&&__p();if(c("killswitch")("VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG")||!b.URL||!b.URL.createObjectURL)return null;var D=this.$VideoUploadMetadataParser1.getFile(),E=document.createElement("video"),F=new(c("Promise"))(function(H,I){var J=setTimeout(function(){clearTimeout(J);I("Video onloadedmetadata timed out")},B)}),G=new(c("Promise"))(function(H,I){E.onloadedmetadata=function(){try{var K={width:E.videoWidth,height:E.videoHeight};H(K)}catch(J){I(J)}};try{E.src=b.URL.createObjectURL(D)}catch(J){I(J)}});return c("Promise").race([G,F])};C.prototype.$VideoUploadMetadataParser7=function(D,E,F){"use strict";var G=[];for(var H=0;H<F;H++)G.push(String.fromCharCode(D.getUint8(E+H)));return G.join("")};C.prototype.$VideoUploadMetadataParser8=function(D,E,F){"use strict";__p&&__p();var G={version:null,ambisonic_type:null,ambisonic_order:null,ambisonic_channel_ordering:null,ambisonic_normalization:null,num_channels:null,channel_map:[]},H=0;G.version=D.getUint8(E+H);H=u;G.ambisonic_type=D.getUint8(E+H);H+=v;G.ambisonic_order=D.getUint32(E+H);H+=w;G.ambisonic_channel_ordering=D.getUint8(E+H);H+=x;G.ambisonic_normalization=D.getUint8(E+H);H+=y;G.num_channels=D.getUint32(E+H);H+=z;for(var I=0;I<G.num_channels;I++){G.channel_map.push(D.getUint32(E+H));H+=A;if(H>F)return null}return JSON.stringify(G)};C.prototype.$VideoUploadMetadataParser9=function(D,E,F,G){"use strict";__p&&__p();try{var H=f+e,I=c("ISOVideoBoxConstants").GSPHERICAL_UUID.length;if(H+I<F){var J=[];for(var K=0;K<I;K++)J.push(D.getUint8(E+H+K));var L=c("VideoSphericalMetadataUtil").uuidArrayEquals(J,c("ISOVideoBoxConstants").GSPHERICAL_UUID),M=c("VideoSphericalMetadataUtil").uuidArrayEquals(J,c("ISOVideoBoxConstants").FBSPHERICAL_UUID);H+=I;if(L||M){var N=this.$VideoUploadMetadataParser7(D,E+H,F-H);if(c("checkForSphericalTag")(N)){G.sphericalMetadata.spherical=true;if(M)G.sphericalMetadata.FBSphericalMetadataXML=N;else G.sphericalMetadata.sphericalMetadataXml=N}}}}catch(O){}};C.prototype.$VideoUploadMetadataParser4=function(D,E,F,G,H){"use strict";__p&&__p();if(!H)H={widths:[],heights:[],streamTypes:[],streamDurations:[],spherical:false,sphericalMetadata:{sphericalMetadataXml:null,FBSphericalMetadataXML:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null},isParsingInMediaInformationAtom:false,endOfMediaInformationAtomOffset:null};var I=null;while(E<F){var J=D.getUint32(E),K=this.$VideoUploadMetadataParser7(D,E+e,f);if(J===1)J=c("getVideo64BitAtomLength")(D,E,f,e);if(E+J>F){H.completed=false;H.nextOffset=E;if(J>F)H.nextOffset+=J;return H}if(H.isParsingInMediaInformationAtom&&E>=H.endOfMediaInformationAtomOffset){H.isParsingInMediaInformationAtom=false;H.endOfMediaInformationAtomOffset=null}if(E+G===0&&K!=="ftyp")throw new Error("No ftyp atom");if(J===0)throw new Error("len is 0");var L=function L(){var Z=D.getUint32(E+j),$=D.getUint32(E+h);return $/Z};switch(K){case"moov":case"trak":case"mdia":case"stbl":E+=e+f;break;case"mvhd":H.duration=L();E+=J;break;case"tkhd":var M=D.getUint16(E+m),N=D.getUint16(E+i);H.widths.push(M);H.heights.push(N);I=D.getUint32(E+n);E+=J;break;case"hdlr":if(!H.isParsingInMediaInformationAtom){var O=this.$VideoUploadMetadataParser7(D,E+k,l);switch(O){case"vide":O="video";break;case"soun":O="audio";break;case"subt":O="subtitle";break;default:O="data"}H.streamTypes.push(O)}E+=J;break;case"mdhd":H.streamDurations.push(L());E+=J;break;case"uuid":this.$VideoUploadMetadataParser9(D,E,J,H);E+=J;break;case"meta":var P=r+q+p,Q=this.$VideoUploadMetadataParser7(D,E+P,4);if(Q!=="face"){E+=J;break}var R=e+f+o,S=this.$VideoUploadMetadataParser7(D,E+R,J-R);if(S!==null){if(H.sphericalMetadata.fbSpatialAudioMetadataXml===null)H.sphericalMetadata.fbSpatialAudioMetadataXml="<fb360_spatial_audio>";if(I)H.sphericalMetadata.fbSpatialAudioMetadataXml+='\n                <track id="'+I.toString()+'">\n                  '+S+"\n                </track>\n              ";else H.sphericalMetadata.fbSpatialAudioMetadataXml+="\n                <spatial_audio_formatting>\n                  "+S+"\n                </spatial_audio_formatting>\n              "}E+=J;break;case"minf":var T=this.$VideoUploadMetadataParser7(D,E+2*e+f,f);if(T==="smhd"){E+=e+f;H.isParsingInMediaInformationAtom=true;H.endOfMediaInformationAtomOffset=E+J}else E+=J;break;case"stsd":var U=this.$VideoUploadMetadataParser7(D,E+f+s,f);if(U==="mp4a")E+=s;else E+=J;break;case"mp4a":var V=D.getUint32(E+t),W=D.getUint32(E+t+V),X=this.$VideoUploadMetadataParser7(D,E+t+V+e,f);if(X==="SA3D"){var Y=this.$VideoUploadMetadataParser8(D,E+t+V+e+f,W);if(Y!==null)if(H.sphericalMetadata.ytSa3dMetadataJson===null)H.sphericalMetadata.ytSa3dMetadataJson=Y}E+=J;break;default:E+=J}}H.completed=true;if(H.sphericalMetadata.fbSpatialAudioMetadataXml)H.sphericalMetadata.fbSpatialAudioMetadataXml+="</fb360_spatial_audio>";return H};C.prototype.$VideoUploadMetadataParser5=function(D){"use strict";__p&&__p();var E={streams:{numAudioTracks:0},format:{},metadata:{}},F=D.widths.length,G=D.heights.length,H=D.streamTypes.length,I=D.streamDurations.length;if(F!==G||F!==H||F!==I)return null;for(var J=0;J<F;J++){var K={width:D.widths[J],height:D.heights[J],duration:D.streamDurations[J],type:D.streamTypes[J]};if(K.type==="video"){var L=K.width*K.height,M=E.streams.primaryVideo;if(!M||M.width*M.height>L)E.streams.primaryVideo=K}else if(K.type==="audio"){var N=E.streams.primaryAudio;if(!N||N.duration<K.duration)E.streams.primaryAudio=K;E.streams.numAudioTracks++}}E.format.duration=D.duration;E.format.isSpherical=D.sphericalMetadata.spherical;if(D.sphericalMetadata.spherical){E.metadata.sphericalMetadataXml=D.sphericalMetadata.sphericalMetadataXml;E.metadata.FBSphericalMetadataXML=D.sphericalMetadata.FBSphericalMetadataXML;E.metadata.fbSpatialAudioMetadataXml=D.sphericalMetadata.fbSpatialAudioMetadataXml;E.metadata.ytSa3dMetadataJson=D.sphericalMetadata.ytSa3dMetadataJson}c("VideoUploadSphericalLogger").setHasSphericalMetadata(D.sphericalMetadata.spherical);return E};d.exports=C}),null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","PHPQuerySerializer","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function a(b,c,d,e,f,g){__p&&__p();var h="video";function i(j){"use strict";__p&&__p();this.$VideoUploadRequest1=j;this.$VideoUploadRequest2=null;this.$VideoUploadRequest3=false;this.$VideoUploadRequest4=null;this.$VideoUploadRequest5=null;this.$VideoUploadRequest6=null;this.$VideoUploadRequest7=null;this.$VideoUploadRequest8=c("emptyFunction");this.$VideoUploadRequest9=c("emptyFunction");this.$VideoUploadRequest10=c("emptyFunction");this.$VideoUploadRequest11=c("emptyFunction");this.$VideoUploadRequest12=null}i.prototype.setAllowCrossOrigin=function(j){"use strict";this.$VideoUploadRequest3=j;return this};i.prototype.setData=function(j){"use strict";this.$VideoUploadRequest4=j;return this};i.prototype.setWaterfallID=function(j){"use strict";this.$VideoUploadRequest6=j;return this};i.prototype.setSuccessHandler=function(j){"use strict";this.$VideoUploadRequest8=j;return this};i.prototype.setErrorHandler=function(j){"use strict";this.$VideoUploadRequest9=j;return this};i.prototype.setTransportErrorHandler=function(j){"use strict";this.$VideoUploadRequest10=j;return this};i.prototype.setUploadProgressHandler=function(j){"use strict";this.$VideoUploadRequest11=j;return this};i.prototype.setTimeoutHandler=function(j,k){"use strict";this.$VideoUploadRequest7=j;this.$VideoUploadRequest12=k;return this};i.prototype.setThumbnail=function(j){"use strict";this.$VideoUploadRequest13=j;return this};i.prototype.setCustomProfileImage=function(j){"use strict";this.$VideoUploadRequest14=j;return this};i.prototype.setHandle=function(j){"use strict";this.$VideoUploadRequest5=j;return this};i.prototype.setCaptions=function(j){"use strict";this.$VideoUploadRequest15=j;return this};i.prototype.setHotspotXML=function(j){"use strict";this.$VideoUploadRequest16=j;return this};i.prototype.send=function(){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");if(c("VideoUploadFeatureDetector").supportsXHR()){this.$VideoUploadRequest2=this.$VideoUploadRequest17();if(this.$VideoUploadRequest13||this.$VideoUploadRequest15||this.$VideoUploadRequest16||this.$VideoUploadRequest14){var j=new FormData();if(this.$VideoUploadRequest13)j.append("thumb",this.$VideoUploadRequest13);if(this.$VideoUploadRequest14)j.append("schedule_custom_profile_image",this.$VideoUploadRequest14);if(this.$VideoUploadRequest15)this.$VideoUploadRequest15.forEach(function(l,m){var n=l.getIsDefault()?"captions_default":"captions_file"+m;j.append(n,l.getFile())});if(this.$VideoUploadRequest16)j.append("hotspots_xml",this.$VideoUploadRequest16);if(this.$VideoUploadRequest4){var k=c("flattenPHPQueryData")(this.$VideoUploadRequest4);Object.keys(k).forEach(function(l){j.append(l,k[l])})}this.$VideoUploadRequest2.setRawData(j)}this.$VideoUploadRequest2.send()}else{this.$VideoUploadRequest2=this.$VideoUploadRequest18();this.$VideoUploadRequest19(this.$VideoUploadRequest2)}};i.prototype.sendChunk=function(j){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");var k=new FormData();if(this.$VideoUploadRequest5)k.append("fbuploader_video_file_chunk",this.$VideoUploadRequest5);else k.append("video_file_chunk",j);this.$VideoUploadRequest2=this.$VideoUploadRequest17();this.$VideoUploadRequest2.setRawData(k);this.$VideoUploadRequest2.send()};i.prototype.sendFile=function(j){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");this.$VideoUploadRequest2=this.$VideoUploadRequest18();var k=j.cloneNode(false);j.name=h;c("DOM").replace(j,k);c("DOM").appendContent(this.$VideoUploadRequest2.getRoot(),j);this.$VideoUploadRequest19(this.$VideoUploadRequest2);j.name=k.name;c("DOM").replace(k,j)};i.prototype.abort=function(){"use strict";if(!this.$VideoUploadRequest2)return;this.$VideoUploadRequest2.abort();this.$VideoUploadRequest2=null};i.prototype.$VideoUploadRequest17=function(){"use strict";var j=this.__getAsyncRequest().setAllowCrossOrigin(this.$VideoUploadRequest3).setURI(this.$VideoUploadRequest1).setData(this.$VideoUploadRequest4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$VideoUploadRequest6).setHandler(this.$VideoUploadRequest8).setErrorHandler(this.$VideoUploadRequest9).setTransportErrorHandler(this.$VideoUploadRequest10).setUploadProgressHandler(this.$VideoUploadRequest11);if(this.$VideoUploadRequest12)j.setTimeoutHandler(this.$VideoUploadRequest7,this.$VideoUploadRequest12);return j};i.prototype.__getAsyncRequest=function(){"use strict";return new(c("AsyncRequest"))()};i.prototype.$VideoUploadRequest18=function(){"use strict";var j=c("DOM").create("form",{action:this.$VideoUploadRequest1,method:"POST"});c("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:c("DTSG").getToken()},this.$VideoUploadRequest4),j);var k=new(c("FileForm"))(j,null,{allowCrossOrigin:this.$VideoUploadRequest3});k.subscribe("success",this.$VideoUploadRequest20.bind(this));k.subscribe("failure",this.$VideoUploadRequest21.bind(this));k.subscribe("progress",this.$VideoUploadRequest22.bind(this));return k};i.prototype.$VideoUploadRequest19=function(j){"use strict";c("DOM").appendContent(document.body,j.getRoot());c("submitForm")(j.getRoot())};i.prototype.$VideoUploadRequest20=function(event,j){"use strict";this.$VideoUploadRequest8(j.response)};i.prototype.$VideoUploadRequest21=function(event,j){"use strict";this.$VideoUploadRequest9(j.response)};i.prototype.$VideoUploadRequest22=function(event,j){"use strict";this.$VideoUploadRequest11(j.event)};f.exports=i}),null);
__d("VideoUploadPostRequestManager",["ArbiterMixin","VideoUploadRequest","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m,n,o){"use strict";i.constructor.call(this);this.$VideoUploadPostRequestManager1=k;this.$VideoUploadPostRequestManager2=l;this.$VideoUploadPostRequestManager3=m;this.$VideoUploadPostRequestManager4=0;this.$VideoUploadPostRequestManager5=n;this.$VideoUploadPostRequestManager6=o;this.$VideoUploadPostRequestManager7=0}j.prototype.getRequest=function(){"use strict";return this.$VideoUploadPostRequestManager8};j.prototype.sendRequest=function(k){"use strict";__p&&__p();if(this.$VideoUploadPostRequestManager8)return;this.$VideoUploadPostRequestManager9=babelHelpers["extends"]({},k.getMetadata(),this.__createRequestData(k));this.$VideoUploadPostRequestManager10=this.$VideoUploadPostRequestManager9.thumb;this.$VideoUploadPostRequestManager11=this.$VideoUploadPostRequestManager9.schedule_custom_profile_image;delete this.$VideoUploadPostRequestManager9.thumb;this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager9.captions;delete this.$VideoUploadPostRequestManager9.captions;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager9.hotspotXML;delete this.$VideoUploadPostRequestManager9.hotspotXML;this.$VideoUploadPostRequestManager14=k.getWaterfallID();this.$VideoUploadPostRequestManager15();this.inform("request-started")};j.prototype.$VideoUploadPostRequestManager15=function(){"use strict";clearTimeout(this.$VideoUploadPostRequestManager16);this.$VideoUploadPostRequestManager16=null;this.$VideoUploadPostRequestManager8=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager1).setAllowCrossOrigin(true).setData(this.$VideoUploadPostRequestManager9).setThumbnail(this.$VideoUploadPostRequestManager10).setCustomProfileImage(this.$VideoUploadPostRequestManager11).setCaptions(this.$VideoUploadPostRequestManager12).setHotspotXML(this.$VideoUploadPostRequestManager13).setWaterfallID(this.$VideoUploadPostRequestManager14).setSuccessHandler(this.$VideoUploadPostRequestManager17.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager18.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager19.bind(this));this.$VideoUploadPostRequestManager8.send()};j.prototype.__createRequestData=function(k){"use strict";return{video_id:k.getVideoID(),target_id:k.getTargetID(),source:k.getSource(),waterfall_id:k.getWaterfallID(),creator_product:k.getCreatorProduct(),composer_entry_point_ref:k.getComposerEntryPointRef&&k.getComposerEntryPointRef(),composer_dialog_version:k.getComposerDialogVersion(),has_file_been_replaced:k.getHasFileBeenReplaced(),supports_chunking:k.getSupportsChunking()}};j.prototype.__getVideoUploadRequest=function(k){"use strict";return new(c("VideoUploadRequest"))(k)};j.prototype.clearRequest=function(){"use strict";this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager7=0;this.$VideoUploadPostRequestManager4=0};j.prototype.isInProgress=function(){"use strict";return!!this.$VideoUploadPostRequestManager8};j.prototype.$VideoUploadPostRequestManager20=function(k){"use strict";clearTimeout(this.$VideoUploadPostRequestManager16);this.$VideoUploadPostRequestManager16=setTimeout(this.$VideoUploadPostRequestManager15.bind(this),k)};j.prototype.$VideoUploadPostRequestManager21=function(k,l){"use strict";return Math.pow(k,l)*1e3};j.prototype.$VideoUploadPostRequestManager17=function(k){"use strict";var l=k.getPayload();this.inform("request-finished",{video_id:l.video_id,video_asset_id:l.video_asset_id,container_type:l.container_type,transport_retries:this.$VideoUploadPostRequestManager4,server_retries:this.$VideoUploadPostRequestManager7});this.clearRequest()};j.prototype.$VideoUploadPostRequestManager22=function(k){"use strict";this.inform("request-failed",{error_code:k.getError(),error_description:k.getErrorDescription(),error_summary:k.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager4,server_retries:this.$VideoUploadPostRequestManager7,error_is_transient:k.isTransient()});this.clearRequest()};j.prototype.$VideoUploadPostRequestManager18=function(k){"use strict";this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager4=0;if(k.isTransient()&&this.$VideoUploadPostRequestManager7<this.$VideoUploadPostRequestManager5){this.$VideoUploadPostRequestManager7++;this.$VideoUploadPostRequestManager20(this.$VideoUploadPostRequestManager21(this.$VideoUploadPostRequestManager6,this.$VideoUploadPostRequestManager7))}else this.$VideoUploadPostRequestManager22(k)};j.prototype.$VideoUploadPostRequestManager19=function(k){"use strict";if(this.$VideoUploadPostRequestManager2===0||this.$VideoUploadPostRequestManager4>=this.$VideoUploadPostRequestManager2)this.$VideoUploadPostRequestManager22(k);else{this.$VideoUploadPostRequestManager4++;this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager20(this.$VideoUploadPostRequestManager21(this.$VideoUploadPostRequestManager3,this.$VideoUploadPostRequestManager4))}};f.exports=j}),null);
__d("ResumableUploadServiceState.enum",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f.exports=h}),null);
__d("ResumableUploadService",["Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="rupload.facebook.com";h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m,n,o,p,q){i.constructor.call(this);this.consumer=l;this.accessToken=m;this.sessionKey=n||c("uuid")();this.contentKey=o||"";this.contentValue=p||"";this.serviceNameOverride=q||""}k.prototype.resume=function(l){__p&&__p();var m=this.serviceNameOverride!=""?this.serviceNameOverride:j,n=new(c("URI"))("https://"+m+"/"+this.consumer+"/"+this.sessionKey);if(this.contentKey&&this.contentValue)n=n.addQueryData(this.contentKey,this.contentValue);var o=function(){return new(c("Promise"))(function(s,t){new(c("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(true).setAllowCredentials(false).setMethod("GET").setURI(n).setReadOnly(true).setRequestHeader("Authorization","OAuth "+this.accessToken).setHandler(s).setErrorHandler(t).setOption("suppressEvaluation",true).setTransportErrorHandler(function(event){this.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,event)}.bind(this)).send()}.bind(this))}.bind(this),p=function(s){return new(c("Promise"))(function(t,u){var v=JSON.parse(s.payload.response),w=v.offset;this.emit(c("ResumableUploadServiceState.enum").START,{offset:w});this.uploadAsyncRequest=new(c("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(true).setAllowCredentials(false).setURI(n).setRawData(l.slice(w)).setHandler(t).setErrorHandler(u).setRequestHeader("Authorization","OAuth "+this.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(l.name)).setRequestHeader("X-Entity-Type",l.type).setRequestHeader("X-Entity-Length",String(l.size)).setRequestHeader("Offset",String(w)).setOption("suppressEvaluation",true).setUploadProgressHandler(function(event){var x=new ProgressEvent("upload-service",{total:l.size,loaded:event.loaded+Number(w)});this.emit(c("ResumableUploadServiceState.enum").PROGRESS,x)}.bind(this)).setTransportErrorHandler(function(event){this.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,event)}.bind(this));this.uploadAsyncRequest.send()}.bind(this))}.bind(this),q=function(s){if(s!=null){var t=JSON.parse(s.payload.response);this.emit(c("ResumableUploadServiceState.enum").SUCCESS,t.h)}else this.emit(c("ResumableUploadServiceState.enum").FAIL,"uploading failed")}.bind(this),r=function(s){return this.emit(c("ResumableUploadServiceState.enum").FAIL,s)}.bind(this);return o().then(p,r).then(q,r)};k.prototype.cancel=function(){this.uploadAsyncRequest&&this.uploadAsyncRequest.abort();this.emit(c("ResumableUploadServiceState.enum").CANCEL)};f.exports=k}),null);
__d("VideoUploadConnectionMonitor",["ArbiterMixin","Network","VideoUploadFeatureDetector","debounce","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$VideoUploadConnectionMonitor1=false;this.$VideoUploadConnectionMonitor2=[];this.$VideoUploadConnectionMonitor3=false;this.$VideoUploadConnectionMonitor4=true;this.$VideoUploadConnectionMonitor5=c("debounce")(function(){this.$VideoUploadConnectionMonitor6(false)}.bind(this),2e3)}j.prototype.notifyStart=function(){"use strict";__p&&__p();if(this.$VideoUploadConnectionMonitor3)return;if(this.$VideoUploadConnectionMonitor2.length===0){this.$VideoUploadConnectionMonitor2.push(c("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(true)}.bind(this)));this.$VideoUploadConnectionMonitor2.push(c("Network").addListener("offline",function(){if(this.$VideoUploadConnectionMonitor1)this.$VideoUploadConnectionMonitor5();else{this.$VideoUploadConnectionMonitor5.reset();setTimeout(this.$VideoUploadConnectionMonitor5,2e3)}}.bind(this)))}this.$VideoUploadConnectionMonitor3=true};j.prototype.notifyProgress=function(event){"use strict";__p&&__p();if(!this.$VideoUploadConnectionMonitor3)return;if(!event)return;if(c("VideoUploadFeatureDetector").supportsFullProgress()){this.$VideoUploadConnectionMonitor1=true;if(event.total&&event.loaded===event.total)this.$VideoUploadConnectionMonitor5.reset();else this.$VideoUploadConnectionMonitor5()}};j.prototype.notifySuccess=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(true)};j.prototype.notifyTransportError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=false;this.$VideoUploadConnectionMonitor6(false)};j.prototype.notifyError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(true)};j.prototype.isOnline=function(){"use strict";return this.$VideoUploadConnectionMonitor4};j.prototype.reset=function(){"use strict";while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=false};j.prototype.$VideoUploadConnectionMonitor6=function(k){"use strict";this.$VideoUploadConnectionMonitor5.reset();if(this.$VideoUploadConnectionMonitor4!==k){this.$VideoUploadConnectionMonitor4=k;if(this.$VideoUploadConnectionMonitor4)this.inform("online");else this.inform("offline")}};f.exports=j}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ArbiterMixin","VideoUploadConnectionMonitor","VideoUploadRequest","ResumableUploadService","ResumableUploadServiceState.enum","md5","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=1363037;i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function l(m,n,o,p,q,r,s,t,u,v){__p&&__p();var w=arguments.length<=10||arguments[10]===undefined?"":arguments[10],x=arguments.length<=11||arguments[11]===undefined?false:arguments[11],y=arguments.length<=12||arguments[12]===undefined?null:arguments[12],z=arguments.length<=13||arguments[13]===undefined?null:arguments[13],A=arguments.length<=14||arguments[14]===undefined?0:arguments[14];"use strict";j.constructor.call(this);this.$VideoUploadReceiveRequestManager1=m;this.$VideoUploadReceiveRequestManager2=n;this.$VideoUploadReceiveRequestManager3=o!=null?o:0;this.$VideoUploadReceiveRequestManager4=p;this.$VideoUploadReceiveRequestManager5=q;this.$VideoUploadReceiveRequestManager6=r;this.$VideoUploadReceiveRequestManager7=s;this.$VideoUploadReceiveRequestManager8=t;this.$VideoUploadReceiveRequestManager9=u;this.$VideoUploadReceiveRequestManager10=v;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager14=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager16=0;this.$VideoUploadReceiveRequestManager17="constructed";this.$VideoUploadReceiveRequestManager18=null;this.$VideoUploadReceiveRequestManager19=w;this.$VideoUploadReceiveRequestManager20=x;this.$VideoUploadReceiveRequestManager21=y;this.$VideoUploadReceiveRequestManager22=false;this.$VideoUploadReceiveRequestManager23=A;this.$VideoUploadReceiveRequestManager24=z;this.$VideoUploadReceiveRequestManager25=null;this.$VideoUploadReceiveRequestManager26=null;this.$VideoUploadReceiveRequestManager27=false;this.$VideoUploadReceiveRequestManager28=new(c("VideoUploadConnectionMonitor"))();this.$VideoUploadReceiveRequestManager28.subscribe("online",this.$VideoUploadReceiveRequestManager29.bind(this));this.$VideoUploadReceiveRequestManager28.subscribe("offline",this.$VideoUploadReceiveRequestManager30.bind(this))}l.prototype.updateVideoID=function(m){"use strict";if(this.$VideoUploadReceiveRequestManager31.getVideoID())return;this.$VideoUploadReceiveRequestManager31.setVideoID(m);if(this.$VideoUploadReceiveRequestManager32)this.$VideoUploadReceiveRequestManager32.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager31));this.$VideoUploadReceiveRequestManager33()};l.prototype.isResumabilityEnabled=function(){"use strict";return this.$VideoUploadReceiveRequestManager20};l.prototype.sendRequest=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="sending request";if(this.$VideoUploadReceiveRequestManager32){this.$VideoUploadReceiveRequestManager17="request already in progress";return}this.$VideoUploadReceiveRequestManager16=m.getEndOffset()-m.getStartOffset();this.$VideoUploadReceiveRequestManager31=m;this.$VideoUploadReceiveRequestManager34()};l.prototype.cancelRequest=function(){"use strict";if(!this.$VideoUploadReceiveRequestManager32)return;this.$VideoUploadReceiveRequestManager32.abort();if(this.$VideoUploadReceiveRequestManager18!==null)this.$VideoUploadReceiveRequestManager18.cancel();this.$VideoUploadReceiveRequestManager35()};l.prototype.appendStateLogData=function(m,n){"use strict";__p&&__p();m[n+"request_manager_state"]=this.$VideoUploadReceiveRequestManager17;m[n+"upload_speed"]=this.$VideoUploadReceiveRequestManager15;m[n+"transport_retries"]=this.$VideoUploadReceiveRequestManager11;m[n+"server_retries"]=this.$VideoUploadReceiveRequestManager12;m[n+"timeout_retries"]=this.$VideoUploadReceiveRequestManager13;m[n+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager36;m[n+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager14;m[n+"pending_request"]=this.$VideoUploadReceiveRequestManager32!=null;m[n+"pending_timer"]=this.$VideoUploadReceiveRequestManager37!=null;m[n+"cached_chunk"]=this.$VideoUploadReceiveRequestManager38!=null;m[n+"early_receive_start"]=this.$VideoUploadReceiveRequestManager27;if(this.$VideoUploadReceiveRequestManager31!=null){m[n+"start_offset"]=this.$VideoUploadReceiveRequestManager31.getStartOffset();m[n+"end_offset"]=this.$VideoUploadReceiveRequestManager31.getEndOffset();m[n+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager31.getPartitionStartOffset();m[n+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager31.getPartitionEndOffset()}if(this.$VideoUploadReceiveRequestManager28!=null)m[n+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager28.isOnline()};l.prototype.$VideoUploadReceiveRequestManager35=function(){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager32=null;this.$VideoUploadReceiveRequestManager38=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager14=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager16=0;this.$VideoUploadReceiveRequestManager25=null;this.$VideoUploadReceiveRequestManager26=null;this.$VideoUploadReceiveRequestManager27=false;this.$VideoUploadReceiveRequestManager22=false;this.$VideoUploadReceiveRequestManager31.reset();this.$VideoUploadReceiveRequestManager28.reset();clearTimeout(this.$VideoUploadReceiveRequestManager37);this.$VideoUploadReceiveRequestManager37=null};l.prototype.$VideoUploadReceiveRequestManager34=function(m){"use strict";__p&&__p();clearTimeout(this.$VideoUploadReceiveRequestManager37);this.$VideoUploadReceiveRequestManager37=null;if(this.$VideoUploadReceiveRequestManager31.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager31.getStartOffset()>=this.$VideoUploadReceiveRequestManager31.getPartitionEndOffset()){if(!m){this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager31.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager31.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager17="request finished - notified"}else this.$VideoUploadReceiveRequestManager17="request finished - not notified";return}this.$VideoUploadReceiveRequestManager32=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(true).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager31)).setWaterfallID(this.$VideoUploadReceiveRequestManager31.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager39.bind(this));if(!this.$VideoUploadReceiveRequestManager20)this.$VideoUploadReceiveRequestManager32.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager40.bind(this));this.$VideoUploadReceiveRequestManager14=Date.now();if(this.$VideoUploadReceiveRequestManager31.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){var n=this.$VideoUploadReceiveRequestManager41(this.$VideoUploadReceiveRequestManager31.getEndOffset()-this.$VideoUploadReceiveRequestManager31.getStartOffset(),this.$VideoUploadReceiveRequestManager15);this.$VideoUploadReceiveRequestManager32.setTimeoutHandler(n,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager17="sending chunk with timeout = "+n;this.$VideoUploadReceiveRequestManager36=n}else this.$VideoUploadReceiveRequestManager17="sending chunk without timeout";var o=this.$VideoUploadReceiveRequestManager42();if(this.$VideoUploadReceiveRequestManager20&&this.$VideoUploadReceiveRequestManager23<this.$VideoUploadReceiveRequestManager31.getFile().getSize())this.$VideoUploadReceiveRequestManager43(o);else this.$VideoUploadReceiveRequestManager32.sendChunk(o)}else{this.$VideoUploadReceiveRequestManager17="sending file";this.$VideoUploadReceiveRequestManager32.sendFile(this.$VideoUploadReceiveRequestManager31.getFile().getFileInput())}this.$VideoUploadReceiveRequestManager28.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager31.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager31.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17})};l.prototype.$VideoUploadReceiveRequestManager44=function(m,n){"use strict";if(!this.$VideoUploadReceiveRequestManager31.getVideoID()){this.$VideoUploadReceiveRequestManager25=m;this.$VideoUploadReceiveRequestManager26=n}else m(n)};l.prototype.$VideoUploadReceiveRequestManager33=function(){"use strict";if(this.$VideoUploadReceiveRequestManager25){this.$VideoUploadReceiveRequestManager25(this.$VideoUploadReceiveRequestManager26);this.$VideoUploadReceiveRequestManager25=null;this.$VideoUploadReceiveRequestManager26=null}};l.prototype.$VideoUploadReceiveRequestManager43=function(m){"use strict";var n=this.$VideoUploadReceiveRequestManager31.getFile(),o=n.getFile().lastModified+n.getFile().name+n.getFile().type+this.$VideoUploadReceiveRequestManager45(),p=c("md5")(o)+"-"+this.$VideoUploadReceiveRequestManager31.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager31.getEndOffset();if(this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager21&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3)this.$VideoUploadReceiveRequestManager22=true;this.$VideoUploadReceiveRequestManager18=new(c("ResumableUploadService"))("fb_video",this.$VideoUploadReceiveRequestManager19,p,null,null,!this.$VideoUploadReceiveRequestManager22?this.$VideoUploadReceiveRequestManager21:null);this.$VideoUploadReceiveRequestManager46();this.$VideoUploadReceiveRequestManager18.resume(m);this.inform("resumable-called")};l.prototype.$VideoUploadReceiveRequestManager46=function(){"use strict";__p&&__p();if(!this.$VideoUploadReceiveRequestManager31.getVideoID())this.$VideoUploadReceiveRequestManager27=true;this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").START,function(m){this.inform("resumable-started",{resume_from_offset:m.offset})}.bind(this));this.$VideoUploadReceiveRequestManager47=function(m){this.inform("resumable-failed",{error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()});this.__handleServerFailureResponse(m)}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").FAIL,function(m){this.$VideoUploadReceiveRequestManager44(this.$VideoUploadReceiveRequestManager47,m)}.bind(this));this.$VideoUploadReceiveRequestManager48=function(m){this.$VideoUploadReceiveRequestManager32.setHandle(m);this.$VideoUploadReceiveRequestManager32.sendChunk(null);this.inform("resumable-success",{everstore_handle:m})}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").SUCCESS,function(m){this.$VideoUploadReceiveRequestManager44(this.$VideoUploadReceiveRequestManager48,m)}.bind(this));this.$VideoUploadReceiveRequestManager49=function(m){this.inform("resumable-failed",{error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()});this.$VideoUploadReceiveRequestManager39(m)}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(m){this.$VideoUploadReceiveRequestManager44(this.$VideoUploadReceiveRequestManager49,m)}.bind(this));this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").PROGRESS,function(event){this.$VideoUploadReceiveRequestManager40(event)}.bind(this))};l.prototype.__getVideoUploadRequest=function(m){"use strict";return new(c("VideoUploadRequest"))(m)};l.prototype.$VideoUploadReceiveRequestManager50=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="setting request to send after"+m;clearTimeout(this.$VideoUploadReceiveRequestManager37);this.$VideoUploadReceiveRequestManager37=setTimeout(this.$VideoUploadReceiveRequestManager34.bind(this),m)};l.prototype.$VideoUploadReceiveRequestManager42=function(){"use strict";if(this.$VideoUploadReceiveRequestManager38)return this.$VideoUploadReceiveRequestManager38;if(this.$VideoUploadReceiveRequestManager20)this.$VideoUploadReceiveRequestManager38=this.$VideoUploadReceiveRequestManager31.getFile().getFile().slice(this.$VideoUploadReceiveRequestManager31.getStartOffset(),this.$VideoUploadReceiveRequestManager31.getEndOffset(),"application/octet-stream");else this.$VideoUploadReceiveRequestManager38=this.$VideoUploadReceiveRequestManager31.getFile().getChunk(this.$VideoUploadReceiveRequestManager31.getStartOffset(),this.$VideoUploadReceiveRequestManager31.getEndOffset());return this.$VideoUploadReceiveRequestManager38};l.prototype.__createRequestData=function(m){"use strict";return{video_id:m.getVideoID(),start_offset:m.getStartOffset(),end_offset:m.getEndOffset(),source:m.getSource(),target_id:m.getTargetID(),waterfall_id:m.getWaterfallID(),composer_entry_point_ref:m.getComposerEntryPointRef&&m.getComposerEntryPointRef(),composer_dialog_version:m.getComposerDialogVersion(),has_file_been_replaced:m.getHasFileBeenReplaced(),supports_chunking:m.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager15,partition_start_offset:m.getPartitionStartOffset(),partition_end_offset:m.getPartitionEndOffset()}};l.prototype.__handleSuccessResponse=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager17="success response received";var n=Date.now()-this.$VideoUploadReceiveRequestManager14;n=n===0?1:n;var o=m.getPayload();if(o.start_offset===this.$VideoUploadReceiveRequestManager31.getEndOffset()){var p=this.$VideoUploadReceiveRequestManager31.getEndOffset()-this.$VideoUploadReceiveRequestManager31.getStartOffset();this.$VideoUploadReceiveRequestManager15=Math.floor(p/n)}else this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager28.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager31.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager31.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager31.setStartOffset(o.start_offset);var q=o.end_offset;if(this.$VideoUploadReceiveRequestManager31.getClientChunkSize())q=o.start_offset+Math.min(this.$VideoUploadReceiveRequestManager31.getPartitionEndOffset()-o.start_offset,this.$VideoUploadReceiveRequestManager31.getClientChunkSize());this.$VideoUploadReceiveRequestManager31.setEndOffset(q);this.$VideoUploadReceiveRequestManager31.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager15);this.$VideoUploadReceiveRequestManager32=null;this.$VideoUploadReceiveRequestManager38=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager31.getSupportsChunking())this.$VideoUploadReceiveRequestManager34(true)};l.prototype.__handleServerFailureResponse=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager17="failure response received";this.$VideoUploadReceiveRequestManager32=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager28.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(m.getError())){this.$VideoUploadReceiveRequestManager12++;var n=m.getPayload();this.$VideoUploadReceiveRequestManager17="invalid offset response received start="+n.start_offset+" end="+n.end_offset;if(this.$VideoUploadReceiveRequestManager31.getStartOffset()!=n.start_offset||this.$VideoUploadReceiveRequestManager31.getEndOffset()!=n.end_offset){this.$VideoUploadReceiveRequestManager31.setStartOffset(n.start_offset);this.$VideoUploadReceiveRequestManager31.setEndOffset(n.end_offset);this.$VideoUploadReceiveRequestManager38=null}this.$VideoUploadReceiveRequestManager34()}else if((m.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager12<this.$VideoUploadReceiveRequestManager4){this.$VideoUploadReceiveRequestManager17="transient server error";this.$VideoUploadReceiveRequestManager12++;this.$VideoUploadReceiveRequestManager50(this.$VideoUploadReceiveRequestManager51(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager12,0))}else this.$VideoUploadReceiveRequestManager52(m)};l.prototype.__handleResponseTimeout=function(m){"use strict";__p&&__p();this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager31.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager31.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,timeout_retries:this.$VideoUploadReceiveRequestManager13,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager32.abort();this.$VideoUploadReceiveRequestManager32=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager28.notifyTransportError();if(++this.$VideoUploadReceiveRequestManager13<=this.$VideoUploadReceiveRequestManager6){var n=this.$VideoUploadReceiveRequestManager31.getEndOffset()-this.$VideoUploadReceiveRequestManager31.getStartOffset();n=Math.floor(n/2);n=Math.max(n,this.$VideoUploadReceiveRequestManager16);var o=this.$VideoUploadReceiveRequestManager31.getEndOffset();o=Math.min(o,this.$VideoUploadReceiveRequestManager31.getStartOffset()+n);this.$VideoUploadReceiveRequestManager31.setEndOffset(o);this.$VideoUploadReceiveRequestManager38=null;this.$VideoUploadReceiveRequestManager17="resending after timeout with chunksize="+n;this.$VideoUploadReceiveRequestManager34()}else this.$VideoUploadReceiveRequestManager53({error_code:1006,error_description:h._("C\u00f3 v\u1ebb nh\u01b0 tr\u00ecnh duy\u1ec7t c\u1ee7a b\u1ea1n \u0111ang offline. Vui l\u00f2ng ch\u1ecdn k\u1ebft n\u1ed1i internet v\u00e0 th\u1eed l\u1ea1i."),error_summary:h._("Kh\u00f4ng c\u00f3 K\u1ebft n\u1ed1i M\u1ea1ng"),error_is_transient:true})};l.prototype.__hasInvalidStartOffsetAndHasRetries=function(m){"use strict";return m===k&&this.$VideoUploadReceiveRequestManager12<this.$VideoUploadReceiveRequestManager4};l.prototype.$VideoUploadReceiveRequestManager39=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager28.notifyTransportError();this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2){this.$VideoUploadReceiveRequestManager17="resending after transport failure";this.$VideoUploadReceiveRequestManager11++;this.$VideoUploadReceiveRequestManager32=null;this.$VideoUploadReceiveRequestManager50(this.$VideoUploadReceiveRequestManager51(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))}else this.$VideoUploadReceiveRequestManager52(m)};l.prototype.$VideoUploadReceiveRequestManager52=function(m){"use strict";this.$VideoUploadReceiveRequestManager53({error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()})};l.prototype.$VideoUploadReceiveRequestManager53=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="handling failure error";this.inform("request-failed",m);this.$VideoUploadReceiveRequestManager35()};l.prototype.$VideoUploadReceiveRequestManager40=function(event){"use strict";this.$VideoUploadReceiveRequestManager28.notifyProgress(event);if(this.$VideoUploadReceiveRequestManager31&&this.$VideoUploadReceiveRequestManager31.getFile())this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager31.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager31.getStartOffset(),sent_bytes:event.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11})};l.prototype.$VideoUploadReceiveRequestManager29=function(event){"use strict";this.inform("online");this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager37)this.$VideoUploadReceiveRequestManager34()};l.prototype.$VideoUploadReceiveRequestManager30=function(event){"use strict";this.inform("offline")};l.prototype.$VideoUploadReceiveRequestManager51=function(m,n,o){"use strict";var p=0;if(this.$VideoUploadReceiveRequestManager20)p=Math.min(Math.pow(m,n),8)*1e3;else p=Math.pow(m,n)*1e3;if(o>0)p=Math.min(p,o);return p};l.prototype.$VideoUploadReceiveRequestManager41=function(m,n){"use strict";var o;if(n>0)o=n;else o=10;var p=Math.floor(m/o*this.$VideoUploadReceiveRequestManager7/100);return Math.max(p,3e4)};l.prototype.$VideoUploadReceiveRequestManager45=function(){"use strict";return this.$VideoUploadReceiveRequestManager24?this.$VideoUploadReceiveRequestManager24:this.$VideoUploadReceiveRequestManager31.getWaterfallID()};f.exports=l}),null);
__d("VideoUploadRequestContext",[],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.reset()}h.prototype.setFile=function(i){"use strict";this.$VideoUploadRequestContext1=i;return this};h.prototype.getFile=function(){"use strict";return this.$VideoUploadRequestContext1};h.prototype.setMetadata=function(i){"use strict";this.$VideoUploadRequestContext2=i;return this};h.prototype.getMetadata=function(){"use strict";return this.$VideoUploadRequestContext2};h.prototype.setVideoID=function(i){"use strict";this.$VideoUploadRequestContext3=i;return this};h.prototype.getVideoID=function(){"use strict";return this.$VideoUploadRequestContext3};h.prototype.setStartOffset=function(i){"use strict";this.$VideoUploadRequestContext4=i;return this};h.prototype.getStartOffset=function(){"use strict";return this.$VideoUploadRequestContext4};h.prototype.setEndOffset=function(i){"use strict";this.$VideoUploadRequestContext5=i;return this};h.prototype.getEndOffset=function(){"use strict";return this.$VideoUploadRequestContext5};h.prototype.setPartitionStartOffset=function(i){"use strict";this.$VideoUploadRequestContext6=i;return this};h.prototype.getPartitionStartOffset=function(){"use strict";return this.$VideoUploadRequestContext6};h.prototype.setPartitionEndOffset=function(i){"use strict";this.$VideoUploadRequestContext7=i;return this};h.prototype.getPartitionEndOffset=function(){"use strict";return this.$VideoUploadRequestContext7};h.prototype.setTargetID=function(i){"use strict";this.$VideoUploadRequestContext8=i;return this};h.prototype.getTargetID=function(){"use strict";return this.$VideoUploadRequestContext8};h.prototype.setSource=function(i){"use strict";this.$VideoUploadRequestContext9=i;return this};h.prototype.setComposerDialogVersion=function(i){"use strict";this.$VideoUploadRequestContext10=i;return this};h.prototype.getComposerDialogVersion=function(){"use strict";return this.$VideoUploadRequestContext10};h.prototype.getSource=function(){"use strict";return this.$VideoUploadRequestContext9};h.prototype.setWaterfallID=function(i){"use strict";this.$VideoUploadRequestContext11=i;return this};h.prototype.getWaterfallID=function(){"use strict";return this.$VideoUploadRequestContext11};h.prototype.setComposerEntryPointRef=function(i){"use strict";this.$VideoUploadRequestContext12=i};h.prototype.getComposerEntryPointRef=function(){"use strict";return this.$VideoUploadRequestContext12};h.prototype.setHasFileBeenReplaced=function(i){"use strict";this.$VideoUploadRequestContext13=i;return this};h.prototype.getHasFileBeenReplaced=function(){"use strict";return this.$VideoUploadRequestContext13};h.prototype.setSupportsChunking=function(i){"use strict";this.$VideoUploadRequestContext14=i;return this};h.prototype.getSupportsChunking=function(){"use strict";return this.$VideoUploadRequestContext14};h.prototype.setSupportsFileAPI=function(i){"use strict";this.$VideoUploadRequestContext15=i;return this};h.prototype.getSupportsFileAPI=function(){"use strict";return this.$VideoUploadRequestContext15};h.prototype.setCreatorProduct=function(i){"use strict";this.$VideoUploadRequestContext16=i;return this};h.prototype.getCreatorProduct=function(){"use strict";return this.$VideoUploadRequestContext16};h.prototype.setLastKnownUploadSpeed=function(i){"use strict";this.$VideoUploadRequestContext17=i};h.prototype.getLastKnownUploadSpeed=function(){"use strict";return this.$VideoUploadRequestContext17||0};h.prototype.setUseParallelChunks=function(i){"use strict";this.$VideoUploadRequestContext18=i};h.prototype.getUseParallelChunks=function(){"use strict";return this.$VideoUploadRequestContext18};h.prototype.setIsSphericalVideo=function(i){"use strict";this.$VideoUploadRequestContext19=i};h.prototype.getIsSphericalVideo=function(){"use strict";return this.$VideoUploadRequestContext19};h.prototype.setSphericalMetadata=function(i){"use strict";this.$VideoUploadRequestContext20=i};h.prototype.getSphericalMetadata=function(){"use strict";return this.$VideoUploadRequestContext20};h.prototype.setEnableOmnistab=function(i){"use strict";this.$VideoUploadRequestContext21=i};h.prototype.getEnableOmnistab=function(){"use strict";return this.$VideoUploadRequestContext21};h.prototype.setClientChunkSize=function(i){"use strict";this.$VideoUploadRequestContext22=i};h.prototype.getClientChunkSize=function(){"use strict";return this.$VideoUploadRequestContext22};h.prototype.reset=function(){"use strict";__p&&__p();this.$VideoUploadRequestContext1=null;this.$VideoUploadRequestContext3=null;this.$VideoUploadRequestContext4=null;this.$VideoUploadRequestContext5=null;this.$VideoUploadRequestContext8=null;this.$VideoUploadRequestContext9=null;this.$VideoUploadRequestContext10=null;this.$VideoUploadRequestContext11=null;this.$VideoUploadRequestContext12=null;this.$VideoUploadRequestContext13=false;this.$VideoUploadRequestContext14=null;this.$VideoUploadRequestContext15=null;this.$VideoUploadRequestContext6=null;this.$VideoUploadRequestContext7=null;this.$VideoUploadRequestContext16=null;this.$VideoUploadRequestContext17=0;this.$VideoUploadRequestContext18=false;this.$VideoUploadRequestContext19=false;this.$VideoUploadRequestContext2={};this.$VideoUploadRequestContext20={};this.$VideoUploadRequestContext21=false;this.$VideoUploadRequestContext22=null};f.exports=h}),null);
__d("VideoUploadStartRequestManager",["ArbiterMixin","VideoUploadRequest","FileHasher","performanceNow","mixin","Assert"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m,n,o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$VideoUploadStartRequestManager1=k;this.$VideoUploadStartRequestManager2=l;this.$VideoUploadStartRequestManager3=m;this.$VideoUploadStartRequestManager4=0;this.$VideoUploadStartRequestManager5=n;this.$VideoUploadStartRequestManager6=o;this.$VideoUploadStartRequestManager7=p;this.$VideoUploadStartRequestManager8=q;this.$VideoUploadStartRequestManager9=0}j.prototype.getRequest=function(){"use strict";return this.$VideoUploadStartRequestManager10};j.prototype.sendRequest=function(k){"use strict";__p&&__p();if(this.$VideoUploadStartRequestManager11||this.$VideoUploadStartRequestManager10)return;this.$VideoUploadStartRequestManager12=k;if(this.$VideoUploadStartRequestManager5&&this.$VideoUploadStartRequestManager12.getFile().getFile()&&this.$VideoUploadStartRequestManager12.getFile().getFile().size<this.$VideoUploadStartRequestManager6&&c("FileHasher").isSupported()){this.$VideoUploadStartRequestManager13=c("performanceNow")();this.$VideoUploadStartRequestManager11=new(c("FileHasher"))();this.$VideoUploadStartRequestManager11.hash(this.$VideoUploadStartRequestManager12.getFile().getFile(),function(l){this.$VideoUploadStartRequestManager13=c("performanceNow")()-this.$VideoUploadStartRequestManager13;this.$VideoUploadStartRequestManager14=l.hash;this.$VideoUploadStartRequestManager11.destroy();this.$VideoUploadStartRequestManager11=null;if(!l.hash)this.$VideoUploadStartRequestManager15=l.exception;this.$VideoUploadStartRequestManager16()}.bind(this))}else this.$VideoUploadStartRequestManager16()};j.prototype.$VideoUploadStartRequestManager16=function(){"use strict";this.$VideoUploadStartRequestManager17();this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager13,hash_exception:this.$VideoUploadStartRequestManager15})};j.prototype.$VideoUploadStartRequestManager17=function(){"use strict";clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=null;this.$VideoUploadStartRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(true).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager12,this.$VideoUploadStartRequestManager14)).setWaterfallID(this.$VideoUploadStartRequestManager12.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager19.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager20.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager21.bind(this));this.$VideoUploadStartRequestManager10.send()};j.prototype.__getVideoUploadRequest=function(k){"use strict";return new(c("VideoUploadRequest"))(k)};j.prototype.__getDataToSend=function(k,l){"use strict";return{file_size:k.getFile().getSize(),file_extension:k.getFile().getExtension(),target_id:k.getTargetID(),source:k.getSource(),composer_dialog_version:k.getComposerDialogVersion(),waterfall_id:k.getWaterfallID(),composer_entry_point_ref:k.getComposerEntryPointRef&&k.getComposerEntryPointRef(),has_file_been_replaced:k.getHasFileBeenReplaced(),supports_chunking:k.getSupportsChunking(),supports_file_api:k.getSupportsFileAPI(),partition_start_offset:k.getPartitionStartOffset(),partition_end_offset:k.getPartitionEndOffset(),creator_product:k.getCreatorProduct(),original_file_hash:l,spherical:k.getIsSphericalVideo(),spherical_metadata:k.getSphericalMetadata()}};j.prototype.cancelRequest=function(){"use strict";this.$VideoUploadStartRequestManager22()};j.prototype.$VideoUploadStartRequestManager23=function(k){"use strict";clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=setTimeout(this.$VideoUploadStartRequestManager17.bind(this),k)};j.prototype.$VideoUploadStartRequestManager22=function(){"use strict";__p&&__p();if(this.$VideoUploadStartRequestManager11){this.$VideoUploadStartRequestManager11.destroy();this.$VideoUploadStartRequestManager11=null}if(this.$VideoUploadStartRequestManager10){this.$VideoUploadStartRequestManager10.abort();this.$VideoUploadStartRequestManager10=null}this.$VideoUploadStartRequestManager9=0;this.$VideoUploadStartRequestManager4=0;this.$VideoUploadStartRequestManager12=null;clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=null};j.prototype.$VideoUploadStartRequestManager24=function(k,l){"use strict";return Math.pow(k,l)*1e3};j.prototype.$VideoUploadStartRequestManager19=function(k){"use strict";var l=k.getPayload();this.inform("request-finished",this.__getSuccessInformData(l));this.$VideoUploadStartRequestManager10=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager11==null,"Unexpected: if file hasher is not null, clean up is required.")};j.prototype.__getSuccessInformData=function(k){"use strict";return{video_id:k.video_id,start_offset:k.start_offset,end_offset:k.end_offset,transport_retries:this.$VideoUploadStartRequestManager4,server_retries:this.$VideoUploadStartRequestManager9,skip_upload:k.skip_upload,hash_time:this.$VideoUploadStartRequestManager13}};j.prototype.$VideoUploadStartRequestManager25=function(k){"use strict";this.inform("request-failed",this.$VideoUploadStartRequestManager26(k));this.$VideoUploadStartRequestManager10=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager11==null,"Unexpected: if file hasher is not null, clean up is required.")};j.prototype.$VideoUploadStartRequestManager20=function(k){"use strict";this.$VideoUploadStartRequestManager10=null;this.$VideoUploadStartRequestManager4=0;if(k.isTransient()&&this.$VideoUploadStartRequestManager9<this.$VideoUploadStartRequestManager7){this.$VideoUploadStartRequestManager9++;this.$VideoUploadStartRequestManager23(this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager8,this.$VideoUploadStartRequestManager9))}else this.$VideoUploadStartRequestManager25(k)};j.prototype.$VideoUploadStartRequestManager21=function(k){"use strict";if(this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager4>=this.$VideoUploadStartRequestManager2)this.$VideoUploadStartRequestManager25(k);else{this.$VideoUploadStartRequestManager4++;this.$VideoUploadStartRequestManager10=null;this.$VideoUploadStartRequestManager23(this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager4))}};j.prototype.$VideoUploadStartRequestManager26=function(k){"use strict";return{error_code:k.getError(),error_description:k.getErrorDescription(),error_summary:k.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager4,server_retries:this.$VideoUploadStartRequestManager9,error_is_transient:k.isTransient()}};f.exports=j}),null);
__d("VideoUploadSession",["ArbiterMixin","AsyncRequest","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this.$VideoUploadSession1=k.source;this.$VideoUploadSession2=k.composer_dialog_version;this.$VideoUploadSession3=k.target_id;this.$VideoUploadSession4=k.logging_delay;this.$VideoUploadSession5=k.silent_file_validation;this.$VideoUploadSession6=k.background_upload;this.$VideoUploadSession7=k.actor_id;this.$VideoUploadSession8=k.composer_entry_point_ref;this.$VideoUploadSession9=k.monitor_crashes;this.$VideoUploadSession10=k.isMultiMediaPost;this.$VideoUploadSession11=k.container_type;this.$VideoUploadSession12=k.number_of_partitions;this.$VideoUploadSession13=k.multi_partitioning_enabled;this.$VideoUploadSession14=k.change_default_chunk_size;this.$VideoUploadSession15=k.has_file_been_replaced?k.has_file_been_replaced:false;if(this.$VideoUploadSession14)this.$VideoUploadSession16=k.client_chunk_size;this.$VideoUploadSession17=k.early_receive;this.$VideoUploadSession18=false;this.$VideoUploadSession19=new(c("VideoUploadFileValidator"))({minSize:k.min_size,maxSize:k.max_size,minLength:k.min_length,maxLength:k.max_length,minWidth:k.min_width,minHeight:k.min_height,extensions:k.extensions,source:k.source,require16to9AspectRatio:k.require_16to9_aspect_ratio,minAspectRatio:k.min_aspect_ratio,maxAspectRatio:k.max_aspect_ratio});this.$VideoUploadSession20=c("VideoUploadFeatureDetector").supportsChunking();this.$VideoUploadSession21=c("VideoUploadFeatureDetector").supportsFileAPI();if(this.$VideoUploadSession20){this.$VideoUploadSession22=k.parallel_chunk_uploads;if(this.$VideoUploadSession22){this.$VideoUploadSession23=k.parallel_chunk_upload_filesize;this.$VideoUploadSession24=k.default_chunk_size}}else this.$VideoUploadSession22=false;this.$VideoUploadSession25=this.$VideoUploadSession26(k);this.$VideoUploadSession27=this.$VideoUploadSession28(k);if(this.$VideoUploadSession22)if(this.$VideoUploadSession13){var l=0;this.$VideoUploadSession29=[];for(l=0;l<this.$VideoUploadSession12-1;l++)this.$VideoUploadSession29[l]=this.$VideoUploadSession28(k)}else this.$VideoUploadSession29=this.$VideoUploadSession28(k);this.$VideoUploadSession30=this.$VideoUploadSession31(k)}j.prototype.$VideoUploadSession32=function(){"use strict";this.$VideoUploadSession33=[];this.$VideoUploadSession34=[];this.$VideoUploadSession35=[];this.$VideoUploadSession36=[];this.$VideoUploadSession37=[];var k=0;for(k=0;k<this.$VideoUploadSession38-1;k++)this.$VideoUploadSession33.push(false)};j.prototype.$VideoUploadSession39=function(){"use strict";this.$VideoUploadSession40=c("WaterfallIDGenerator").generate();this.$VideoUploadSession41=new(c("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession40,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession20,composer_entry_point_ref:this.$VideoUploadSession8,container_type:this.$VideoUploadSession11,has_file_been_replaced:this.$VideoUploadSession15});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession40})};j.prototype.createTestLogger=function(){"use strict";this.$VideoUploadSession39()};j.prototype.getLogger=function(){"use strict";if(!this.$VideoUploadSession41)return null;return this.$VideoUploadSession41};j.prototype.start=function(k){"use strict";__p&&__p();this.$VideoUploadSession42=null;this.$VideoUploadSession43=false;this.$VideoUploadSession44=false;this.$VideoUploadSession45=k;this.$VideoUploadSession46=0;this.$VideoUploadSession47=false;this.$VideoUploadSession48={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession49=false;this.$VideoUploadSession39();if(this.$VideoUploadSession13)this.$VideoUploadSession38=Math.min(this.$VideoUploadSession12,Math.ceil(this.$VideoUploadSession45.getSize()/this.$VideoUploadSession23));this.__logEvent(c("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");var l=new(c("VideoUploadMetadataParser"))(this.$VideoUploadSession45,this.$VideoUploadSession50.bind(this));l.parse()};j.prototype.setTargetID=function(k){"use strict";this.$VideoUploadSession3=k};j.prototype.post=function(k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_POST_REQUEST);this.inform("post-started",k);var l=this.__createPostRequestContext(k);this.$VideoUploadSession30.sendRequest(l);this.$VideoUploadSession51=k};j.prototype.__createPostRequestContext=function(k){"use strict";var l=new(c("VideoUploadRequestContext"))();this.__setupPostRequestContext(l,k);return l};j.prototype.__setupPostRequestContext=function(k,l){"use strict";__p&&__p();k.setMetadata(l).setVideoID(this.$VideoUploadSession42).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession40).setSupportsChunking(this.$VideoUploadSession20).setCreatorProduct(this.$VideoUploadSession45.getCreatorProduct()).setFile(this.$VideoUploadSession45).setHasFileBeenReplaced(this.$VideoUploadSession15);if(l){if(l.spherical){this.$VideoUploadSession47=true;k.setIsSphericalVideo(this.$VideoUploadSession47)}if(l.enable_omnistab){this.$VideoUploadSession49=true;k.setEnableOmnistab(this.$VideoUploadSession49)}}if(k.setComposerEntryPointRef)k.setComposerEntryPointRef(this.$VideoUploadSession8)};j.prototype.cancel=function(){"use strict";__p&&__p();if(!this.$VideoUploadSession43)return;var k=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession52();if(this.$VideoUploadSession6){if(!this.$VideoUploadSession44)this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_UPLOADING);if(this.$VideoUploadSession53){this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k);this.$VideoUploadSession53=false}}else{this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_UPLOADING);this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k)}};j.prototype.abandon=function(){"use strict";__p&&__p();if(!this.$VideoUploadSession43)return;var k=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession52();if(this.$VideoUploadSession6){if(!this.$VideoUploadSession44)this.__logEvent(c("VideoUploadLogger").EVENT_ABANDONED_UPLOADING);if(this.$VideoUploadSession53){this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k);this.$VideoUploadSession53=false}}else{this.__logEvent(c("VideoUploadLogger").EVENT_ABANDONED_UPLOADING);this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k)}};j.prototype.isPostInProgress=function(){"use strict";return this.$VideoUploadSession30.isInProgress()};j.prototype.isInProgress=function(){"use strict";return this.$VideoUploadSession43};j.prototype.getHasUploadFinished=function(){"use strict";return this.$VideoUploadSession44};j.prototype.getVideoID=function(){"use strict";return this.$VideoUploadSession42};j.prototype.getUploadTime=function(){"use strict";return this.$VideoUploadSession54};j.prototype.getExPartitionNumber=function(k){"use strict";var l=0;for(l=0;l<this.$VideoUploadSession38-1;l++)if(k>=this.$VideoUploadSession34[l]&&k<this.$VideoUploadSession35[l])break;if(l===this.$VideoUploadSession38)return-1;return l};j.prototype.startFlow=function(){"use strict";if(!this.$VideoUploadSession6||this.$VideoUploadSession53)return;this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.$VideoUploadSession47?"true":null});this.$VideoUploadSession53=true;if(this.$VideoUploadSession55)this.$VideoUploadSession55.flowStarted()};j.prototype.$VideoUploadSession50=function(k){"use strict";__p&&__p();var l,m;if(this.$VideoUploadSession5){var n=this.$VideoUploadSession19.getValidationErrorMessage(this.$VideoUploadSession45,k);if(n){m={error_summary:n.summary,error_description:n.description};l=false}else l=true}else l=this.$VideoUploadSession19.validate(this.$VideoUploadSession45,k);if(!l){this.__logEvent(c("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",m);return}if(k&&k.format){this.$VideoUploadSession47=k.format.isSpherical;if(k.metadata){this.$VideoUploadSession48.sphericalMetadataXml=k.metadata.sphericalMetadataXml;this.$VideoUploadSession48.fbSpatialAudioMetadataXml=k.metadata.fbSpatialAudioMetadataXml;this.$VideoUploadSession48.ytSa3dMetadataJson=k.metadata.ytSa3dMetadataJson}}if(!this.$VideoUploadSession6)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.$VideoUploadSession47?"true":null});this.$VideoUploadSession56=this.$VideoUploadSession22&&this.$VideoUploadSession45.getSize()>=this.$VideoUploadSession23;this.$VideoUploadSession57=false;this.$VideoUploadSession58=0;this.$VideoUploadSession59=this.$VideoUploadSession58;this.$VideoUploadSession60=0;if(this.$VideoUploadSession13)this.$VideoUploadSession32();else this.$VideoUploadSession33=false;if(this.$VideoUploadSession56)if(this.$VideoUploadSession13){var o=0;this.$VideoUploadSession61=Math.ceil(this.$VideoUploadSession45.getSize()/this.$VideoUploadSession38);var p=this.$VideoUploadSession61,q=this.$VideoUploadSession61;for(o=0;o<this.$VideoUploadSession38-1;o++){this.$VideoUploadSession34[o]=p;p=Math.min(this.$VideoUploadSession34[o]+q,this.$VideoUploadSession45.getSize());this.$VideoUploadSession35[o]=p;this.$VideoUploadSession36[o]=this.$VideoUploadSession34[o];this.$VideoUploadSession37[o]=0}}else{this.$VideoUploadSession61=Math.floor(this.$VideoUploadSession45.getSize()/2);this.$VideoUploadSession34=this.$VideoUploadSession61;this.$VideoUploadSession36=this.$VideoUploadSession34;this.$VideoUploadSession37=0;this.$VideoUploadSession35=this.$VideoUploadSession45.getSize()}else this.$VideoUploadSession61=this.$VideoUploadSession45.getSize();var r=new(c("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession45).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession40).setHasFileBeenReplaced(this.$VideoUploadSession15).setSupportsChunking(this.$VideoUploadSession20).setSupportsFileAPI(this.$VideoUploadSession21).setCreatorProduct(this.$VideoUploadSession45.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession58).setPartitionEndOffset(this.$VideoUploadSession61);if(this.$VideoUploadSession22)r.setUseParallelChunks(this.$VideoUploadSession22);if(this.$VideoUploadSession47){r.setIsSphericalVideo(this.$VideoUploadSession47);r.setSphericalMetadata(this.$VideoUploadSession48)}if(r.setComposerEntryPointRef)r.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession62();this.$VideoUploadSession25.sendRequest(r);if(this.$VideoUploadSession17&&this.$VideoUploadSession14&&this.$VideoUploadSession27.isResumabilityEnabled())this.$VideoUploadSession63();this.inform("metadata-parsed",k)};j.prototype.$VideoUploadSession26=function(k){"use strict";var l=this.$VideoUploadSession20?k.chunk_start_uri:k.start_uri,m=this.__getVideoUploadStartRequestManager(l,k.start_max_transport_retries,k.start_transport_retry_interval_base,k.skip_upload_enabled,k.skip_upload_file_size_limit,k.start_max_server_retries,k.start_server_retry_interval_base);m.subscribe("request-started",this.$VideoUploadSession64.bind(this));m.subscribe("request-finished",this.$VideoUploadSession65.bind(this));m.subscribe("request-failed",this.$VideoUploadSession66.bind(this));return m};j.prototype.$VideoUploadSession28=function(k){"use strict";__p&&__p();var l=this.$VideoUploadSession20?k.chunk_receive_uri:k.receive_uri,m=this.__getVideoUploadReceiveRequestManager(l,k);m.subscribe("request-started",this.$VideoUploadSession67.bind(this));m.subscribe("request-progressed",this.$VideoUploadSession68.bind(this));m.subscribe("request-finished",this.$VideoUploadSession69.bind(this));m.subscribe("request-failed",this.$VideoUploadSession70.bind(this));m.subscribe("request-timeout",this.$VideoUploadSession71.bind(this));m.subscribe("online",this.$VideoUploadSession72.bind(this));m.subscribe("offline",this.$VideoUploadSession73.bind(this));m.subscribe("resumable-called",this.$VideoUploadSession74.bind(this));m.subscribe("resumable-started",this.$VideoUploadSession75.bind(this));m.subscribe("resumable-success",this.$VideoUploadSession76.bind(this));m.subscribe("resumable-failed",this.$VideoUploadSession77.bind(this));return m};j.prototype.$VideoUploadSession31=function(k){"use strict";var l=this.$VideoUploadSession20?k.chunk_post_uri:k.post_uri,m=this.__getVideoUploadPostRequestManager(l,k);m.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));m.subscribe("request-failed",this.$VideoUploadSession78.bind(this));return m};j.prototype.$VideoUploadSession64=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_UPLOADING,{hash_time:k.hash_time,hash_exception:k.hash_exception});this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_START_REQUEST);this.$VideoUploadSession79=Date.now();this.inform("upload-started")};j.prototype.$VideoUploadSession63=function(k){"use strict";__p&&__p();if(!this.$VideoUploadSession18){this.$VideoUploadSession18=true;if(!k)k={video_id:null};var l;l=this.__createReceiveRequestContext(k,false);this.$VideoUploadSession27.sendRequest(l);if(this.$VideoUploadSession56)if(this.$VideoUploadSession13){var m=0;for(m=0;m<this.$VideoUploadSession38-1;m++){l=this.__createReceiveRequestContext(k,true,m);this.$VideoUploadSession29[m].sendRequest(l)}}else{l=this.__createReceiveRequestContext(k,true);this.$VideoUploadSession29.sendRequest(l)}}else this.$VideoUploadSession80()};j.prototype.$VideoUploadSession80=function(){"use strict";this.$VideoUploadSession27.updateVideoID(this.$VideoUploadSession42);if(this.$VideoUploadSession56)if(this.$VideoUploadSession13){var k=0;for(k=0;k<this.$VideoUploadSession38-1;k++)this.$VideoUploadSession29[k].updateVideoID(this.$VideoUploadSession42)}else this.$VideoUploadSession29.updateVideoID(this.$VideoUploadSession42)};j.prototype.$VideoUploadSession65=function(event,k){"use strict";__p&&__p();this.__logEvent(c("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{transport_retries:k.transport_retries,hash_time:k.hash_time,skip_upload:k.skip_upload?1:null});this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_START_REQUEST);this.$VideoUploadSession42=k.video_id;this.$VideoUploadSession81=k.skip_upload;if(!k.skip_upload)this.$VideoUploadSession63(k);else{this.$VideoUploadSession82();this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession45.getSize(),file_size:this.$VideoUploadSession45.getSize(),sent_bytes:this.$VideoUploadSession45.getSize(),video_id:k.video_id,skip_upload:k.skip_upload});if(this.$VideoUploadSession6)this.__logFinishedUploading();this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession45.getSize(),video_id:k.video_id,is_spherical_video:this.$VideoUploadSession47})}};j.prototype.__fetchReceiveRequestManagerStateLogData=function(){"use strict";__p&&__p();var k={};if(this.$VideoUploadSession27!=null){this.$VideoUploadSession27.appendStateLogData(k,"requestManager_");k.request_manager_state=k.requestManager_last_log_state}if(this.$VideoUploadSession13){var l=0;for(l=0;l<this.$VideoUploadSession38-1;l++)if(this.$VideoUploadSession29[l]!=null)this.$VideoUploadSession29[l].appendStateLogData(k,"requestManagerEx_"+l.toString())}else if(this.$VideoUploadSession29!=null)this.$VideoUploadSession29.appendStateLogData(k,"requestManagerEx_");return k};j.prototype.__createReceiveRequestContext=function(k,l,m){"use strict";if(!l)l=false;var n=new(c("VideoUploadRequestContext"))();this.$VideoUploadSession13?this.__setupReceiveRequestContext(n,k,l,m):this.__setupReceiveRequestContext(n,k,l);return n};j.prototype.__setupReceiveRequestContext=function(k,l,m,n){"use strict";__p&&__p();var o,p,q,r;if(!m){o=this.$VideoUploadSession58;p=this.$VideoUploadSession61;if(this.$VideoUploadSession14){q=this.$VideoUploadSession58;r=this.$VideoUploadSession16?Math.min(this.$VideoUploadSession16,this.$VideoUploadSession61):this.$VideoUploadSession61}else{q=l.start_offset;r=l.end_offset}}else if(this.$VideoUploadSession13){if(this.$VideoUploadSession14){this.$VideoUploadSession24=this.$VideoUploadSession35[n]-this.$VideoUploadSession34[n];this.$VideoUploadSession24=this.$VideoUploadSession16?Math.min(this.$VideoUploadSession16,this.$VideoUploadSession24):this.$VideoUploadSession24}o=this.$VideoUploadSession34[n];p=this.$VideoUploadSession35[n];q=this.$VideoUploadSession34[n];r=this.$VideoUploadSession34[n]+this.$VideoUploadSession24>=this.$VideoUploadSession35[n]?this.$VideoUploadSession35[n]:this.$VideoUploadSession34[n]+this.$VideoUploadSession24}else{if(this.$VideoUploadSession14){this.$VideoUploadSession24=this.$VideoUploadSession35-this.$VideoUploadSession34;this.$VideoUploadSession24=this.$VideoUploadSession16?Math.min(this.$VideoUploadSession16,this.$VideoUploadSession24):this.$VideoUploadSession24}o=this.$VideoUploadSession34;p=this.$VideoUploadSession35;q=this.$VideoUploadSession34;r=this.$VideoUploadSession34+this.$VideoUploadSession24>=this.$VideoUploadSession35?this.$VideoUploadSession35:this.$VideoUploadSession34+this.$VideoUploadSession24}k.setFile(this.$VideoUploadSession45).setVideoID(l.video_id).setStartOffset(q).setEndOffset(r).setPartitionStartOffset(o).setPartitionEndOffset(p).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession40).setSupportsChunking(this.$VideoUploadSession20).setHasFileBeenReplaced(this.$VideoUploadSession15);if(this.$VideoUploadSession22)k.setUseParallelChunks(this.$VideoUploadSession22);if(k.setComposerEntryPointRef)k.setComposerEntryPointRef(this.$VideoUploadSession8);if(this.$VideoUploadSession16)k.setClientChunkSize(this.$VideoUploadSession16)};j.prototype.$VideoUploadSession66=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_START_REQUEST,l);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;if(this.$VideoUploadSession6){if(this.$VideoUploadSession53){this.__logEvent(m);this.$VideoUploadSession53=false}}else this.__logEvent(m);this.$VideoUploadSession82();this.$VideoUploadSession83();this.inform("upload-failed",k)};j.prototype.$VideoUploadSession67=function(event,k){"use strict";if(!k.start_offset&&!k.transport_retries&&!k.server_retries)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession45.getSize()});if(this.$VideoUploadSession20)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:k.start_offset,total_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state})};j.prototype.$VideoUploadSession68=function(event,k){"use strict";__p&&__p();if(k.start_offset<this.$VideoUploadSession61){this.$VideoUploadSession59=k.start_offset;this.$VideoUploadSession60=k.sent_bytes}else if(this.$VideoUploadSession13){var l=0;l=this.getExPartitionNumber(k.start_offset);if(l>-1){this.$VideoUploadSession36[l]=k.start_offset;this.$VideoUploadSession37[l]=k.sent_bytes}}else{this.$VideoUploadSession36=k.start_offset;this.$VideoUploadSession37=k.sent_bytes}k.start_offset=this.$VideoUploadSession59;k.sent_bytes=this.$VideoUploadSession60;if(this.$VideoUploadSession56)if(this.$VideoUploadSession13)for(l=0;l<this.$VideoUploadSession38-1;l++){k.start_offset+=this.$VideoUploadSession36[l]-this.$VideoUploadSession34[l];k.sent_bytes+=this.$VideoUploadSession37[l]}else{k.start_offset+=this.$VideoUploadSession36-this.$VideoUploadSession34;k.sent_bytes+=this.$VideoUploadSession37}var m=Math.min(k.start_offset+k.sent_bytes,k.file_size);if(m>this.$VideoUploadSession46){this.$VideoUploadSession46=m;this.inform("upload-progressed",k)}};j.prototype.$VideoUploadSession69=function(event,k){"use strict";__p&&__p();if(this.$VideoUploadSession20)this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:k.start_offset,sent_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state});var l=false;if(k.start_offset<this.$VideoUploadSession61)this.$VideoUploadSession57=k.end_offset>=this.$VideoUploadSession61;else if(this.$VideoUploadSession13){var m=0;m=this.getExPartitionNumber(k.start_offset);if(m===-1){var n={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",n);return}this.$VideoUploadSession33[m]=k.end_offset>=this.$VideoUploadSession35[m]}else this.$VideoUploadSession33=k.end_offset>=this.$VideoUploadSession35;if(this.$VideoUploadSession13)for(m=0;m<this.$VideoUploadSession38-1;m++)if(this.$VideoUploadSession33[m]===false){l=false;break}else l=true;else l=this.$VideoUploadSession33;if(!this.$VideoUploadSession21||this.$VideoUploadSession57&&(!this.$VideoUploadSession56||l)){this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession45.getSize()});this.$VideoUploadSession54=Date.now()-this.$VideoUploadSession79;if(this.$VideoUploadSession6)this.__logFinishedUploading();k.video_id=this.$VideoUploadSession42;k.is_spherical_video=this.$VideoUploadSession47;this.inform("upload-finished",k);if(this.$VideoUploadSession10){if(!this.$VideoUploadSession6)this.__logFinishedUploading();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW,k);this.$VideoUploadSession53=false;this.$VideoUploadSession83();this.inform("multimedia-upload-finished",k)}}};j.prototype.$VideoUploadSession70=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);if(this.$VideoUploadSession20)this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,l);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;if(this.$VideoUploadSession6){if(this.$VideoUploadSession53){this.__logEvent(m,l);this.$VideoUploadSession53=false}}else this.__logEvent(m,l);this.$VideoUploadSession83();this.inform("upload-failed",k)};j.prototype.$VideoUploadSession71=function(event,k){"use strict";var l={start_offset:k.start_offset,sent_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,timeout_retries:k.timeout_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state};this.__logEvent(c("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,l)};j.prototype.$VideoUploadSession72=function(event,k){"use strict";this.inform("online",k)};j.prototype.$VideoUploadSession73=function(event,k){"use strict";this.inform("offline",k)};j.prototype.$VideoUploadSession74=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_CALLED,k)};j.prototype.$VideoUploadSession75=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_STARTED,k)};j.prototype.$VideoUploadSession76=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,k)};j.prototype.$VideoUploadSession77=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_FAILED,k)};j.prototype.__handlePostRequestFinished=function(event,k){"use strict";__p&&__p();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST);if(!k.video_id)k.video_id=this.$VideoUploadSession42;if(!this.$VideoUploadSession6)this.__logFinishedUploading();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession53=false;this.$VideoUploadSession83();var l=babelHelpers["extends"]({},k,this.$VideoUploadSession51);this.inform("post-finished",l)};j.prototype.__logFinishedUploading=function(){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_UPLOADING,{elapsed_time:this.$VideoUploadSession54,skip_upload:this.$VideoUploadSession81?1:null});this.$VideoUploadSession44=true};j.prototype.$VideoUploadSession78=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,l);if(this.$VideoUploadSession43){this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(m,l)}this.$VideoUploadSession83();this.inform("post-failed",k)};j.prototype.$VideoUploadSession82=function(){"use strict";__p&&__p();this.$VideoUploadSession27.cancelRequest();if(this.$VideoUploadSession56)if(this.$VideoUploadSession13){var k=0;for(k=0;k<this.$VideoUploadSession38-1;k++)this.$VideoUploadSession29[k].cancelRequest()}else this.$VideoUploadSession29.cancelRequest();this.$VideoUploadSession18=false};j.prototype.$VideoUploadSession52=function(){"use strict";this.$VideoUploadSession25.cancelRequest();this.$VideoUploadSession82();this.$VideoUploadSession83();if(this.$VideoUploadSession42){new(c("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:this.$VideoUploadSession42,redirect:false}).send();this.$VideoUploadSession42=null}};j.prototype.$VideoUploadSession62=function(){"use strict";this.$VideoUploadSession43=true;if(this.$VideoUploadSession9){this.$VideoUploadSession55=new(c("VideoUploadCrashMonitor"))(this.$VideoUploadSession40,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession20,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession53);this.$VideoUploadSession55.startSession()}};j.prototype.$VideoUploadSession83=function(){"use strict";this.$VideoUploadSession43=false;if(this.$VideoUploadSession55){this.$VideoUploadSession55.endSession();this.$VideoUploadSession55=null}};j.prototype.__getLogErrorData=function(k){"use strict";return{error:k.error_summary,error_code:k.error_code,error_description:k.error_description,transport_retries:k.transport_retries,server_retries:k.server_retries,request_manager_state:k.request_manager_state}};j.prototype.__logEvent=function(event,k){"use strict";var l=this.getLogger();k=k||{};if(this.$VideoUploadSession45){k.file_size=this.$VideoUploadSession45.getSize();k.file_extension=this.$VideoUploadSession45.getExtension();k.sent_bytes=this.$VideoUploadSession46}l.logEvent(event,k)};j.prototype.__getVideoUploadStartRequestManager=function(k,l,m,n,o,p,q){"use strict";return new(c("VideoUploadStartRequestManager"))(k,l,m,n,o,p,q)};j.prototype.__getVideoUploadReceiveRequestManager=function(k,l){"use strict";return new(c("VideoUploadReceiveRequestManager"))(k,l.max_transport_retries,l.max_transport_retry_timeout,l.max_server_retries,l.response_timeout_enabled,l.max_response_timeout_retries,l.response_timeout_speed_variation_factor_ppt,l.transport_retry_interval_base,l.server_retry_interval_base,l.receive_errors_force_retry,l.access_token,l.resumability_enabled,l.resumable_service_override,l.datr,l.resumability_min_file_size)};j.prototype.__getVideoUploadPostRequestManager=function(k,l){"use strict";return new(c("VideoUploadPostRequestManager"))(k,l.post_max_transport_retries,l.post_transport_retry_interval_base,l.post_max_server_retries,l.post_server_retry_interval_base)};f.exports=j}),null);
__d("VideoUploader",["ArbiterMixin","VideoUploadCrashMonitor","VideoUploadSession","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoUploader1=k;this.$VideoUploader2=null;if(k.monitor_crashes){this.$VideoUploader3=new(c("VideoUploadCrashMonitor"))();this.$VideoUploader3.logKnownCrashes()}}j.prototype.getLogger=function(){"use strict";if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};j.prototype.upload=function(k){"use strict";if(this.$VideoUploader2)return;this.$VideoUploader2=this.__getVideoUploadSession(this.$VideoUploader1);this.$VideoUploader2.subscribe(this.__getEventsWhichShouldListenFromSession(),function(event,l){return this.$VideoUploader4(event,l)}.bind(this));this.$VideoUploader2.start(k)};j.prototype.__getVideoUploadSession=function(k){"use strict";return new(c("VideoUploadSession"))(k)};j.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};j.prototype.postUserRequest=function(){"use strict";if(!this.$VideoUploader2)return;if(this.$VideoUploader2.startFlow)this.$VideoUploader2.startFlow()};j.prototype.setTargetID=function(k){"use strict";this.$VideoUploader2.setTargetID(k)};j.prototype.setHasFileBeenReplaced=function(k){"use strict";this.$VideoUploader1.has_file_been_replaced=k};j.prototype.post=function(k){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.post(k)};j.prototype.getVideoID=function(){"use strict";return this.$VideoUploader2.getVideoID()};j.prototype.cancel=function(){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.cancel();this.$VideoUploader2=null};j.prototype.abandon=function(){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.abandon();this.$VideoUploader2=null};j.prototype.reset=function(){"use strict";this.$VideoUploader2=null};j.prototype.getUploadSession=function(){"use strict";return this.$VideoUploader2};j.prototype.getLoggerData=function(){"use strict";return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader5:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};j.prototype.isPostInProgress=function(){"use strict";return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};j.prototype.isSessionInProgress=function(){"use strict";return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};j.prototype.getUploadParameters=function(){"use strict";return this.$VideoUploader1};j.prototype.__getSession=function(){"use strict";return this.$VideoUploader2};j.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return["upload-failed","post-finished","multimedia-upload-finished"]};j.prototype.$VideoUploader4=function(event,k){"use strict";if(this.__getEventsForWhichSessionShouldBeSetToNull().includes(event))this.$VideoUploader2=null;this.__delegateEvent(event,k)};j.prototype.__delegateEvent=function(event,k){"use strict";this.inform(event,k)};f.exports=j}),null);
__d("ReactComposerVideoXUploader",["invariant","Arbiter","DOM","JSLogger","MultimediaUploadProcessingDialog.react","PhotosUploadID","React","ReactComposerEvents","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactDOM","Run","StickyUploadBootloader","SubscriptionsHandler","VideoCreatorProductType","VideoUploader","VideoUploadFile","VideoUploadLogger","VideoUploadProgressBar","ifRequired","throttle","ReactComposerMediaUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=250;function j(k){__p&&__p();this.$ReactComposerVideoXUploader13=function(){this.$ReactComposerVideoXUploader22().logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW_EXP1);var l=c("DOM").create("div");c("DOM").appendContent(document.body,l);var m=this.$ReactComposerVideoXUploader6>0&&!this.$ReactComposerVideoXUploader12;c("ifRequired")("ReactComposerOptimisticPostingStore",function(n){if(n.hadOptimisticallyPosted(this.$ReactComposerVideoXUploader1))m=false}.bind(this),function(){});if(m)c("ReactDOM").render(c("React").createElement(c("MultimediaUploadProcessingDialog.react"),{numOfVideos:this.$ReactComposerVideoXUploader6}),l)}.bind(this);this.$ReactComposerVideoXUploader14=function(){this.$ReactComposerVideoXUploader22().logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW_EXP1);this.$ReactComposerVideoXUploader6=c("ReactComposerMediaUploadStore").getNonPrefillVideoUploadsCount(this.$ReactComposerVideoXUploader1)}.bind(this);this.$ReactComposerVideoXUploader3=k;this.$ReactComposerVideoXUploader2=new(c("SubscriptionsHandler"))();this.$ReactComposerVideoXUploader6=0;this.$ReactComposerVideoXUploader7=new Map();this.$ReactComposerVideoXUploader8=new Set();this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader12=false;k.composerID||h(0);k.uploaderParams||h(0);this.$ReactComposerVideoXUploader2.addSubscriptions(c("Arbiter").subscribe(c("ReactComposerEvents").POST_SUCCEEDED+k.composerID,c("throttle")(this.$ReactComposerVideoXUploader13,i,this)),c("Arbiter").subscribe(c("ReactComposerEvents").POST_STARTED+k.composerID,c("throttle")(this.$ReactComposerVideoXUploader14,i,this)));this.$ReactComposerVideoXUploader1=k.composerID;this.$ReactComposerVideoXUploader4=k.uploaderParams;this.$ReactComposerVideoXUploader5=c("JSLogger").create("composer");c("Run").onLeave(function(){return this.cancelUploads()}.bind(this));c("Run").onUnload(function(){return this.cancelUploads()}.bind(this))}j.prototype.cancelUploads=function(){this.$ReactComposerVideoXUploader8.forEach(function(k){var l=k.uploadID;this.$ReactComposerVideoXUploader8["delete"](k);var m=this.$ReactComposerVideoXUploader7.get(l);if(m)m.abandon()}.bind(this));this.$ReactComposerVideoXUploader9=false};j.prototype.upload=function(k){__p&&__p();k.forEach(function(m){if(!c("ReactComposerMediaFilterUtils").hasVideos([m.name]))return;if(!m.uploadID)m.uploadID=c("PhotosUploadID").getNewID();this.$ReactComposerVideoXUploader15(m)}.bind(this));var l=k.find(function(m){return c("ReactComposerMediaFilterUtils").hasVideos([m.name])});if(!this.$ReactComposerVideoXUploader9&&l)this.uploadVideo(l)};j.prototype.uploadVideo=function(k){__p&&__p();if(!k)return;this.$ReactComposerVideoXUploader9=true;var l=JSON.parse(JSON.stringify(this.$ReactComposerVideoXUploader4));l.isMultiMediaPost=true;var m=new(c("VideoUploader"))(l);this.$ReactComposerVideoXUploader7.set(k.uploadID,m);var n=c("VideoUploadFile").fromFile(k);if(n.getCreatorProduct()==c("VideoCreatorProductType").ANIMATED_GIFS)this.$ReactComposerVideoXUploader12=true;this.$ReactComposerVideoXUploader2.addSubscriptions(m.subscribe("metadata-parsed",this.$ReactComposerVideoXUploader16.bind(this,k)),m.subscribe("upload-started",this.$ReactComposerVideoXUploader17.bind(this,k)),m.subscribe("upload-progressed",this.$ReactComposerVideoXUploader18.bind(this,k)),m.subscribe("upload-failed",this.$ReactComposerVideoXUploader19.bind(this,k)),m.subscribe("upload-finished",this.$ReactComposerVideoXUploader20.bind(this,k)),m.subscribe("set-waterfall-id",this.$ReactComposerVideoXUploader21.bind(this,k)));var o=k.uploadID;c("StickyUploadBootloader").loadAPI(function(q){var r=c("ReactComposerMediaUploadStore").getMediaUpload(this.$ReactComposerVideoXUploader1,o);if(r&&r.stickyUploadItemID)q.setUploader(r.stickyUploadItemID,m)}.bind(this));try{m.upload(n)}catch(p){this.$ReactComposerVideoXUploader5.error("error_send_unpublished_files",p);throw p}};j.prototype.cancelUpload=function(k){__p&&__p();var l=this.$ReactComposerVideoXUploader7.get(k);if(l){l.cancel();l.reset();this.$ReactComposerVideoXUploader7["delete"](k);if(this.$ReactComposerVideoXUploader8.size>0){var m=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(m)}else this.$ReactComposerVideoXUploader9=false}this.deleteUpload(k)};j.prototype.deleteUpload=function(k){this.$ReactComposerVideoXUploader8.forEach(function(l){if(l.uploadID===k)this.$ReactComposerVideoXUploader8["delete"](l)}.bind(this))};j.prototype.$ReactComposerVideoXUploader20=function(k,l,m){__p&&__p();c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerVideoXUploader1,uploadID:k.uploadID,type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE,fileUpload:k,timeToUpload:0,photoID:m.video_id,sphericalPhotoID:"",thumbSrc:"",isSphericalVideo:m.is_spherical_video});var n=this.$ReactComposerVideoXUploader7.get(k.uploadID);if(n){n.reset();this.$ReactComposerVideoXUploader7["delete"](k.uploadID)}c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerVideoXUploader1);this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader8["delete"](k);if(this.$ReactComposerVideoXUploader8.size>0){var o=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(o)}};j.prototype.$ReactComposerVideoXUploader15=function(k){this.$ReactComposerVideoXUploader8.add(k);c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerVideoXUploader1,k.uploadID,k.name,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerVideoXUploader1).size,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(k))};j.prototype.$ReactComposerVideoXUploader16=function(k,l,m){c("ReactComposerMediaUploadActions").videoMetadataParsed(this.$ReactComposerVideoXUploader1,k.uploadID,m)};j.prototype.$ReactComposerVideoXUploader17=function(k,l){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING)};j.prototype.$ReactComposerVideoXUploader18=function(k,l,m){var n=c("VideoUploadProgressBar").computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0),o=false,p=0;if(this.$ReactComposerVideoXUploader4){o=this.$ReactComposerVideoXUploader4.use_real_progress_percentage;p=this.$ReactComposerVideoXUploader4.use_progress_transform_x}if(!o&&!(p>0))n=Math.round(n);c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerVideoXUploader1,k.uploadID,n,o,this.$ReactComposerVideoXUploader4.use_progress_linearity,p)};j.prototype.$ReactComposerVideoXUploader19=function(k,l,m){var n={code:m.error_code,description:m.error_description,summary:m.error_summary,"transient":m.error_is_transient||m.error_code==1004||m.error_code==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,0,n,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED);this.$ReactComposerVideoXUploader9=false};j.prototype.$ReactComposerVideoXUploader21=function(k,l,m){if(!this.$ReactComposerVideoXUploader10)this.$ReactComposerVideoXUploader10=m.waterfallID};j.prototype.$ReactComposerVideoXUploader23=function(){this.$ReactComposerVideoXUploader11=new(c("VideoUploadLogger"))({actor_id:this.$ReactComposerVideoXUploader4.actorID,source:this.$ReactComposerVideoXUploader4.source,waterfall_id:this.$ReactComposerVideoXUploader10,target_id:this.$ReactComposerVideoXUploader4.targetID,composer_entry_point_ref:this.$ReactComposerVideoXUploader4.composerEntryPointRef})};j.prototype.$ReactComposerVideoXUploader22=function(){if(!this.$ReactComposerVideoXUploader11)this.$ReactComposerVideoXUploader23();return this.$ReactComposerVideoXUploader11};j.prototype.destroy=function(){this.$ReactComposerVideoXUploader2.release()};j.prototype.getUploader=function(k){return this.$ReactComposerVideoXUploader7.get(k)};f.exports=j}),null);
__d("ReactComposerMultilingualStatusActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null},"ReactComposerMultilingualStatusActionType")}),null);
__d("ReactComposerStatusActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null,REMOVE_EDITOR_STATE_FORMATTING:null},"ReactComposerStatusActionType")}),null);
__d("getImplicitURLMatches",["URI","URLMatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=i.getText(),l=0,m;while((m=c("URLMatcher").match(k))!==null){var n=k.indexOf(m),o=n+m.length;if(c("URI").isValidURI(m))j(l+n,l+o);l+=o;k=k.substring(o)}}f.exports=h}),null);
__d("getImplicitURLRangesForContentState",["getImplicitURLMatches"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.getBlockMap().map(function(j){var k=[];c("getImplicitURLMatches")(j,function(l,m){k.push({start:l,end:m})});return k}).toArray()}f.exports=h}),null);
__d("getMentionsTextForContentState",["DraftEntity","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("emptyFunction").thatReturnsTrue,i=/[\\\]:]/g;function j(l){var m=arguments.length<=1||arguments[1]===undefined?"":arguments[1],n=l.getBlockMap().map(function(o){var p=o.getText(),q=[];o.findEntityRanges(h,function(r,s){q.push(k(p.slice(r,s),o.getEntityAt(r)))});return q.join("")});return n.join("\n"+m)}function k(l,m){__p&&__p();if(m){var n=c("DraftEntity").get(m);if(n.getType()==="MENTION"){l=l.replace(i,function(p){return"\\"+p});var o=n.getData().id;if(/^\d+$/.test(o))return"@["+o+":"+l+"]"}else if(n.getType()==="EMOTICON")return n.getData().originalEmoticon;else if(n.getType()==="EMOJI")return n.getData().emoji.join("")}return l.replace("@[","@ [")}f.exports=j}),null);
__d("getRichComposedTextDataForSave",["ComposedEntityType","UnicodeUtils","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.encodedContent,k=i.implicitLinks,l=j.blocks,m=j.entityMap;k=k||[];var n=Object.keys(m).map(function(q){return Number(q)}),o=n.length?Math.max.apply(Math,n):0,p=o+1;k.forEach(function(q,r){__p&&__p();q.forEach(function(s){__p&&__p();var t=s.start,u=s.end,v=l[r],w=v.text,x=v.entityRanges,y=p++,z=c("UnicodeUtils").strlen(w.slice(0,t)),A=c("UnicodeUtils").strlen(w.slice(t,u)),B=l[r].entityRanges.some(function(C){return C.offset<z+A&&C.offset+C.length>z});if(B)return;var C={offset:z,length:A,key:y},D=l[r].text.slice(t,u),E=new(c("URI"))(D),F=E.getProtocol();if(!F)E.setProtocol("http");var G={id:null,type:c("ComposedEntityType").IMPLICIT_LINK,data:{url:E.toString()}};x.push(C);m[String(y)]=G})});return{blocks:l.map(function(q){return q.text}),block_depths:l.map(function(q){return q.depth}),block_types:l.map(function(q){return q.type}),block_data:l.map(function(q){return q.data?JSON.stringify(q.data):"{}"}),entities:l.map(function(q){return JSON.stringify(q.entityRanges)}),entity_map:JSON.stringify(m),inline_styles:l.map(function(q){return JSON.stringify(q.inlineStyleRanges)})}}f.exports=h}),null);
__d("ReactComposerStatusStore",["ComposedBlockType","ComposedEntityType","ReactComposerMultilingualStatusActionType","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerStore","ContentState","EditorState","encodeBlocks","getDelightRangesForContentState","getImplicitURLRangesForContentState","getMentionsTextForContentState","getRichComposedTextDataForSave"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(l){__p&&__p();for(var m=l.blocks,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.type!==c("ComposedBlockType").UNSTYLED||q.inlineStyleRanges.length!==0)return true}for(var r in l.entityMap){var s=l.entityMap[r];if(s.type!==c("ComposedEntityType").MENTION&&s.type!==c("ComposedEntityType").DELIGHT)return true}return false}h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){var m=c("EditorState").createEmpty();return{activeEditorState:m,activeLanguageDialect:null,editorState:m,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerStatusActionType").SET_MENTIONS_SOURCE:l&&l.$ReactComposerStatusStore1(m);break;case c("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER:l&&l.$ReactComposerStatusStore2(m);break;case c("ReactComposerStatusActionType").SET_EDITOR_STATE:l&&l.$ReactComposerStatusStore3(m);break;case c("ReactComposerMultilingualStatusActionType").SET_LANGUAGE_EDITOR_STATE:l&&l.$ReactComposerStatusStore4(m);break;case c("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE:l&&l.$ReactComposerStatusStore5(m);break;case c("ReactComposerStatusActionType").SET_MENTIONS:l&&l.$ReactComposerStatusStore6(m);break;case c("ReactComposerStatusActionType").SET_TEXT_LENGTH:l&&l.$ReactComposerStatusStore7(m);break;case c("ReactComposerStatusActionType").REMOVE_EDITOR_STATE_FORMATTING:l&&l.$ReactComposerStatusStore8(m);break}});l=this}k.prototype.getMentionsSource=function(l){"use strict";return this.getComposerData(l).mentionsSource};k.prototype.getTypeaheadReporter=function(l){"use strict";return this.getComposerData(l).typeaheadReporter};k.prototype.getEditorState=function(l){"use strict";return this.getComposerData(l).editorState};k.prototype.getOriginalEditorState=function(l){"use strict";return this.getComposerData(l).originalEditorState};k.prototype.getActiveEditorState=function(l){"use strict";return this.getComposerData(l).activeEditorState};k.prototype.getActiveLanguageDialect=function(l){"use strict";return this.getComposerData(l).activeLanguageDialect};k.prototype.getMentions=function(l){"use strict";return this.getComposerData(l).mentions};k.prototype.getMessage=function(l){var m=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";var n=this.getEditorState(l);if(!n)return"";var o=n.getCurrentContent(),p=m?"\n":"";return c("getMentionsTextForContentState")(o,p)};k.prototype.getDelightRanges=function(l){"use strict";var m=this.getEditorState(l);if(!m)return[];return c("getDelightRangesForContentState")(m.getCurrentContent())};k.prototype.getMessageText=function(l){"use strict";var m=this.getEditorState(l);if(!m)return"";var n=m.getCurrentContent();return n?n.getPlainText():""};k.prototype.getRichTextBlocks=function(l){"use strict";__p&&__p();var m=c("ReactComposerTaggerStore").hasMarkdown(l);if(m)return null;var n=this.getEditorState(l);if(!n)return null;var o=n.getCurrentContent(),p=c("encodeBlocks")(o);if(!j(p))return null;var q={encodedContent:p,implicitLinks:c("getImplicitURLRangesForContentState")(o)};return c("getRichComposedTextDataForSave")(q)};k.prototype.getOriginalMessageText=function(l){"use strict";var m=this.getOriginalEditorState(l);if(!m)return"";var n=m.getCurrentContent();return n?n.getPlainText():""};k.prototype.getTextLength=function(l){"use strict";return this.getComposerData(l).textLength};k.prototype.$ReactComposerStatusStore1=function(l){"use strict";var m=this.getComposerData(l.composerID);m.mentionsSource=l.mentionsSource;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore2=function(l){"use strict";var m=this.getComposerData(l.composerID);m.typeaheadReporter=l.typeaheadReporter;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);m.editorState=l.editorState;m.activeEditorState=l.editorState;m.activeLanguageDialect=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore4=function(l){"use strict";var m=this.getComposerData(l.composerID);m.activeEditorState=l.editorState;m.activeLanguageDialect=l.languageDialect;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore5=function(l){"use strict";var m=this.getComposerData(l.composerID);m.originalEditorState=l.originalEditorState;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore6=function(l){"use strict";var m=this.getComposerData(l.composerID);m.mentions=l.mentions;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","textLength"]),n=m[0],o=m[1],p=this.getComposerData(n);p.textLength=o;this.emitChange(n)};k.prototype.$ReactComposerStatusStore8=function(l){"use strict";var m=l.composerID,n=this.getMessageText(m),o=c("ContentState").createFromText(n);l.editorState=c("EditorState").createWithContent(o);this.$ReactComposerStatusStore3(l)};f.exports=new k()}),null);
__d("ReactComposerTaggerActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_TAGGER_SHOW_TOOLTIP:null,SET_IS_BRANDED_CONTENT_VIDEO:null,SET_TAGGER_CONFIG:null},"ReactComposerTaggerActionType")}),null);
__d("ReactComposerTaggerActions",["ReactComposerDispatcher","ReactComposerTaggerActionType","ReactComposerTaggerStore"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.deselectCurrentTagger=function(i,j){"use strict";var k=c("ReactComposerTaggerStore").getSelectedTagger(i);if(k){var l={composerID:i,sourceLoggingName:j,type:c("ReactComposerTaggerActionType").DESELECT_TAGGER,taggerID:k};c("ReactComposerDispatcher").dispatch(l)}};h.prototype.selectTagger=function(i,j,k,l){"use strict";var m=c("ReactComposerTaggerStore").getSelectedTagger(i);if(k===m&&l!==true)this.deselectCurrentTagger(i,j);else this.$ReactComposerTaggerActions1(i,k,false,true,j)};h.prototype.selectTaggerWithoutLogging=function(i,j){"use strict";this.$ReactComposerTaggerActions1(i,j,true,true)};h.prototype.selectTaggerWithoutAutofocus=function(i,j,k){"use strict";this.$ReactComposerTaggerActions1(i,k,false,false,j)};h.prototype.$ReactComposerTaggerActions1=function(i,j,k,l,m){"use strict";var n={composerID:i,sourceLoggingName:m,type:c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER,taggerID:j,autoFocus:l,suppressWaterfallLogging:k};c("ReactComposerDispatcher").dispatch(n)};h.prototype.updateTaggersSource=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE,taggersSource:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTaggerSource=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE,taggerID:j,taggerSource:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setTaggerConfig=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG,taggerConfig:k,taggerID:j};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setTaggerData=function(i,j,k,l){"use strict";this.$ReactComposerTaggerActions2(i,k,l,false,j)};h.prototype.setTaggerDataWithoutLogging=function(i,j,k){"use strict";this.$ReactComposerTaggerActions2(i,j,k,true)};h.prototype.$ReactComposerTaggerActions2=function(i,j,k,l,m){"use strict";var n={composerID:i,sourceLoggingName:m,type:c("ReactComposerTaggerActionType").SET_TAGGER_DATA,taggerID:j,taggerData:k,suppressWaterfallLogging:l};c("ReactComposerDispatcher").dispatch(n)};h.prototype.selectDateTime=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").SET_SELECTED_DATETIME,selectedDateTime:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.selectPeople=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").SET_SELECTED_PEOPLE,selectedPeople:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.handleSetTaggerShowNUX=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX,taggerID:j,showNUX:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.handleSetTaggerShowTooltip=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP,taggerID:j,showTooltip:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setIsBrandedContentVideo=function(i,j){"use strict";var k={composerID:i,isBrandedContentVideo:j,type:c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null,SET_HIDE_OBJECT_ATTACHMENT:null},"ReactComposerMinutiaeAttachmentActionType")}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/minutiae/attachment/",{av:{type:"FBID"},composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}})}),null);
__d("ReactComposerMinutiaeAttachmentStore",["ActorURI","AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerMinutiaeAttachmentActionType","ReactComposerStoreBase","XReactComposerMinutiaeAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isFetching:false,markup:null,pendingRequest:null,explicitLocation:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore5(l);break}});k=this}j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getHideObjectAttachment=function(k){"use strict";return this.getComposerData(k).hideObjectAttachment};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","explicitLocation"]),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","actionID","objectID","targetID","actorID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(m);s.isFetching=true;var t=c("XReactComposerMinutiaeAttachmentController").getURIBuilder().setString("composer_id",m).setString("action_id",n).setString("object_id",o).setString("target_id",p).setBool("is_timeline",r);if(s.explicitLocation)t.setString("explicit_place_tag_id",s.explicitLocation);var u=c("ActorURI").create(t.getURI(),q);s.pendingRequest=new(c("AsyncRequest"))(u).setFinallyHandler(function(){s.isFetching=false;s.pendingRequest=null;this.emitChange(m)}.bind(this));s.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.hideObjectAttachment=false;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","hideAttachment"]),m=l[0],n=l[1],o=this.getComposerData(m);o.hideObjectAttachment=n;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1];if(n===c("ReactComposerAttachmentType").STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("PagesComposerCanvasVideoPostAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CTA_LINK:"cta_link",CTA_TYPE:"cta_type",LINK_TITLE:"link_title",VIDEO_ID:"video_id"})}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"})}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"})}),null);
__d("ReactComposerScrapedAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_SHARE_SELECTED:null,ATTACHMENT_TITLE_EDITED:null,ATTACHMENT_DESCRIPTION_EDITED:null,ATTACHMENT_IMAGE_DESELECTED:null,ATTACHMENT_BREAKING_CONFIG_SET:null,CLOSE_WHITELIST_DEPRECATION_NUX:null},"ReactComposerScrapedAttachmentActionType")}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/scraper/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}})}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/share_attachment/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},is_fb_photo_share:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerScrapedAttachmentStore",["ActorURI","AsyncRequest","CallToActionLinkFormats","PagesComposerCanvasVideoPostAttributes","PagesComposerCarouselPostChildAttachmentAttributes","PagesComposerCarouselPostLogAttributes","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","DOM","SimpleNUXMessage","SimpleNUXMessageTypes","gkx","XReactComposerScrapedAttachmentController","XReactComposerShareAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=-1;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null,isFbPhotoShare:false,showWhitelistDeprecationNux:false}},function(m){__p&&__p();switch(m.type){case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED:l&&l.$ReactComposerScrapedAttachmentStore1(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED:l&&l.$ReactComposerScrapedAttachmentStore2(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:l&&l.$ReactComposerScrapedAttachmentStore3(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED:l&&l.$ReactComposerScrapedAttachmentStore4(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:l&&l.$ReactComposerScrapedAttachmentStore5(m);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerScrapedAttachmentStore6(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD:l&&l.$ReactComposerScrapedAttachmentStore7(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED:l&&l.$ReactComposerScrapedAttachmentStore8(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED:l&&l.$ReactComposerScrapedAttachmentStore9(m);break;case c("ReactComposerScrapedAttachmentActionType").CLOSE_WHITELIST_DEPRECATION_NUX:l&&l.$ReactComposerScrapedAttachmentStore10(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_IMAGE_DESELECTED:l&&l.$ReactComposerScrapedAttachmentStore11(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_BREAKING_CONFIG_SET:l&&l.$ReactComposerScrapedAttachmentStore12(m)}});l=this}k.prototype.isEnabled=function(l){"use strict";return this.getComposerData(l).isEnabled};k.prototype.hasAttachment=function(l){"use strict";return!!this.getMarkup(l)};k.prototype.isScraping=function(l){"use strict";return this.getComposerData(l).isScraping};k.prototype.getMarkup=function(l){"use strict";return this.getComposerData(l).markup};k.prototype.isReadOnly=function(l){"use strict";var m=this.getComposerData(l);return m.attachmentConfig&&m.attachmentConfig.readOnly};k.prototype.getAttachmentConfig=function(l){"use strict";__p&&__p();var m=this.getComposerData(l);if(!m.markup)return null;if(!m.attachmentConfig.readOnly){var n=c("DOM").scry(m.markup,'input[name="attachment[params][images][0]"]').pop(),o=c("DOM").scry(m.markup,'input[name="attachment[params][title]"]').pop(),p=c("DOM").scry(m.markup,'input[name="attachment[params][summary]"]').pop();if(n!=null){if(m.attachmentConfig.params.images===undefined)m.attachmentConfig.params.images=[];m.attachmentConfig.params.images[0]=n.value}if(o!=null)m.attachmentConfig.params.title=o.value;if(p!=null)m.attachmentConfig.params.summary=p.value;var q=c("DOM").scry(m.markup,'input[name="attachment[carousel_log]['+c("PagesComposerCarouselPostLogAttributes").USE_CAROUSEL_COMPOSER+']"]').pop(),r=c("DOM").scry(m.markup,'input[name="attachment[canvas_log][use_canvas_composer]"]').pop();if(q!=null&&q.value==="1"){this.$ReactComposerScrapedAttachmentStore13(m);this.$ReactComposerScrapedAttachmentStore14(m)}else if(r!=null&&r.value==="1")this.$ReactComposerScrapedAttachmentStore15(m);this.$ReactComposerScrapedAttachmentStore16(m)}return m.attachmentConfig};k.prototype.getPostConfirmationDialog=function(l){"use strict";return this.getComposerData(l).postConfirmationDialog};k.prototype.getHasDisputedWarning=function(l){"use strict";return this.getComposerData(l).hasDisputedWarning};k.prototype.getBreakingNewsConfig=function(l){"use strict";return this.getComposerData(l).breakingNewsConfig};k.prototype.$ReactComposerScrapedAttachmentStore15=function(l){"use strict";__p&&__p();var m={publish:true,cta_link_format:c("CallToActionLinkFormats").VIDEO_LPP},n=Object.values(c("PagesComposerCanvasVideoPostAttributes")),o=null;for(var p=n,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;o=c("DOM").scry(l.markup,'input[name="attachment[params][canvas_video]['+String(t)+']"]').pop();if(o)m[String(t)]=o.value}l.attachmentConfig.params.canvas_video={};Object.assign(l.attachmentConfig.params.canvas_video,m)};k.prototype.$ReactComposerScrapedAttachmentStore16=function(l){"use strict";__p&&__p();var m={},n=Object.keys(c("PagesComposerCarouselPostLogAttributes"));for(var o=0;o<n.length;o++){var p=c("PagesComposerCarouselPostLogAttributes")[n[o]],q=c("DOM").scry(l.markup,'input[name="attachment[carousel_log]['+p+']"]').pop();if(!q)continue;m[p]=q.value}if(Object.keys(m).length!==0)l.attachmentConfig.carousel_log=m};k.prototype.$ReactComposerScrapedAttachmentStore13=function(l){"use strict";__p&&__p();l.attachmentConfig.params.child_attachments={};var m=Object.keys(c("PagesComposerCarouselPostChildAttachmentAttributes")),n=0,o={};while(true){var p=false,q=0;o={};for(q=0;q<m.length;q++){var r=c("DOM").scry(l.markup,'input[name="attachment[params][child_attachments]['+n+"]["+c("PagesComposerCarouselPostChildAttachmentAttributes")[m[q]]+']"]').pop();if(r==null)continue;o[c("PagesComposerCarouselPostChildAttachmentAttributes")[m[q]]]=r.value;p=true}if(!p)break;l.attachmentConfig.params.child_attachments[n]=o;n++}};k.prototype.$ReactComposerScrapedAttachmentStore14=function(l){"use strict";__p&&__p();var m=l.attachmentConfig.params.child_attachments;if(!m)return;var n=null,o=0;for(var p in m)if(Object.prototype.hasOwnProperty.call(m,p))if(m[p].selected==="1"){o+=1;if(o>1)return;if(m[p].video_id)n=m[p]}if(n){l.attachmentConfig.params.carousel_video_lpp={};Object.assign(l.attachmentConfig.params.carousel_video_lpp,{video_id:n.video_id,publish:true,link_title:n.name,link_description:n.description,cta_type:n.cta_type?n.cta_type:"NO_BUTTON",cta_link:n.link,cta_link_format:c("CallToActionLinkFormats").VIDEO_LPP})}};k.prototype.getPermissiveMatch=function(l){"use strict";return this.getComposerData(l).permissiveMatch};k.prototype.shouldShowWhitelistDeprecationNux=function(l){"use strict";return this.getComposerData(l).showWhitelistDeprecationNux};k.prototype.$ReactComposerScrapedAttachmentStore17=function(){"use strict";return c("gkx")("AT5noAAzzot_c4w7wAAZQvINXfKv6_AIZWPrHvxTC6IFSK4oBgslLopuRbWjpGwYAiVm-4EccgXMNXRR-ZvrbNDCgdDQodGLusuYI2QkK8tWuQ")&&!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").LINK_EDITING_WHITELIST_DEPRECATION_NUX)};k.prototype.$ReactComposerScrapedAttachmentStore8=function(l){"use strict";__p&&__p();if(!c("gkx")("AT6ufHAUZlUpIR6pHx24-j50gIcKlocZGofAAa-Md4l7QIqP33LNHkcbjesd77xSpgWfAiGT0SQ8CEpulQdxKLoN"))return;var m=this.validateAction(l,["composerID","index","value","pageOnLinkEditingWhitelist"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);if(r.attachmentConfig.params.edited_params==null)r.attachmentConfig.params.edited_params={};if(r.attachmentConfig.params.edited_params[o]==null)r.attachmentConfig.params.edited_params[o]={};r.attachmentConfig.params.edited_params[o].title=p;if(q&&this.$ReactComposerScrapedAttachmentStore17()){this.getComposerData(n).showWhitelistDeprecationNux=true;this.emitChange(n)}};k.prototype.$ReactComposerScrapedAttachmentStore9=function(l){"use strict";__p&&__p();if(!c("gkx")("AT6ufHAUZlUpIR6pHx24-j50gIcKlocZGofAAa-Md4l7QIqP33LNHkcbjesd77xSpgWfAiGT0SQ8CEpulQdxKLoN"))return;var m=this.validateAction(l,["composerID","index","value","pageOnLinkEditingWhitelist"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);if(r.attachmentConfig.params.edited_params==null)r.attachmentConfig.params.edited_params={};if(r.attachmentConfig.params.edited_params[o]==null)r.attachmentConfig.params.edited_params[o]={};r.attachmentConfig.params.edited_params[o].summary=p;if(q&&this.$ReactComposerScrapedAttachmentStore17()){this.getComposerData(n).showWhitelistDeprecationNux=true;this.emitChange(n)}};k.prototype.$ReactComposerScrapedAttachmentStore10=function(l){"use strict";var m=this.validateAction(l,["composerID"]);this.getComposerData(m).showWhitelistDeprecationNux=false;this.emitChange(m)};k.prototype.$ReactComposerScrapedAttachmentStore11=function(l){"use strict";if(!c("gkx")("AT6ufHAUZlUpIR6pHx24-j50gIcKlocZGofAAa-Md4l7QIqP33LNHkcbjesd77xSpgWfAiGT0SQ8CEpulQdxKLoN"))return;var m=this.validateAction(l,["composerID","index"]),n=m[0],o=m[1],p=this.getComposerData(n);if(p.attachmentConfig.params.edited_params!=null&&p.attachmentConfig.params.edited_params[o]!=null)p.attachmentConfig.params.edited_params[j]=p.attachmentConfig.params.edited_params[o]};k.prototype.$ReactComposerScrapedAttachmentStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","enabled"]),n=m[0],o=m[1],p=this.getComposerData(n);p.isEnabled=o};k.prototype.$ReactComposerScrapedAttachmentStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","permissiveMatch"]),n=m[0],o=m[1],p=this.getComposerData(n);p.permissiveMatch=o;this.emitChange(n)};k.prototype.$ReactComposerScrapedAttachmentStore3=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["composerID","targetID","value","entryPoint","actorID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5];if(!this.isEnabled(n))return;var t=this.getComposerData(l.composerID);t.isScraping=true;var u=c("ReactComposerAttachmentStore").getSelectedAttachmentID(n),v=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",n).setString("target_id",o).setString("scrape_url",p).setString("entry_point",q).setString("source_attachment",u).setEnum("source_logging_name",s).getURI();v=c("ActorURI").create(v,r);new(c("AsyncRequest"))(v).send();this.emitChange(n)};k.prototype.$ReactComposerScrapedAttachmentStore5=function(l){"use strict";__p&&__p();var m=l.composerID;if(!this.isEnabled(m))return;var n=this.getComposerData(l.composerID);n.markup=l.markup;n.attachmentConfig=l.attachmentConfig;n.isScraping=false;n.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m);n.postConfirmationDialog=l.postConfirmationDialog;n.hasDisputedWarning=l.hasDisputedWarning;n.breakingNewsConfig=l.breakingNewsConfig;this.emitChange(m)};k.prototype.$ReactComposerScrapedAttachmentStore6=function(l){"use strict";var m=this.getComposerData(l.composerID);if(l.id===m.sourceAttachment||m.sourceAttachment===null||l.proxiedAttachmentID===m.sourceAttachment)return;m.markup=null;m.attachmentConfig={};m.isScraping=false;m.sourceAttachment=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerScrapedAttachmentStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","targetID","scrapeUrl","carouselParams","entryPoint","actorID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5],t=this.getComposerData(l.composerID);t.isScraping=true;var u=c("ReactComposerAttachmentStore").getSelectedAttachmentID(n),v=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",n==null?null:n.toString()).setString("target_id",o==null?null:o.toString()).setString("scrape_url",p).setString("carousel_params",q).setString("entry_point",r).setString("source_attachment",u).getURI();v=c("ActorURI").create(v,s==null?"":s.toString());new(c("AsyncRequest"))(v).send();this.emitChange(l.composerID)};k.prototype.$ReactComposerScrapedAttachmentStore4=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["composerID","targetID","actorID","shareType","shareParams","isFbPhotoShare"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5];if(!this.isEnabled(n))return;var t=this.getComposerData(n);t.isScraping=true;var u=c("ReactComposerAttachmentStore").getSelectedAttachmentID(n),v=c("XReactComposerShareAttachmentController").getURIBuilder().setString("composer_id",n).setString("target_id",o).setInt("share_type",q).setString("share_params",JSON.stringify(r)).setString("source_attachment",u).setBool("is_fb_photo_share",s).getURI();v=c("ActorURI").create(v,p);new(c("AsyncRequest"))(v).send();this.emitChange(n)};k.prototype.$ReactComposerScrapedAttachmentStore12=function(l){"use strict";var m=this.getComposerData(l.composerID);m.breakingNewsConfig=l.breakingNewsConfig};f.exports=new k()}),null);
__d("ReactComposerTaggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA:"CAMERA",PEOPLE:"PEOPLE",OG:"OG",CALL:"CALL",LOCATION:"LOCATION",ACTIVITY:"ACTIVITY",BACKDATE:"BACKDATE",TARGETING:"TARGETING",PUBLISHER_ABTEST_HOLDOUT:"PUBLISHER_ABTEST_HOLDOUT",SPONSOR:"SPONSOR",VAULTPHOTO:"VAULTPHOTO",MARKDOWN:"MARKDOWN",CONTENT_WARNINGS:"CONTENT_WARNINGS",PRODUCT:"PRODUCT",PAGE_CTA:"PAGE_CTA",FORMATTED_TEXT:"FORMATTED_TEXT",FORMATTED_TEXT_TRAY:"FORMATTED_TEXT_TRAY",STICKER:"STICKER",MESSAGING:"MESSAGING",POLITICAL_INFO:"POLITICAL_INFO",ISSUE_TAG:"ISSUE_TAG",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",FUN_FACT:"FUN_FACT",ALBUM:"ALBUM",GIF:"GIF",FIND_PLAYERS:"FIND_PLAYERS",FUNDRAISER:"FUNDRAISER",LIST:"LIST",VISUAL_POLL:"VISUAL_POLL",RECOMMENDATION:"RECOMMENDATION",SALES_PROMO:"SALES_PROMO",TAG_EVENT:"TAG_EVENT",TAG_EVENT_TICKET:"TAG_EVENT_TICKET",BREAKING_NEWS:"BREAKING_NEWS",GROUP_MEET_UP:"GROUP_MEET_UP",ASSET_3D:"ASSET_3D",PLAY_WITH_FRIENDS:"PLAY_WITH_FRIENDS",STORIES:"STORIES",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",LOCAL_ALERTS:"LOCAL_ALERTS"})}),null);
__d("ReactComposerTaggerEligibilityUtils",["ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerScrapedAttachmentStore","ReactComposerMediaUploadType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","URLScraper","DestinationPickerEligibilityConfig","ifRequired","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={isStoryEligible:function i(j){__p&&__p();var k=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").BREAKING_NEWS,c("ReactComposerTaggerType").OG,c("ReactComposerTaggerType").MARKDOWN,c("ReactComposerTaggerType").ISSUE_TAG,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").SALES_PROMO,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").ASSET_3D,c("ReactComposerTaggerType").TAG_EVENT],l=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL],m=k.every(function(x){return!c("ReactComposerTaggerStore").hasData(j,x)}),n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(j),o=l.includes(n);if(!m||o)return false;if(c("ReactComposerScrapedAttachmentStore").hasAttachment(j))return false;var p=c("ReactComposerStatusStore").getMessageText(j).length>0,q=p?c("ReactComposerStatusStore").getMessageText(j).length<=c("DestinationPickerEligibilityConfig").textLengthLimitForYourStory&&p:true;if(!q)return false;var r=n===c("ReactComposerAttachmentType").MEDIA?c("ReactComposerMediaUploadStore").getUploadsCount(j,c("ReactComposerMediaUploadType").VIDEO)>0:false,s=n===c("ReactComposerAttachmentType").MEDIA?c("ReactComposerMediaUploadStore").getUploadsCount(j,c("ReactComposerMediaUploadType").PHOTO)>0:false,t=r?c("ReactComposerMediaUploadStore").getUploadsOfType(j,c("ReactComposerMediaUploadType").VIDEO).every(function(x){return x&&x.videoMetadata&&x.videoMetadata.format&&x.videoMetadata.format.duration<=c("DestinationPickerEligibilityConfig").maxVideoLengthInSeconds}):true;if(!t)return false;if(c("ReactComposerTaggerStore").hasLocationTag(j)||c("ReactComposerTaggerStore").hasMinutiae(j)||c("ReactComposerTaggerStore").getNumberOfWithWhoTags(j)>0){var u=!s||s&&c("DestinationPickerEligibilityConfig").metadataAvailableForPhotos,v=!r||r&&(c("DestinationPickerEligibilityConfig").metadataAvailableForVideos||s||p),w=!p||p&&q&&c("DestinationPickerEligibilityConfig").metadataAvailableForText;return u&&v&&w&&(s||r||p)}else{if(!s&&!r&&!c("ReactComposerTaggerStore").hasData(j,c("ReactComposerTaggerType").FORMATTED_TEXT))return c("DestinationPickerEligibilityConfig").shortPlainTextEligibleForYourStory;return true}},isSATPEligible:function i(j,k){__p&&__p();var l=c("ReactComposerStatusStore").getMessageText(j).match(/\n/g),m=l?l.length>k.maxNewlines:false,n=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").STICKER),o=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").FUNDRAISER),p=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS),q=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").ASSET_3D),r=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").FUN_FACT),s=c("ifRequired")("ReactComposerFocusStore",function(v){return v.isComposerFocused(j)},function(){return true}),t=true;if(!((c("ReactComposerAttachmentStore").getSelectedAttachmentID(j)===c("ReactComposerAttachmentType").STATUS||c("ReactComposerAttachmentStore").getProxiedAttachmentID(j)===c("ReactComposerAttachmentType").STATUS)&&c("ReactComposerAttachmentStore").isSelectedAttachmentActive(j))||!s||c("ReactComposerScrapedAttachmentStore").hasAttachment(j)||c("ReactComposerMediaUploadStore").getUploadsCount(j)!==0||c("ReactComposerTaggerStore").hasExplicitLocation(j)||c("ReactComposerTaggerStore").hasMarkdown(j)||n&&n.stickerID||q&&q.file||r&&r.askedPromptID||o&&o.charityID||p&&p.gameID||c("ReactComposerMinutiaeAttachmentStore").getMarkup(j)!=null||c("ReactComposerStatusStore").getTextLength(j)>k.textLengthLimit||c("ReactComposerStatusStore").getRichTextBlocks(j)!=null||m)t=false;c("ifRequired")("ReactComposerPostToGroupStore",function(v){if(t)t=!v.getIsTabSelected(j)});c("ifRequired")("ReactComposerEventAttachmentStore",function(v){if(t)t=!v.hasAttachment(j)});var u=c("ReactComposerStatusStore").getMessageText(j);if(c("URLScraper").permissiveMatch(u)!=null)t=false;return t},isGIFEligible:function i(j){var k=c("ReactComposerAttachmentStore").getSelectedAttachmentID(j);if(k===c("ReactComposerAttachmentType").LIST||k===c("ReactComposerAttachmentType").PLACE_LIST||k==c("ReactComposerAttachmentType").VISUAL_POLL||k==c("ReactComposerAttachmentType").MEDIA)return false;return c("ReactComposerScrapedAttachmentStore").isEnabled(j)},isBreakingNewsEligible:function i(j){__p&&__p();var k,l=c("ReactComposerTaggerStore").getTaggersConfig(j,c("ReactComposerTaggerType").BREAKING_NEWS);if(((k=l)!=null?(k=k.initialStatus)!=null?k.enabled:k:k)===false)return false;var m=false;c("ifRequired")("LiveVideoBroadcastUIStore",function(p){var q=p.get("composerConfig");m=q&&q.composerID===j});if(m)return true;var n=c("ReactComposerScrapedAttachmentStore").hasAttachment(j),o=c("ReactComposerScrapedAttachmentStore").getBreakingNewsConfig(j);return n&&!!o&&o.enabled},isLocalAlertsEligible:function i(j){var k,l=c("ReactComposerTaggerStore").hasData(j,c("ReactComposerTaggerType").ACTIVITY),m=c("ReactComposerTaggerStore").getTaggersConfig(j,c("ReactComposerTaggerType").LOCAL_ALERTS);return!l&&((k=m)!=null?(k=k.initialStatus)!=null?k.enabled:k:k)===true},isMessagingEligible:function i(j){__p&&__p();var k=c("ReactComposerMediaUploadStore").getUploadsOfType(j,c("ReactComposerMediaUploadType").PHOTO),l=c("ReactComposerMediaUploadStore").getUploadsOfType(j,c("ReactComposerMediaUploadType").VIDEO),m=false;c("ifRequired")("ReactComposerSlideshowStore",function(t){m=t.isSlideshowSelected(j)});var n=false;c("ifRequired")("ReactComposerCanvasStore",function(t){n=t.isCanvasSelected(j)});var o=false;c("ifRequired")("ReactComposerCollectionStore",function(t){o=t.isCollectionSelected(j)});var p=false;c("ifRequired")("VideoComposerDialogUploadStore",function(t){var u=t.getState(),v=u.videoData;p=v!==null});var q=false;c("ifRequired")("ReactComposerPhotoCarouselStore",function(t){q=t.isPhotoCarouselSelected(j)});var r=k!=null?k.size:0,s=l!=null?l.size:0;return!(r&&r>1||s&&s>1||!r&&!s&&!p||m||n||o||q)}};f.exports=h}),null);
__d("ReactComposerTaggerStore",["immutable","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType","ReactComposerAttachmentType","SearchableEntry","ReactComposerTaggerEligibilityUtils","QE2Logger","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="product_tagging_minimum_number_products";h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){__p&&__p();var m={};m[c("ReactComposerTaggerType").PEOPLE]=[];m[c("ReactComposerTaggerType").LOCATION]={};m[c("ReactComposerTaggerType").BACKDATE]={};m[c("ReactComposerTaggerType").ACTIVITY]={};m[c("ReactComposerTaggerType").TARGETING]={};m[c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT]={};m[c("ReactComposerTaggerType").SPONSOR]={sponsors:[],directShareStatus:0,sponsorRelationship:0};m[c("ReactComposerTaggerType").PRODUCT]=[];m[c("ReactComposerTaggerType").MARKDOWN]={};m[c("ReactComposerTaggerType").CONTENT_WARNINGS]=[];m[c("ReactComposerTaggerType").MESSAGING]=[];m[c("ReactComposerTaggerType").POLITICAL_INFO]={};m[c("ReactComposerTaggerType").ISSUE_TAG]=[];m[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE]={};m[c("ReactComposerTaggerType").GIF]={};m[c("ReactComposerTaggerType").FUNDRAISER]={};m[c("ReactComposerTaggerType").PLAY_WITH_FRIENDS]={};m[c("ReactComposerTaggerType").BREAKING_NEWS]={isAttachmentBreaking:false,expirationTime:0};m[c("ReactComposerTaggerType").LOCAL_ALERTS]={expirationTime:0};m[c("ReactComposerTaggerType").TAG_EVENT]={};m[c("ReactComposerTaggerType").TAG_EVENT_TICKET]={ticketedEventData:null};m[c("ReactComposerTaggerType").VIDEO_SUGGESTIONS]={};var n={};n[c("ReactComposerTaggerType").FORMATTED_TEXT]={maxNewLines:3,textLengthLimit:130};return{$ReactComposerTaggerStore1:c("immutable").Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:m,taggersSource:{},taggersShowNUX:{},taggersShowTooltip:{},sourceAttachment:null,taggersConfig:n}},function(m){__p&&__p();switch(m.type){case c("ReactComposerTaggerActionType").DESELECT_TAGGER:l&&l.$ReactComposerTaggerStore2(m);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:l&&l.$ReactComposerTaggerStore3(m);break;case c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE:l&&l.$ReactComposerTaggerStore4(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE:l&&l.$ReactComposerTaggerStore5(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:l&&l.$ReactComposerTaggerStore6(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX:l&&l.$ReactComposerTaggerStore7(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP:l&&l.$ReactComposerTaggerStore8(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG:l&&l.$ReactComposerTaggerStore9(m);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:l&&l.$ReactComposerTaggerStore10(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:l&&l.$ReactComposerTaggerStore11(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:l&&l.$ReactComposerTaggerStore12(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:l&&l.$ReactComposerTaggerStore13(m);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:l&&l.$ReactComposerTaggerStore14(m);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerTaggerStore15(m);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:l&&l.$ReactComposerTaggerStore16(m);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerTaggerStore17(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:l&&l.$ReactComposerTaggerStore18(m);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerTaggerStore19(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:l&&l.$ReactComposerTaggerStore20(m);break}});l=this}k.prototype.isDisabled=function(l,m){"use strict";__p&&__p();var n=[],o=[],p=false;switch(m){case c("ReactComposerTaggerType").FORMATTED_TEXT:return!c("ReactComposerTaggerEligibilityUtils").isSATPEligible(l,this.getTaggersConfig(l,c("ReactComposerTaggerType").FORMATTED_TEXT));case c("ReactComposerTaggerType").STORIES:return!c("ReactComposerTaggerEligibilityUtils").isStoryEligible(l);case c("ReactComposerTaggerType").GIF:return!c("ReactComposerTaggerEligibilityUtils").isGIFEligible(l);case c("ReactComposerTaggerType").BREAKING_NEWS:return!c("ReactComposerTaggerEligibilityUtils").isBreakingNewsEligible(l);case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").OG:n=[c("ReactComposerTaggerType").STORIES];o=[c("ReactComposerAttachmentType").TASK];break;case c("ReactComposerTaggerType").LOCATION:n=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES];o=[c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").LOCAL_ALERTS:return!c("ReactComposerTaggerEligibilityUtils").isLocalAlertsEligible(l);case c("ReactComposerTaggerType").MESSAGING:return!c("ReactComposerTaggerEligibilityUtils").isMessagingEligible(l);case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").CONTENT_WARNINGS:case c("ReactComposerTaggerType").BACKDATE:case c("ReactComposerTaggerType").TARGETING:case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").MARKDOWN:case c("ReactComposerTaggerType").ISSUE_TAG:case c("ReactComposerTaggerType").SPONSOR:case c("ReactComposerTaggerType").ALBUM:case c("ReactComposerTaggerType").VAULTPHOTO:case c("ReactComposerTaggerType").SALES_PROMO:return false;case c("ReactComposerTaggerType").MESSAGING:case c("ReactComposerTaggerType").PAGE_CTA:case c("ReactComposerTaggerType").CALL:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").STORIES];break;case c("ReactComposerTaggerType").RECOMMENDATION:n=[c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").TAG_EVENT_TICKET];p=true;break;case c("ReactComposerTaggerType").FIND_PLAYERS:p=true;break;case c("ReactComposerTaggerType").LIST:n=[c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS,c("ReactComposerTaggerType").TAG_EVENT_TICKET];p=true;break;case c("ReactComposerTaggerType").VISUAL_POLL:n=[c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS];p=true;break;case c("ReactComposerTaggerType").GROUP_MEET_UP:n=[c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS];p=true;break;case c("ReactComposerTaggerType").POLITICAL_INFO:case c("ReactComposerTaggerType").CAMERA:o=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").LIST];break;case c("ReactComposerTaggerType").ACTIVITY:n=[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").TAG_EVENT_TICKET,c("ReactComposerTaggerType").LOCAL_ALERTS];o=[c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").FUN_FACT:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS];o=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR];break;case c("ReactComposerTaggerType").STICKER:n=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES];o=[c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").TAG_EVENT_TICKET];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").FUNDRAISER:n=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").PLAY_WITH_FRIENDS];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:n=[c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STORIES,c("ReactComposerTaggerType").FUNDRAISER];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];p=true;break;case c("ReactComposerTaggerType").TAG_EVENT_TICKET:case c("ReactComposerTaggerType").TAG_EVENT:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").STORIES];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TASK];break;case c("ReactComposerTaggerType").ASSET_3D:p=true;break;case c("ReactComposerTaggerType").STORIES:n=[c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").BREAKING_NEWS,c("ReactComposerTaggerType").OG,c("ReactComposerTaggerType").LOCATION,c("ReactComposerTaggerType").MARKDOWN,c("ReactComposerTaggerType").ISSUE_TAG,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").SALES_PROMO,c("ReactComposerTaggerType").MESSAGING,c("ReactComposerTaggerType").RECOMMENDATION,c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").STICKER,c("ReactComposerTaggerType").ASSET_3D,c("ReactComposerTaggerType").TAG_EVENT,c("ReactComposerTaggerType").PEOPLE];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];p=true;break;default:throw new Error(m+" is an unhandled tagger type in ReactComposerTaggerStore.isDisabled")}var q=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),r=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").STATUS);return this.$ReactComposerTaggerStore21(l,n)||p&&!r&&q!==this.$ReactComposerTaggerStore22(m)||o.includes(q)};k.prototype.$ReactComposerTaggerStore22=function(l){"use strict";__p&&__p();switch(l){case c("ReactComposerTaggerType").CALL:return c("ReactComposerAttachmentType").CALL;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerAttachmentType").CTA;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerAttachmentType").MESSAGE;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ReactComposerAttachmentType").PLACE_LIST;case c("ReactComposerTaggerType").FIND_PLAYERS:return c("ReactComposerAttachmentType").FIND_PLAYERS;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ReactComposerAttachmentType").VISUAL_POLL;case c("ReactComposerTaggerType").LIST:return c("ReactComposerAttachmentType").LIST;default:return null}};k.prototype.$ReactComposerTaggerStore21=function(l,m){"use strict";__p&&__p();for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(this.hasData(l,r))return true}return false};k.prototype.hasData=function(l,m){"use strict";__p&&__p();var n=this.getTaggerData(l,m);if(n==null)return false;switch(m){case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").CONTENT_WARNINGS:return n.length>0;case c("ReactComposerTaggerType").LOCATION:return!!n.place;case c("ReactComposerTaggerType").BACKDATE:return!!n.year;case c("ReactComposerTaggerType").ACTIVITY:return!!n.action&&!!n.object;case c("ReactComposerTaggerType").MARKDOWN:return!!n.isMarkdown;case c("ReactComposerTaggerType").TARGETING:case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").POLITICAL_INFO:case c("ReactComposerTaggerType").ISSUE_TAG:return!c("isEmpty")(n);case c("ReactComposerTaggerType").LOCAL_ALERTS:return n.expirationTime>0;case c("ReactComposerTaggerType").BREAKING_NEWS:return!c("isEmpty")(n)&&n.isAttachmentBreaking&&n.expirationTime>0;case c("ReactComposerTaggerType").FUN_FACT:return!!n.promptID||!!n.askedPromptID;case c("ReactComposerTaggerType").SPONSOR:return n.sponsors&&n.sponsors.length>0;case c("ReactComposerTaggerType").FORMATTED_TEXT:return!!n.formatActive;case c("ReactComposerTaggerType").STICKER:return!!n.stickerID;case c("ReactComposerTaggerType").GIF:return!!n.gifData;case c("ReactComposerTaggerType").MESSAGING:return n.hasCTA;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return!!n.politicalRepresentative;case c("ReactComposerTaggerType").FUNDRAISER:return!!n.charityID;case c("ReactComposerTaggerType").TAG_EVENT:return!!n.eventID;case c("ReactComposerTaggerType").TAG_EVENT_TICKET:return!!n.ticketedEventData;case c("ReactComposerTaggerType").ASSET_3D:return!!n.file;case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return!!n.videoID;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return!!n.gameID;default:throw new Error(m+" is an unhandled tagger type in ReactComposerTaggerStore.hasData")}};k.prototype.shouldShowNUX=function(l,m){"use strict";var n=this.getComposerData(l);return!!n.taggersShowNUX[m]};k.prototype.shouldShowTooltip=function(l,m){"use strict";var n=this.getComposerData(l);return!!n.taggersShowTooltip[m]};k.prototype.areAllTaggersEmpty=function(l){"use strict";var m=this.getTaggersData(l);for(var n in m)if(this.hasData(l,n))return false;return true};k.prototype.getSelectedTagger=function(l){"use strict";return this.getComposerData(l).selectedTagger};k.prototype.getAutoFocusOnSelectedTagger=function(l){"use strict";return this.getComposerData(l).autoFocusOnSelectedTagger};k.prototype.getTaggerSource=function(l,m){"use strict";return this.getComposerData(l).taggersSource[m]};k.prototype.getTaggerData=function(l,m){"use strict";return this.getComposerData(l).taggersData[m]};k.prototype.getTaggersData=function(l){"use strict";return this.getComposerData(l).taggersData};k.prototype.getTaggersConfig=function(l,m){"use strict";return this.getComposerData(l).taggersConfig[m]};k.prototype.hasMinutiae=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").ACTIVITY);return!!(m&&m.action&&m.object)};k.prototype.hasLocationTag=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&(m.place||m.implicitLocation))};k.prototype.hasExplicitLocation=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&m.place)};k.prototype.hasImplicitLocation=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&m.implicitLocation&&!m.place)};k.prototype.hasBackdate=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").BACKDATE)||{};return!!m.year};k.prototype.hasMarkdown=function(l){"use strict";return!!this.getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown};k.prototype.hasMessagingCTA=function(l){"use strict";return!!this.getTaggerData(l,c("ReactComposerTaggerType").MESSAGING).hasCTA};k.prototype.getPoliticalDistrictInfo=function(l){"use strict";return this.getTaggerData(l,c("ReactComposerTaggerType").POLITICAL_INFO)};k.prototype.getNumberOfWithWhoTags=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[];return m.length};k.prototype.$ReactComposerTaggerStore2=function(l){"use strict";var m=this.getComposerData(l.composerID);m.selectedTagger=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);if(m.selectedTagger===l.taggerID&&!l.disableToggle)m.selectedTagger=null;else m.selectedTagger=l.taggerID;m.autoFocusOnSelectedTagger=l.autoFocus;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore9=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersConfig[l.taggerID]=l.taggerConfig;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore5=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersSource[l.taggerID]=l.taggerSource;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","taggersSource"]),n=m[0],o=m[1],p=this.getComposerData(n);for(var q in o)p.taggersSource[q]=o[q];this.emitChange(n)};k.prototype.$ReactComposerTaggerStore6=function(l){"use strict";var m=this.getComposerData(l.composerID),n=Array.isArray(l.taggerData)?l.taggerData.slice():Object.assign({},l.taggerData);m.taggersData[l.taggerID]=n;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore7=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersShowNUX[l.taggerID]=l.showNUX;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore8=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersShowTooltip[l.taggerID]=l.showTooltip;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore20=function(l){"use strict";var m=this.getComposerData(l.composerID);m.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l.composerID);this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore19=function(l){"use strict";var m=this.getComposerData(l.composerID);if(l.id===m.sourceAttachment||m.sourceAttachment===null)return;this.getTaggerData(l.composerID,c("ReactComposerTaggerType").GIF).gifData=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore18=function(l){"use strict";var m=this.getComposerData(l.composerID),n=Object.assign({mediaLocation:l.mediaLocation},m.taggersData[c("ReactComposerTaggerType").LOCATION]);m.taggersData[c("ReactComposerTaggerType").LOCATION]=n;var o=Object.assign({mediaLocation:l.mediaLocation,mediaTakenTime:l.mediaTakenTime},m.taggersData[c("ReactComposerTaggerType").TAG_EVENT]);m.taggersData[c("ReactComposerTaggerType").TAG_EVENT]=o;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore10=function(l){"use strict";var m=this.validateAction(l,["composerID","facebox","photoID"]),n=m[0],o=m[1],p=m[2],q=o.bestRecognition;if(q)this.$ReactComposerTaggerStore23(n,q.subjectID,q.value,p)};k.prototype.$ReactComposerTaggerStore11=function(l){"use strict";var m=this.validateAction(l,["composerID","subject","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore23(n,o,p,q)};k.prototype.$ReactComposerTaggerStore14=function(l){"use strict";var m=this.validateAction(l,["composerID","photoID"]),n=m[0],o=m[1];this.$ReactComposerTaggerStore24(n,o);this.$ReactComposerTaggerStore25(n,o)};k.prototype.$ReactComposerTaggerStore12=function(l){"use strict";var m=this.validateAction(l,["composerID","subject","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore26(n,o,p,q)};k.prototype.$ReactComposerTaggerStore13=function(l){"use strict";var m=this.validateAction(l,["composerID","subjectID","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore23(n,o,p,q)};k.prototype.$ReactComposerTaggerStore15=function(l){"use strict";var m=this.validateAction(l,["composerID","subjectID"]),n=m[0],o=m[1];if(!c("ReactComposerPhotoStore").getIsSubjectTagged(n,o))this.$ReactComposerTaggerStore27(n,o)};k.prototype.$ReactComposerTaggerStore16=function(l){"use strict";var m=this.validateAction(l,["composerID","photoID","faceboxes","xyTags"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore24(n,o);p.forEach(function(r){r&&r.taggedSubjectID&&this.$ReactComposerTaggerStore23(n,r.taggedSubjectID,r.taggedValue,o)}.bind(this));q.forEach(function(r){r&&this.$ReactComposerTaggerStore23(n,r.subject,r.name,o)}.bind(this))};k.prototype.$ReactComposerTaggerStore17=function(l){"use strict";var m=this.validateAction(l,"composerID");this.getComposerData(m).$ReactComposerTaggerStore1.forEach(function(n){if(!c("ReactComposerPhotoStore").getIsSubjectTagged(m,n))this.$ReactComposerTaggerStore27(m,n)}.bind(this))};k.prototype.$ReactComposerTaggerStore23=function(l,m,n,o){"use strict";__p&&__p();var p=new(c("SearchableEntry"))({uniqueID:m,title:n,auxiliaryData:{isFacebox:true,photos:new Set([o])}}),q=this.getComposerData(l),r=q.taggersData[c("ReactComposerTaggerType").PEOPLE],s=r.find(function(u){return u.getUniqueID()===p.getUniqueID()});q.$ReactComposerTaggerStore1=q.$ReactComposerTaggerStore1.add(m);if(s){var t=s.getAuxiliaryData();if(this.$ReactComposerTaggerStore28(s))t.photos.add(o)}else q.taggersData[c("ReactComposerTaggerType").PEOPLE]=r.concat(p);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore26=function(l,m,n,o){"use strict";var p=new(c("SearchableEntry"))({uniqueID:m,title:n,auxiliaryData:{isFacebox:true,photos:new Set([o])}}),q=this.getComposerData(l),r=q.taggersData[c("ReactComposerTaggerType").PRODUCT],s=r.find(function(t){return t.getUniqueID()===p.getUniqueID()});if(s){if(this.$ReactComposerTaggerStore28(s))s.getAuxiliaryData().photos.add(o)}else q.taggersData[c("ReactComposerTaggerType").PRODUCT]=r.concat(p);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore27=function(l,m){"use strict";var n=this.getComposerData(l);n.taggersData[c("ReactComposerTaggerType").PEOPLE]=n.taggersData[c("ReactComposerTaggerType").PEOPLE].filter(function(o){return o.getUniqueID()!==m});n.taggersData[c("ReactComposerTaggerType").PRODUCT]=n.taggersData[c("ReactComposerTaggerType").PRODUCT].filter(function(o){return o.getUniqueID()!==m});n.$ReactComposerTaggerStore1=n.$ReactComposerTaggerStore1["delete"](m);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore24=function(l,m){"use strict";var n=this.getComposerData(l),o=n.taggersData[c("ReactComposerTaggerType").PEOPLE];this.$ReactComposerTaggerStore29(l,o,m)};k.prototype.$ReactComposerTaggerStore25=function(l,m){"use strict";var n=this.getComposerData(l),o=n.taggersData[c("ReactComposerTaggerType").PRODUCT];this.$ReactComposerTaggerStore29(l,o,m)};k.prototype.$ReactComposerTaggerStore29=function(l,m,n){"use strict";__p&&__p();var o=[];for(var p=m,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t.getAuxiliaryData();if(this.$ReactComposerTaggerStore28(t)&&u.photos["delete"](n)&&u.photos.size==0)o.push(t.getUniqueID())}for(var v=o,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;this.$ReactComposerTaggerStore27(l,z)}};k.prototype.$ReactComposerTaggerStore28=function(l){"use strict";return l.getAuxiliaryData().photos};k.prototype.isPostButtonDisabled=function(l,m){"use strict";var n=this.getTaggerData(l,c("ReactComposerTaggerType").PRODUCT);if(n.length>0)c("QE2Logger").logExposureForUser(j);return n!==null&&n.length>0&&n.length<m};f.exports=new k()}),null);
__d("PUWMethods",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste",DISABLE_SPHERICAL:"disable_spherical"})}),null);
__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALBUM:"album",ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",ALBUM_TAGGER:"album_tagger",APP_INTEGRATION_AODOCS:"app_integration_aodocs",APP_INTEGRATION_BOX:"app_integration_box",APP_INTEGRATION_CORNERSTONE:"app_integration_cornerstone",APP_INTEGRATION_DROPBOX:"app_integration_dropbox",APP_INTEGRATION_EGNYTE:"app_integration_egnyte",APP_INTEGRATION_GDRIVE:"app_integration_gdrive",APP_INTEGRATION_JIRA:"app_integration_jira",APP_INTEGRATION_ONEDRIVE:"app_integration_onedrive",APP_INTEGRATION_QUIP:"app_integration_quip",APP_INTEGRATION_SHAREPOINT:"app_integration_sharepoint",ASSET_3D:"asset_3d",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAG_SPROUT:"backdate_tag_sprout",BACKDATE_TAGGER:"backdate_tagger",BREAKING_NEWS:"breaking_news",BREAKING_NEWS_SPROUT:"breaking_news_sprout",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu/edit_post",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON:"collections_create_sharing_space_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON:"collections_create_sharing_space_submit_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON:"collections_selector_create_sharing_space_button",CONTACT_YOUR_REPRESENTATIVE_TAGGER:"contact_your_representative_tagger",CONTACT_YOUR_REPRESENTATIVE_SPROUT:"contact_your_representative_sprout",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",CRISIS_PAGE:"crisis_page",CRISIS_BOOKMARK:"crisis_bookmark",DELETE_POST_EDIT_BUTTON:"delete_post_dialog/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",FUNDRAISER_SPROUT:"fundraiser_sprout",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_SPROUT:"event_sprout",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_DROPPED:"file_dropped",FILE_TAB_SELECTOR:"file_tab_selector",FIND_PLAYERS_SPROUT:"find_players_sprout",FUN_FACT:"fun_fact",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",FUN_FACT_SPROUT:"fun_fact_sprout",GAME_TAB_SELECTOR:"game_tab_selector",GET_BOOKINGS_SPROUT:"get_bookings_sprout",GET_MESSAGES_SPROUT:"get_messages_sprout",GET_TICKET_SPROUT:"get_ticket_sprout",GET_PHONE_CALLS_SPROUT:"get_phone_calls_sprout",GIF_SPROUT:"gif_sprout",GROUP_SELECTOR:"group_selector",GROUP_POLL_SPROUT:"group_poll_sprout",GROUP_MEET_UP:"group_meet_up",GROUP_MEET_UP_SELECTOR:"group_meet_up_selector",GROUP_MEETUP_EDIT_BUTTON:"group_meetup_edit_button",INLINE_COMPOSER:"inline_composer",ISSUE_TAGGER:"issue_tagger",LEARNING_COURSE_TAB_SELECTOR:"learning_course_tab_selector",JOB_POST_ATTACHMENT:"job_post_attachment",JOBS_COMPOSER:"jobs_composer",LEARNING_THIRD_PARTY_LINK_TAB_SELECTOR:"learning_third_party_link_tab_selector",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIST_SPROUT:"list_sprout",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LIVING_ROOM_SPROUT:"living_room_sprout",LOCAL_ALERTS:"local_alerts",LOCAL_ALERTS_SPROUT:"local_alerts_sprout",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MILESTONE_SPROUT:"milestone_sprout",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PAGES_ACTION_BAR_RECOMMEND:"pages_action_bar_recommend",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_SPROUT:"photo_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PLAY_WITH_FRIENDS_SPROUT:"play_with_friends_sprout",PREFILL_HOLIDAY_CARD_SHARE_BUTTON:"prefill_holiday_card_share_button",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PROMPT:"prompt",PUBLISHER_ABTEST_HOLDOUT_TAGGER:"publisher_abtest_holdout_tagger",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",ORDER_FOOD:"order_food",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_TAB_SELECTOR:"recommendations_tab_selector",RECOMMENDATIONS_SPROUT:"recommendations_sprout",SEND_GIFT_TAB_SELECTOR:"send_gift_tab_selector",REP_TAGGING:"rep_tagging",SALES_PROMO_SPROUT:"sales_promo_sprout",SALES_PROMO_TAB_SELECTOR:"sales_promo_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu/write_post",SHARING_SPACES_NEXT_BUTTON:"sharing_spaces_next_button",SHARING_SPACES_CREATE_NEW_ALBUM:"sharing_spaces_create_new_album",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE:"tagger_summary_row/contact_your_representative",TAGGER_SUMMARY_LOCATION:"tagger_summary_row/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TAGGER_SUMMARY_TAG_EVENT:"tagger_summary_row/event_tagger",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TAG_EVENT:"tag_event",TAG_EVENT_TICKET:"tag_event_ticket",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",VIDEO_SPROUT:"video_sprout",VISUAL_POLL_SPROUT:"visual_poll_sprout",VIDEO_SUGGESTIONS:"video_suggestions",OTHERS:"others"})}),null);
__d("ReactComposerPhotoLegacyLimitExceededDialog",["fbt","DOM","LayerDestroyOnHide","React","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){var i={show:function j(k){var l=h._("\u0110\u00e3 th\u00eam qu\u00e1 nhi\u1ec1u \u1ea3nh"),m=h._("B\u1ea1n ch\u1ec9 c\u00f3 th\u1ec3 th\u00eam {maxselect} \u1ea3nh v\u00e0o b\u00e0i vi\u1ebft. \u0110\u1ec3 th\u00eam nhi\u1ec1u \u1ea3nh h\u01a1n, h\u00e3y th\u1eed t\u1ea1o album.",[h._param("maxselect",k)]),n=c("DOM").create("div");c("ReactDOM").render(c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerDestroyOnHide:c("LayerDestroyOnHide")},width:600},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,l)),c("React").createElement(c("XUIDialogBody.react"),null,m),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"}))),n)}};f.exports=i}),null);
__d("ReactComposerVideoLegacyLimitExceededDialog",["fbt","ErrorDialog"],(function a(b,c,d,e,f,g,h){var i={show:function j(){c("ErrorDialog").show(h._("Qu\u00e1 nhi\u1ec1u t\u1ec7p"),h._("Xin h\u00e3y ch\u1ecdn m\u1ed7i l\u1ea7n m\u1ed9t t\u1eadp tin video."))}};f.exports=i}),null);
__d("ReactComposerVideoUploadActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},"ReactComposerVideoUploadActionType")}),null);
__d("ReactComposerVideoUploadStore",["immutable","ReactComposerStoreBase","ReactComposerVideoUploadActionType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").Record({file:null});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{uploader:null,video:null}},function(m){switch(m.type){case c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER:l&&l.$ReactComposerVideoUploadStore1(m);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:l&&l.$ReactComposerVideoUploadStore2(m);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:l&&l.$ReactComposerVideoUploadStore3(m);break;default:}});l=this}k.prototype.getUploader=function(l){"use strict";return this.getComposerData(l).uploader};k.prototype.getVideo=function(l){"use strict";return this.getComposerData(l).video};k.prototype.isUploading=function(l){"use strict";return this.getUploader(l).isUploading()};k.prototype.$ReactComposerVideoUploadStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","uploader"]),n=m[0],o=m[1],p=this.getComposerData(n);p.uploader=o;this.emitChange(n)};k.prototype.$ReactComposerVideoUploadStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","file"]),n=m[0],o=m[1],p=this.getComposerData(n);p.video=new j({file:o});this.emitChange(n)};k.prototype.$ReactComposerVideoUploadStore3=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.video=null;n.input&&n.input.clear();this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerVideoUploadActions",["ReactComposerDispatcher","ReactComposerVideoUploadActionType","ReactComposerVideoUploadStore"],(function a(b,c,d,e,f,g){c("ReactComposerVideoUploadStore");var h={setUploader:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER,uploader:k})},add:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD,file:k})},remove:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE})}};f.exports=h}),null);
__d("ReactComposerMediaUtils",["invariant","Arbiter","Bootloader","PUWMethods","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoActions","ReactComposerPhotoLegacyLimitExceededDialog","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoLegacyLimitExceededDialog","ReactComposerVideoUploadActions","ReactComposerVideoUploadStore","VideoUploader","VideoUploadFeatureDetector","VideoUploadFile","curry","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={clearInput:function j(k,l){if(k.input!==null){var m=this.getFileNamesFromFileInput(k.getInput());if(l||!i.hasVideos(m))k.clear()}},getFileNames:function j(k){var l=[];for(var m=0;m<k.length;m++)l.push(k[m].name);return l},getFileNamesFromFileInput:function j(k){if(c("VideoUploadFeatureDetector").supportsFileAPI())return this.getFileNames(k.files);else return[k.value.split("/").pop().split("\\").pop()]},hasVideos:function j(k){return c("ReactComposerMediaFilterUtils").hasVideos(k)},hasAudioFiles:function j(k){return c("ReactComposerMediaFilterUtils").hasAudioFiles(k)},filterVideos:function j(k){return c("ReactComposerMediaFilterUtils").filterVideos(k)},filterAudioFiles:function j(k){return c("ReactComposerMediaFilterUtils").filterAudioFiles(k)},filterFileOfSupportedType:function j(k,l){return c("ReactComposerMediaFilterUtils").filterFileOfSupportedType(k,l)},uploadVideo:function j(k,l){var m=c("ReactComposerMediaUploadStore").getUploadsOfType(k,c("ReactComposerMediaUploadType").PHOTO);if(m.size>0)c("ReactComposerMediaUploadActions").removeAllPhotoUploads(k,m);c("ReactComposerVideoUploadActions").add(k,l)},uploadPhotos:function j(k,l,m,n,o,p){__p&&__p();var q=m.isUploadLimitExceeded(n,l);if(q){c("ReactComposerPhotoLegacyLimitExceededDialog").show(m.getMaxSelectableFilesCount(n));return}var r=l?l.length:1;if(r<1)return;if(c("ReactComposerVideoUploadStore").getVideo(k))c("ReactComposerVideoUploadActions").remove(k);c("ReactComposerMediaUploadActions").photosSelect(k,r,o);p&&p()},uploadVideosFromTarget:function j(k,l,m,n,o){if(o)this.uploadMultiMediaFromTarget(k,l,m,n,o);else{if(l.files&&l.files.length>1){c("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(k,c("VideoUploadFile").fromFileInput(l))}},uploadVideos:function j(k,l,m,n,o,p){if(o)this.uploadMultiMedia(k,l,m,n,c("PUWMethods").FILE_SELECTOR,p);else{if(l&&l.length>1){c("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(k,c("VideoUploadFile").fromFile(l[0]))}},uploadMultiMediaFromTarget:function j(k,l,m,n,o){var p=this.getVideoXUploader(k);p.upload(Array.from(l.files));this.uploadPhotos(k,l.files,m,n,c("PUWMethods").FILE_SELECTOR,function(){m&&m.upload(l)},o)},uploadPhotosOrVideoFromTarget:function j(k,l,m,n,o){var p=this.getFileNamesFromFileInput(l);if(this.hasVideos(p))this.uploadVideosFromTarget(k,l,m,n,o);else this.uploadPhotos(k,l.files,m,n,c("PUWMethods").FILE_SELECTOR,function(){m&&m.upload(l)})},uploadMultiMedia:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c("PUWMethods").FILE_SELECTOR:arguments[4],p=arguments[5],q=this.getVideoXUploader(k,p);q.upload(l);var r=l.filter(function(s){return!this.hasVideos([s.name])}.bind(this));this.uploadPhotos(k,r,m,n,o,function(){r.forEach(function(s){s.uploadID=c("uniqueID")();s.filename=""});m.enqueueAsyncUploadRequest(k,r,{},{},false)})},uploadPhotosOrVideo:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c("PUWMethods").FILE_SELECTOR:arguments[4],p=arguments[5],q=arguments.length<=6||arguments[6]===undefined?null:arguments[6],r=this.getFileNames(l);if(this.hasVideos(r))this.uploadVideos(k,l,m,n,p,q);else this.uploadPhotos(k,l,m,n,o,function(){l.forEach(function(s){s.uploadID=c("uniqueID")();s.filename=""});m.enqueueAsyncUploadRequest(k,l,{},{},false)})},subscribeToImageEdit:function j(k,l){return c("Arbiter").subscribe(["AttachmentsPhotoEditor/newImage"+k,"AttachmentsPhotoEditor/tagsUpdated"+k],c("curry")(i.onImageEdited,k,l))},onImageEdited:function j(k,l,m,n){__p&&__p();if(m==="AttachmentsPhotoEditor/newImage"+k){var o=c("ReactComposerMediaUploadStore").getUploadsOfType(k,c("ReactComposerMediaUploadType").PHOTO),p=o.find(function(p){return p.photoID===n.fbid||p.originalPhotoID===n.fbid}),q=c("ReactComposerMediaUploadStore").getUploadIndex(k,p.id),r=n.blob;r.uploadID=c("uniqueID")();r.name=p.filename||c("uniqueID")();var s=new Map([[r.uploadID,q]]);l&&l.enqueueAsyncUploadRequest(k,[r],{data:{original_fbid:n.fbid,xy_tags:n.xyTags,stickers:n.stickers,text_overlays:n.textOverlays,has_crop:n.hasCrop,has_filter:n.hasFilter},indexMap:s},{xyTags:n.xyTags},false);c("ReactComposerPhotoActions").removePhoto(k,p.photoID,p.id);c("ReactComposerMediaUploadActions").photosSelect(k,1,c("PUWMethods").METHOD_EDITOR)}else if(m==="AttachmentsPhotoEditor/tagsUpdated"+k)i.handleFaceboxAndXYTags(k,n.fbid,n.xyTags);c("ReactComposerPhotoActions").finishPhotoEdit(k)},handleFaceboxAndXYTags:function j(k,l,m){c("ReactComposerPhotoActions").untagAllForPhoto(k,l);m.forEach(function(n){if(n.from_facebox)c("ReactComposerPhotoActions").tagFacebox(k,l,n.facebox,n.subject,n.name);else if(n.is_product_tag)c("ReactComposerPhotoActions").tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);else c("ReactComposerPhotoActions").tagXY(k,l,n.name,n.source,n.subject,n.x,n.y)})},handleXYTagsOnly:function j(k,l,m){m.forEach(function(n){if(n.from_facebox)return;else if(n.is_product_tag)c("ReactComposerPhotoActions").tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);else c("ReactComposerPhotoActions").tagXY(k,l,n.name,n.source,n.subject,n.x,n.y)})},handleVideoUploadForDroppedFiles:function j(k,l,m){__p&&__p();var n=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID)>0;if(n)return false;var o=this.getFileNames(k);if(!o||o.length!==1)return false;var p=i.hasVideos(o);if(p){c("Bootloader").loadModules(["ComposerXVideoUploadDialogController"],function(q){return q.showDialog({targetID:m.targetID,files:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost})},"ReactComposerMediaUtils");return true}return false},handleSpecialMediaUpload:function j(event,k,l,m){__p&&__p();var n=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID)>0;if(!l.useVideoUploadDialog||n)return false;var o=event.target;if(!o||!o.files||o.files.length!==1)return false;var p=i.getFileNamesFromFileInput(o),q=i.hasVideos(p),r=i.hasAudioFiles(p);if(r&&l.canUploadAudio){c("Bootloader").loadModules(["ComposerXAudioUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,originalComposerID:m.composerID})},"ReactComposerMediaUtils");return true}else if(q){c("Bootloader").loadModules(["ComposerXVideoUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost,originalComposerID:m.composerID})},"ReactComposerMediaUtils");return true}return false},isMultimediaPost:function j(k){return c("ReactComposerMediaUploadStore").getUploadsCount(k,c("ReactComposerMediaUploadType").VIDEO)>0&&c("ReactComposerMediaUploadStore").getUploadsCount(k,c("ReactComposerMediaUploadType").PHOTO)>0},getVideoXUploader:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1],m=null;if(l&&l.videoUploadParams)m=l;else m=c("ReactComposerAttachmentStore").getAttachmentsConfig(k,c("ReactComposerAttachmentType").MEDIA);m||h(0);var n=c("ReactComposerMediaUploadStore").getVideoUploader(k,m.videoUploadParams);return n},tryGetVideoXUploader:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1];try{return this.getVideoXUploader(k,l)}catch(m){return null}},getVideoUploader:function j(k){var l=c("ReactComposerAttachmentStore").getAttachmentsConfig(k,c("ReactComposerAttachmentType").MEDIA);l||h(0);var m=JSON.parse(JSON.stringify(l.videoUploadParams));return new(c("VideoUploader"))(m)},changeToPeopleTaggerAfterUpload:function j(k){var l=c("ReactComposerTaggerStore").getSelectedTagger(k),m=c("ReactComposerAttachmentStore").getIsAttachmentSelected(k,c("ReactComposerAttachmentType").MEDIA);if(l===null&&m)c("ReactComposerTaggerActions").selectTaggerWithoutAutofocus(k,c("ReactComposerLoggingName").PHOTO_UPLOAD_DONE,c("ReactComposerTaggerType").PEOPLE)}};f.exports=i}),null);
__d("ComposerEntryPointRef",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED:"feed",FEED_INLINE:"feed_inline",FEED_VOICE_SWITCHER:"feed_voice_switcher",SPROUTS:"sprouts",PLAYGROUND:"playground",TIMELINE:"timeline",NATIVE_PERMALINK:"native_permalink",EVENT:"event",EVENT_ALL_MEDIA:"event_all_media",EVENT_PHOTOS:"event_photos",EVENT_VIDEOS:"event_videos",EVENT_WALL:"event_wall",EVENT_ABOUT:"event_about",EVENT_TOUR:"event_tour",GROUP:"group",NATIVE_GROUP:"native_group",NATIVE_PAGE:"native_page",PAGES_MANAGER:"pages_manager",FINCH_PAGE_CHECKIN:"finch_page_checkin",PLACES_NEARBY_FRIENDS:"places_nearby_friends",PLACES_SEARCH_FAILURE:"places_search_failure",FEED_STORY:"feed_story",PHOTOS_DASHBOARD:"photos_dashboard",PHOTOS_TAB_TIMELINE:"photos_tab_timeline",ADD_PHOTO_IN_TIMELINE_TAB:"add_photo_in_timeline_tab",ADD_PHOTO_IN_ALBUM:"add_photo_in_album",ADD_PHOTO_IN_PHOTOS_SECTION:"add_photo_in_photos_section",PHOTOS_ALBUM:"photos_album",PHOTOS_ALBUM_LISTING:"photos_album_listing",ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",CREATE_COUPON_DIALOG:"create_coupon_dialog",SOCIAL_PLUGIN:"social_plugin",PLATFORM_DIALOG:"platform_dialog",SHARE_BUTTON_PLUGIN:"share_button",PAGE_PLUGIN:"page",ADS_CREATE:"ads_create",ADS_POWER_EDITOR:"ads_power_editor",TOPIC_HASHTAG_FEED:"topic_hashtag_feed",PERMALINK:"permalink",EDIT_DIALOG:"edit_dialog",EDIT_COMPOSER:"edit_composer",PAGES_FEED:"pages_feed",PAGES_PHOTO_TAB:"pages_photo_tab",PAGES_VIDEO_TAB:"pages_video_tab",PAGES_VIDEO_TAB_HUB:"pages_video_tab_hub",PAGES_VOICE_SWITCHER:"pages_voice_switcher",PAGES_COVER_VIDEO:"pages_cover_video",PAGES_PREMADE_POST_CARD:"pages_premade_post_card",PAGE_TIPS:"page_tips",AGGREGATED_LINK_STORY:"aggregated_link_story",FEED_STICKY_COMPOSER:"feed_sticky_composer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",CRISIS:"crisis",WIFI_CHECKIN:"wifi_checkin",HOVERCARD_CONICS:"hovercard_conics",AGGREGATED_STORY:"aggregated_story",YEAR_IN_REVIEW:"year_in_review",ORIGIN_STORY:"origin_story",CELEBRATE_FRIENDS:"celebrate_friends",CREATIVE_ASSISTANT:"creative_assistant",MEGAPHONE:"megaphone",MOMENTS:"moments",MEDIA_MANAGER:"media_manager",LIVE:"live",LIVE_BROADCAST:"live_broadcast",LIVE_MAP:"live_map",TOPIC_STORY_ACTION_LINK:"topic_story_action_link",OTHER:"other",PIXEL_CLOUD:"pixel_cloud",TRENDING_TOPIC:"trending_topic",UC_TOOLBAR:"uc_toolbar",PAGE_CONTENT_TAB_DRAFTS:"page_content_tab_drafts",PAGE_LAUNCH_POINT:"page_launch_point",PAGE_CONTENT_TAB_PUBLISHED_POSTS:"page_content_tab_published_posts",PAGE_CONTENT_TAB_SCHEDULED_POSTS:"page_content_tab_scheduled_posts",PAGE_CONTENT_TAB_ADS_POSTS:"page_content_tab_ads_posts",PAGE_CONTENT_TAB_VIDEO_LIBRARY:"page_content_tab_video_library",PAGE_CONTENT_ADS_ASSET_VIDEO_LIBRARY:"page_content_ads_asset_video_library",PAGE_CONTENT_TAB_CANVAS:"page_content_tab_canvas",PAGE_CONTENT_TAB_REFERENCE_LIBRARY:"page_content_tab_reference_library",PAGE_CONTENT_TAB_SEASON_DETAILS:"page_content_tab_season_details",PAGE_CONTENT_TAB_PLAYLIST_DETAILS:"page_content_tab_playlist_details",PAGE_RECOMMENDATION_ACTION_BAR:"page_recommendation_action_bar",PAGE_RECOMMENDATION_TAB:"page_recommendation_tab",PAGE_HOME_RECOMMENDATION_REACTION_CARD:"page_home_recommendation_reaction_card",REVIEW_UNIT:"review_unit",REVIEWS_LIST:"reviews_list",CHECKIN_STORY:"checkin_story",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_LEARN_PAGE:"recommendations_learn_page",RECOMMENDATIONS_POST:"recommendations_post",GROUP_RECOMMENDATIONS_TAB:"group_recommendations_tab",BULK_UPLOAD:"bulk_upload",REFERENCE_VIDEO_BULK_UPLOAD:"reference_video_bulk_upload",SAHELI:"saheli",GAMEFACE:"gameface",ANNIVERSARY_VIDEO:"anniversary_video",FRIENDS_DAY:"friends_day_2016",FRIENDVERSARY:"FRIENDVERSARY",PRIVACY_CHECKUP:"privacy_checkup",FEEDX:"feedx",GAMES_VIDEO_DESTINATION:"games_video_destination",FEED_SPROUTS:"feed_sprouts",FEED_SPROUTS_DIALOG:"feed_sprout_dialog",FEEDX_SPROUTS:"feedx_sprouts",LEGACY_FEED:"legacy_feed",REACTION:"reaction",FLASHBACK:"flashback",INSIGHTS_POST_SPONSORED_TABLE:"insights_post_sponsored_table",INSIGHTS_POST_DIRECT_BOOST:"insights_post_direct_boost",VOTER_REGISTRATION:"voter_registration",ISSUE_MODULE:"issue_module",ENDORSEMENT_MODULE:"endorsement_module",GOV_DIGEST:"gov_digest",COMPOSER_PREFILL:"composer_prefill",MTOUCH_LOCAL_SERP:"mtouch_local_serp",SEND_GIFT_POST:"send_gift_post",FUNDRAISER_PAGE:"fundraiser_page",OFFERS_COMPOSER:"offers_composer",RESHARE_DIALOG:"reshare_dialog",POLITICAL_ISSUE:"political_issue",POLITICAL_ENDORSEMENT:"political_endorsement",TRENDING_POLITICAL_ISSUE:"trending_political_issue",CONSTITUENT_INSIGHTS_CAROUSEL:"constituent_insights_carousel",DIGEST_EMAIL_TRENDING_POLITICAL_ISSUE:"digest_email_trending_political_issue",DIGEST_EMAIL_CONSTITUENT_INSIGHTS_CAROUSEL:"digest_email_constituent_insights_carousel",PROFILE_PIC_CHANGE_DIALOG:"profile_pic_change_dialog",PROFILE_VIDEO:"profile_video",PUBLISH_FRAME_DIALOG:"publish_frame_dialog",AYMT:"aymt",AYMT_HOMEPAGE_PANEL:"aymt_homepage_panel",SW_BG_SYNC:"sw_bg_sync",FEED_INSPIRATIONS:"feed_inspirations",INSPIRATIONS:"inspirations",WORK_FEED:"work_feed",DEVELOPER_SITE:"developer_site",RECENT_POSTS:"timeline/recent_posts",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_VIDEO_PLATFORM_DIALOG:"live_video_platform_dialog",LIVE_VIDEO_PRODUCER:"live_video_producer",PAGE_TRAILER:"page_trailer",CULTURAL_MOMENT_CARD:"cultural_moment_card",PAGE_POSTS_TO_PAGE:"page_posts_to_page",SHOWS_HOME_EPISODES_CARD:"shows_home_episodes_card",SHOWS_HOME_EXTRA_CLIPS_CARD:"shows_home_extra_clips_card",GOODWILL_THROWBACK_PERMALINK:"goodwill_throwback_permalink",GOODWILL_THROWBACK_PROMOTION:"goodwill_throwback_promotion",AGGREGATED_GROUP_STORY:"aggregated_group_story",MTOUCH_PRIVACY_CHECKUP:"mtouch_privacy_checkup",WEATHER_SHARE:"weather_share",SOCIAL_CANVAS:"social_canvas",PAGE_COMPOSER_EPISODE_CARD:"page_composer_episode_card",PAGE_COMPOSER_UPLOAD_VIDEO_CARD:"page_composer_upload_video_card",PAGE_ADMIN_GUIDANCE:"page_admin_gudiance",FUN_FACTS_CTA:"fun_facts_cta",FUN_FACTS_SELF_CTA:"fun_facts_self_cta",FUN_FACTS_COLLECTION:"fun_facts_collection",FUN_FACTS_SELF_PROTILE:"fun_facts_self_protile",FUN_FACTS_SELF_PROTILE_NULL:"fun_facts_self_protile_null",PAGE_ADMIN_JOURNEY:"page_admin_journey",VIDEO_COMPOSER_DIALOG:"video_composer_dialog",ADD_TO_STORY:"add_to_story",QUICK_EXPERIMENT_TOOL:"quick_experiment_tool"})}),null);
__d("ReactComposerContextTypes",["ComposerEntryPointRef","React","getObjectValues"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports={accessToken:h.string,actorID:h.string.isRequired,appID:h.string,composerID:h.string.isRequired,composerType:h.oneOf(c("getObjectValues")(c("ComposerEntryPointRef"))).isRequired,extraConfig:h.object,gks:h.object.isRequired,targetID:h.string.isRequired,jsModules:h.object,jsResources:h.object}}),null);
__d("ReactComposerFailedMediaUpload.react",["cx","fbt","React","XUIButton.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.error["transient"]?c("React").createElement(c("XUIButton.react"),{className:"_4_e",label:i._("Th\u1eed l\u1ea1i"),onClick:this.props.onRetryClick,size:"small",use:"special"}):c("React").createElement(c("XUIButton.react"),{className:"_4_f",label:i._("OK"),onClick:this.props.onDismissClick,size:"small"});return c("React").createElement("span",null,c("React").createElement("div",{ref:function(o){return this.$ReactComposerFailedMediaUpload1=o}.bind(this),className:"_4_g"},c("React").createElement(c("XUICloseButton.react"),{className:"_2n25",onClick:this.props.onRemoveClick,size:"medium",shade:"light"}),c("React").createElement("p",{className:"_4_h"},i._("L\u1ed7i")),c("React").createElement("div",{className:"_4_i"},c("React").createElement("p",{className:"_4_j"},this.props.filename)),n),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),hoverContextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),width:c("XUIContextualDialog.react").WIDTH.NORMAL,position:"right"},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.props.error.summary),c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};function m(){j.apply(this,arguments)}m.propTypes={error:l.object.isRequired,filename:l.string,onDismissClick:l.func,onRemoveClick:l.func,onRetryClick:l.func,uploadID:l.string.isRequired};f.exports=m}),null);
__d("Emscripten",[],(function a(b,c,d,e,f,g){f.exports={isSupported:function h(){return typeof Int32Array!=="undefined"&&typeof Float64Array!=="undefined"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set}}}),null);
__d("PUWErrorCodes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BAD_JPEG:9901,WORKER_TERMINATED:9902,UNKNOWN_RESIZE_ERROR:9903,WORKER_ABORT:9904})}),null);
__d("PooledWebWorker",["WebWorker"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebWorker"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this,m);this.$PooledWebWorker1=l;this.$PooledWebWorker2=k}j.prototype.getIndex=function(){"use strict";return this.$PooledWebWorker1};j.prototype.getPool=function(){"use strict";return this.$PooledWebWorker2};f.exports=j}),null);
__d("WebWorkerPool",["PooledWebWorker","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();h.isSupported=function(){"use strict";return c("PooledWebWorker").isSupported()};function h(i,j){"use strict";this.$WebWorkerPool1=[];for(var k=0;k<j;k++)this.$WebWorkerPool1.push(new(c("PooledWebWorker"))(this,k,i).setErrorHandler(this.$WebWorkerPool2).setMessageHandler(this.$WebWorkerPool3).execute());this.$WebWorkerPool4=0}h.prototype.setMessageHandler=function(i){"use strict";this.$WebWorkerPool5=i||c("emptyFunction");return this};h.prototype.setAllowCrossPageTransition=function(i){"use strict";this.$WebWorkerPool1.forEach(function(j){return j.setAllowCrossPageTransition(i)});return this};h.prototype.setErrorHandler=function(i){"use strict";this.$WebWorkerPool6=i||c("emptyFunction");return this};h.prototype.postMessage=function(){"use strict";var i=this.getWorker();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];i.postMessage.apply(i,k);return i};h.prototype.$WebWorkerPool3=function(){"use strict";for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);this.getPool().$WebWorkerPool5.apply(this.getPool(),j)};h.prototype.$WebWorkerPool2=function(){"use strict";for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);return this.getPool().$WebWorkerPool6.apply(this.getPool(),j)};h.prototype.getWorker=function(){"use strict";var i=this.$WebWorkerPool1[this.$WebWorkerPool4];this.$WebWorkerPool4=(this.$WebWorkerPool4+1)%this.$WebWorkerPool1.length;return i};f.exports=h}),null);
__d("JpegResizer",["Emscripten","JpegResizerConfig","JpegResizeWorkerResource","PUWErrorCodes","WebWorker","WebWorkerPool"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;i.isSupported=function(){"use strict";return c("WebWorkerPool").isSupported()&&c("Emscripten").isSupported()&&!c("JpegResizerConfig").isGKBlacklisted};i.getSingleton=function(j){"use strict";if(!h)h=new i(j||i.DEFAULT_POOL_SIZE).setAllowCrossPageTransition(true);return h};i.prepareResource=function(j){"use strict";c("WebWorker").prepareResource(c("JpegResizeWorkerResource"),j)};function i(j){"use strict";j=j||i.DEFAULT_POOL_SIZE;c("WebWorker").prepareResource(c("JpegResizeWorkerResource"));this.$JpegResizer1=new(c("WebWorkerPool"))(c("JpegResizeWorkerResource"),j).setErrorHandler(this.$JpegResizer2.bind(this)).setMessageHandler(this.$JpegResizer3.bind(this));this.$JpegResizer4={};this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH;this.$JpegResizer7=0;this.$JpegResizer8=85}i.prototype.setHighQuality=function(j){"use strict";if(j){this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH}else{this.$JpegResizer5=i.LOW_QUALITY_RESIZE_HEIGHT;this.$JpegResizer6=i.LOW_QUALITY_RESIZE_WIDTH}return this};i.prototype.setEncodeQuality=function(j){"use strict";this.$JpegResizer8=j;return this};i.prototype.setUndershoot=function(j){"use strict";this.$JpegResizer7=j;return this};i.prototype.setAllowCrossPageTransition=function(j){"use strict";this.$JpegResizer1.setAllowCrossPageTransition(j);return this};i.prototype.resizeBlob=function(j,k,l){"use strict";return this.$JpegResizer9(j,this.$JpegResizer6,this.$JpegResizer5,k,l)};i.prototype.resize360Blob=function(j,k,l,m){"use strict";var n=this.$JpegResizer6*3,o=this.$JpegResizer5*3;if(m){n=m;o=m}return this.$JpegResizer9(j,n,o,k,l)};i.prototype.$JpegResizer9=function(j,k,l,m,n){"use strict";__p&&__p();var o=this.$JpegResizer1.getWorker();if(o.isCurrentState("terminated")){var p=new Error("Worker terminated");p.code=c("PUWErrorCodes").WORKER_TERMINATED;m(p);return this}var q=o.postMessage({blob:j,height:l,width:k,quality:this.$JpegResizer8,undershoot:this.$JpegResizer7}).getIndex();this.$JpegResizer10(q).unshift({done:m,progress:n});return this};i.prototype.$JpegResizer10=function(j){"use strict";if(!Object.prototype.hasOwnProperty.call(this.$JpegResizer4,j))this.$JpegResizer4[j]=[];return this.$JpegResizer4[j]};i.prototype.$JpegResizer2=function(j,k){"use strict";j.terminate();var l=this.$JpegResizer10(j.getIndex());this.$JpegResizer11(k);l.forEach(function(m){return m.done(k)});l.length=0};i.prototype.$JpegResizer3=function(j,k){"use strict";if(k.error)this.$JpegResizer11(k.error);if(k.done)this.$JpegResizer10(j.getIndex()).pop().done(k.error,k.blob,k.skipped,k.originalWidth,k.originalHeight);else{var l=this.$JpegResizer10(j.getIndex()),m=l[l.length-1].progress;if(m)m({written:k.written,total:k.total})}};i.prototype.$JpegResizer11=function(j){"use strict";var k=j.message;if(k&&k.indexOf("Not a JPEG file")!==-1)j.code=c("PUWErrorCodes").BAD_JPEG;else if(k&&k.indexOf("abort()")!==-1)j.code=c("PUWErrorCodes").WORKER_ABORT;else j.code=c("PUWErrorCodes").UNKNOWN_RESIZE_ERROR};i.DEFAULT_POOL_SIZE=3;i.DEFAULT_RESIZE_HEIGHT=2048;i.DEFAULT_RESIZE_WIDTH=2048;i.LOW_QUALITY_RESIZE_HEIGHT=960;i.LOW_QUALITY_RESIZE_WIDTH=960;f.exports=i}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"})}),null);
__d("ComposerSharingSpacesEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_SPACES_SHARESHEET_NEXT:"COMPOSER_SPACES_SHARESHEET_NEXT",COMPOSER_SPACES_SHARESHEET_BACK:"COMPOSER_SPACES_SHARESHEET_BACK",COMPOSER_SPACES_SHARESHEET_POST:"COMPOSER_SPACES_SHARESHEET_POST",COMPOSER_SPACES_SPACE:"COMPOSER_SELECT_SPACE",COMPOSER_SELECT_SPACE_CHOOSE:"COMPOSER_SELECT_SPACE_CHOOSE",COMPOSER_SELECT_SPACE_NEW:"COMPOSER_SELECT_SPACE_NEW",COMPOSER_SELECT_SPACE_NEW_CLICK:"COMPOSER_SELECT_SPACE_NEW_CLICK",COMPOSER_SELECT_SPACE_LOADED:"COMPOSER_SELECT_SPACE_LOADED",COMPOSER_SELECT_TIMELINE_CHOOSE:"COMPOSER_SELECT_TIMELINE_CHOOSE"})}),null);
__d("ExtensibleSproutsItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACHIEVEMENT:"ACHIEVEMENT",AIRBENDER_AVATAR:"AIRBENDER_AVATAR",ANIMATED_EFFECTS:"ANIMATED_EFFECTS",APP_INTEGRATION_AODOCS:"APP_INTEGRATION_AODOCS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_CORNERSTONE:"APP_INTEGRATION_CORNERSTONE",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_EGNYTE:"APP_INTEGRATION_EGNYTE",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_JIRA:"APP_INTEGRATION_JIRA",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",APP_INTEGRATION_SHAREPOINT:"APP_INTEGRATION_SHAREPOINT",APP_INTEGRATIONS_MENU:"APP_INTEGRATIONS_MENU",AUDIO:"AUDIO",BACKDATE:"BACKDATE",BIRTHDAY_CAMERA:"BIRTHDAY_CAMERA",BIRTHDAY_STICKER:"BIRTHDAY_STICKER",BREAKING_NEWS:"BREAKING_NEWS",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",EVENTS:"EVENTS",FACECAST:"FACECAST",FILE:"FILE",FIND_PLAYERS:"FIND_PLAYERS",FUN_FACT:"FUN_FACT",FUNDRAISER:"FUNDRAISER",GET_BOOKINGS:"GET_BOOKINGS",GET_DIRECTIONS:"GET_DIRECTIONS",GET_MESSAGES:"GET_MESSAGES",GET_TICKET:"GET_TICKET",GET_PHONE_CALLS:"GET_PHONE_CALLS",GIF:"GIF",GROUP_MEET_UP:"GROUP_MEET_UP",INSPIRATION_CAMERA:"INSPIRATION_CAMERA",LIFE_EVENT:"LIFE_EVENT",LIST:"LIST",LIVING_ROOM:"LIVING_ROOM",LOCAL_ALERTS:"LOCAL_ALERTS",LOCATION:"LOCATION",MARKDOWN:"MARKDOWN",MEDIA:"MEDIA",MULTIMEDIA:"MULTIMEDIA",MILESTONE:"MILESTONE",MINUTIAE:"MINUTIAE",MOVIES:"MOVIES",NOTE:"NOTE",ORDER_FOOD:"ORDER_FOOD",PAGE_OFFER:"PAGE_OFFER",PAGE_RECOMMENDATIONS_ADD_TAGS:"PAGE_RECOMMENDATIONS_ADD_TAGS",PAGE_SELL:"PAGE_SELL",PHOTO:"PHOTO",PLANETARIUM:"PLANETARIUM",PLAY_WITH_FRIENDS:"PLAY_WITH_FRIENDS",PUBLISH_JOB_POST:"PUBLISH_JOB_POST",Q_AND_A:"Q_AND_A",RECOMMENDATION:"RECOMMENDATION",SEND_GIFT:"SEND_GIFT",SALES_PROMO:"SALES_PROMO",SELL:"SELL",SPONSOR_TAG:"SPONSOR_TAG",SPOTIFY_SHARE:"SPOTIFY_SHARE",STICKER:"STICKER",SUGGESTED_PHOTO:"SUGGESTED_PHOTO",SUGGESTED_PHOTO_CAPTION:"SUGGESTED_PHOTO_CAPTION",TAG_EVENT:"TAG_EVENT",TAG_EVENT_TICKET:"TAG_EVENT_TICKET",TAG_PRODUCT:"TAG_PRODUCT",TEXT_BACKGROUND:"TEXT_BACKGROUND",THREESIXTY_CAPTURE:"THREESIXTY_CAPTURE",THREE_D_PHOTO:"THREE_D_PHOTO",TRANSLITERATION:"TRANSLITERATION",VIDEO:"VIDEO",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",VISUAL_POLLS:"VISUAL_POLLS",WITH_TAG:"WITH_TAG",WRITE_POST:"WRITE_POST",DISCUSSION:"DISCUSSION",MORE:"MORE",SELL_MULTIPLE_ITEMS:"SELL_MULTIPLE_ITEMS"})}),null);
__d("ExtensibleSproutsLayoutStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPANDED_DEFAULT:"expanded_default",COLLAPSED:"collapsed",FULL_SCREEN:"full_screen",EXPANDED:"expanded"})}),null);
__d("PUWApplications",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WEB_SIMPLE:"web_simple",WEB_FLASH:"web_flash",WEB_HTML5:"web_html5",WEB_COMPOSER:"web_composer",WEB_ARCHIVE:"web_archive",WEB_MESSENGER:"web_messenger",WEB_OMNIPICKER:"web_omnipicker",WEB_MUSE_OMNIPICKER:"web_muse_omnipicker",WEB_SAY_THANKS:"web_say_thanks",WEB_GOODWILL_CAMPAIGN_OMNIPICKER:"web_goodwill_campaign_omnipicker",WEB_PRODUCT_PHOTO_OMNIPICKER:"web_product_photo_omnipicker",WEB_PAGES_MESSENGER:"web_pages_messenger",WEB_M_ZERO:"web_m_zero",WEB_M_BASIC:"web_m_basic",WEB_M_TOUCH:"web_m_touch",WEB_REACT_COMPOSER:"web_react_composer",MOBILE_FB4IOS:"mobile_fb4ios",MOBILE_FB4IOS_SNAP:"mobile_fb4ios_snap",MOBILE_FB4A:"mobile_fb4a",MOBILE_PMA_ANDROID:"mobile_pma_android",MOBILE_PMA_IOS:"mobile_pma_ios",THIRD_PARTY:"third_party"})}),null);
__d("PUWSteps",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_FLOW_BEGIN:"client_flow_begin",CLIENT_SELECT_BEGIN:"client_select_begin",CLIENT_SELECT_SUCCESS:"client_select_success",CLIENT_SELECT_CANCEL:"client_select_cancel",CLIENT_SELECT_FAIL:"client_select_fail",CLIENT_FLOW_POST:"client_flow_post",CLIENT_TRANSFER_BATCH_BEGIN:"client_transfer_batch_begin",CLIENT_UPLOAD_BEGIN:"client_upload_begin",CLIENT_ATTACH_PHOTO:"client_attach_photo",CLIENT_PROCESS_BEGIN:"client_process_begin",CLIENT_PROCESS_SUCCESS:"client_process_success",CLIENT_PROCESS_CANCEL:"client_process_cancel",CLIENT_PROCESS_SKIP:"client_process_skip",CLIENT_PROCESS_FAIL:"client_process_fail",CLIENT_PROCESS_UNAVAILABLE:"client_process_unavailable",CLIENT_SPHERICAL_CHECK_SUCCESS:"client_spherical_check_success",CLIENT_SPHERICAL_CHECK_FAIL:"client_spherical_check_fail",CLIENT_TRANSFER_ENQUEUE:"client_transfer_enqueue",CLIENT_TRANSFER_BEGIN:"client_transfer_begin",CLIENT_TRANSFER_SUCCESS:"client_transfer_success",CLIENT_TRANSFER_CANCEL:"client_transfer_cancel",CLIENT_TRANSFER_FAIL:"client_transfer_fail",CLIENT_TRANSFER_MANUAL_RETRY:"client_transfer_manual_retry",CLIENT_UPLOAD_SUCCESS:"client_upload_success",CLIENT_UPLOAD_FAIL:"client_upload_fail",CLIENT_UPLOAD_CANCEL:"client_upload_cancel",CLIENT_UPLOAD_REMOVE:"client_upload_remove",CLIENT_FACEREC_BEGIN:"client_facerec_begin",CLIENT_FACEREC_SUCCESS:"client_facerec_success",CLIENT_FACEREC_FAIL:"client_facerec_fail",CLIENT_PHOTO_PREVIEW_OPEN:"client_photo_preview_open",CLIENT_PHOTO_PREVIEW_CLOSE:"client_photo_preview_close",CLIENT_TRANSFER_BATCH_SUCCESS:"client_transfer_batch_success",CLIENT_TRANSFER_BATCH_CANCEL:"client_transfer_batch_cancel",CLIENT_TRANSFER_BATCH_FAIL:"client_transfer_batch_fail",CLIENT_PUBLISH_ENQUEUE:"client_publish_enqueue",CLIENT_PUBLISH_BEGIN:"client_publish_begin",CLIENT_PUBLISH_SUCCESS:"client_publish_success",CLIENT_PUBLISH_FAIL:"client_publish_fail",CLIENT_ATTEMPT_FAIL:"client_attempt_fail",CLIENT_FLOW_SUCCESS:"client_flow_success",CLIENT_FLOW_FATAL:"client_flow_fatal",CLIENT_FLOW_GIVEUP:"client_flow_giveup",CLIENT_FLOW_CANCEL:"client_flow_cancel",CLIENT_FLOW_FAIL:"client_flow_fail",CLIENT_FLOW_INCOMPLETE:"client_flow_incomplete",CLIENT_ATTEMPT_INCOMPLETE:"client_attempt_incomplete",CLIENT_FLOW_RETRY:"client_flow_retry",CLIENT_ATTEMPT_RETRY:"client_attempt_retry",CLIENT_DIAGNOSTIC:"client_diagnostic",CLIENT_QUALITY_SWITCH:"client_quality_switch",CLIENT_CANCEL_SURVEY:"client_cancel_survey",CLIENT_PHOTO_EDIT_BEGIN:"client_photo_edit_begin",CLIENT_PHOTO_EDIT_SUCCESS:"client_photo_edit_success",SERVER_UPLOAD_BEGIN:"server_upload_begin",SERVER_UPLOAD_SUCCESS:"server_upload_success",SERVER_UPLOAD_FAIL:"server_upload_fail",SERVER_PUBLISH_BEGIN:"server_publish_begin",SERVER_PUBLISH_SUCCESS:"server_publish_success",SERVER_PUBLISH_FAIL:"server_publish_fail",SERVER_RECEIVER_BEGIN:"server_receiver_begin",SERVER_RECEIVER_PUBLISH_BEGIN:"server_receiver_publish_begin",SERVER_SENTRY_RESTRICTION:"server_sentry_restriction"})}),null);
__d("PhotosUploadWaterfallXMixin",["invariant","AsyncSignal","Banzai","PhotosUploadWaterfallXConfig","randomInt"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=new Map();function j(l,m){var n={};l.client_time=Math.round(Date.now()/1e3);if(c("PhotosUploadWaterfallXConfig").retryBanzai){n.retry=true;l.nonce=c("randomInt")(4294967296)}c("Banzai").post(c("PhotosUploadWaterfallXConfig").banzaiRoute,l,n);if(m)setTimeout(m,0)}function k(l,m){if(c("PhotosUploadWaterfallXConfig").useBanzai)j(l,m);else{var n=new(c("AsyncSignal"))(c("PhotosUploadWaterfallXConfig").loggingEndpoint,{data:JSON.stringify(l)}).setHandler(m);if(c("PhotosUploadWaterfallXConfig").timeout)n.setTimeout(10*1e3);n.send()}}f.exports={logStep:function l(m,n,o){var p=this.getWaterfallID&&this.getWaterfallID(),q=this.getWaterfallAppName&&this.getWaterfallAppName();if(!p||!q)return;k(babelHelpers["extends"]({step:m,qn:p,uploader:q,ref:this.getWaterfallSource&&this.getWaterfallSource()},n),o)},logPUWStep:function l(m,n,o,p,q,r,s){if(r&&r.logOncePerSession){if(!i.has(n))i.set(n,new Set());if(i.get(n).has(m))return;i.get(n).add(m)}k(Object.assign({step:m,qn:n,uploader:o,ref:p},q),s)}}}),null);
__d("ReactComposerAlbumActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({CREATE_ALBUM_CLICKED:null},"ReactComposerAlbumActionType")}),null);
__d("ReactComposerAudienceActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null,SET_COLLECTION:null,SET_TIMELINE_DESTINATION:null,TOGGLE_TIMELINE_DESTINATION:null,SET_STORIES_DESTINATION:null,TOGGLE_STORIES_DESTINATION:null},"ReactComposerAudienceActionTypes")}),null);
__d("ReactComposerActionStore",["Arbiter","AsyncResponse","ReactComposerActionTypes","ReactComposerEvents","ReactComposerStoreBase","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=void 0;c("requireWeak")("ReactComposerStatusStore",function(l){return j=l});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(l,m){"use strict";__p&&__p();l=l?l:function(){return null};var n=void 0;i.constructor.call(this,l,function(o){__p&&__p();if(!(n&&n.__shouldIgnoreAction(o)))switch(o.type){case c("ReactComposerActionTypes").POST_STARTED:n&&n.$ReactComposerActionStore2(o);break;case c("ReactComposerActionTypes").POST_INTENDED:n&&n.$ReactComposerActionStore3(o);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:n&&n.$ReactComposerActionStore4(o);break;case c("ReactComposerActionTypes").POST_ERROR:n&&n.$ReactComposerActionStore5(o);break;case c("ReactComposerActionTypes").POST_FINALLY:n&&n.$ReactComposerActionStore6(o);break;case c("ReactComposerActionTypes").POST_PREPROCESSING:n&&n.$ReactComposerActionStore7(o);break;default:}m&&m(o)});n=this;this.$ReactComposerActionStore1=new Set()}k.prototype.registerComposerID=function(l){"use strict";this.$ReactComposerActionStore1.add(l)};k.prototype.$ReactComposerActionStore2=function(l){"use strict";var m=this.validateAction(l,"composerID");this.__onPostStarted&&this.__onPostStarted(l);c("Arbiter").inform(c("ReactComposerEvents").POST_STARTED+m)};k.prototype.$ReactComposerActionStore3=function(l){"use strict";this.validateAction(l,["composerID","actorID","config","targetID"]);if(!this.__canPost||this.__canPost(l))this.$ReactComposerActionStore2(l)};k.prototype.$ReactComposerActionStore4=function(l){"use strict";var m=this.validateAction(l,"composerID");if(j)var n=j.getMessage(m);this.__onPostSucceeded&&this.__onPostSucceeded(l);c("Arbiter").inform(c("ReactComposerEvents").POST_SUCCEEDED+m)};k.prototype.$ReactComposerActionStore5=function(l){"use strict";if(this.__onPostError)return this.__onPostError(l);if(l.response)c("AsyncResponse").defaultErrorHandler(l.response)};k.prototype.$ReactComposerActionStore6=function(l){"use strict";this.__onPostFinally&&this.__onPostFinally(l);c("Arbiter").inform(c("ReactComposerEvents").POST_FINALLY)};k.prototype.$ReactComposerActionStore7=function(l){"use strict";this.__onPostPreprocessing&&this.__onPostPreprocessing(l)};k.prototype.__shouldIgnoreAction=function(l){"use strict";var m=this.validateAction(l,"composerID");return!this.$ReactComposerActionStore1.has(m)};f.exports=k}),null);
__d("ReactComposerAudienceStore",["csx","invariant","DOM","ReactComposerActionStore","ReactComposerAudienceActionTypes","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("ReactComposerActionStore"));k=j&&j.prototype;function l(){"use strict";__p&&__p();var m=void 0;k.constructor.call(this,function(){return{audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false,collectionID:null,privacyLabel:null,timelineSelected:true,storiesSelected:false}},function(n){__p&&__p();switch(n.type){case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:m&&m.$ReactComposerAudienceStore5(n);break;case c("ReactComposerAudienceActionTypes").SET_TIMELINE_DESTINATION:m&&m.$ReactComposerAudienceStore6(n);break;case c("ReactComposerAudienceActionTypes").TOGGLE_TIMELINE_DESTINATION:m&&m.$ReactComposerAudienceStore7(n);break;case c("ReactComposerAudienceActionTypes").SET_STORIES_DESTINATION:m&&m.$ReactComposerAudienceStore8(n);break;case c("ReactComposerAudienceActionTypes").TOGGLE_STORIES_DESTINATION:m&&m.$ReactComposerAudienceStore9(n);break}});m=this}l.prototype.getAudience=function(m){"use strict";__p&&__p();if(this.getPrivacyxNullDangerous(m))return null;try{var n=c("DOM").scry(c("$")(m),"._5dd8");n.length<2||i(0);var o=n[0];if(o){var p=c("DOM").scry(o,'input[name="privacyx"]');p.length<2||i(0);if(p.length===1)return p[0].value}}catch(q){}return this.getComposerData(m).audience};l.prototype.getLegacyAudience=function(m){"use strict";return this.getComposerData(m).legacyAudience};l.prototype.getAudienceElement=function(m){"use strict";return this.getComposerData(m).audienceElement};l.prototype.getAudienceInstance=function(m){"use strict";return this.getComposerData(m).audienceInstance};l.prototype.getPrivacyxNullDangerous=function(m){"use strict";return this.getComposerData(m).privacyxNullDangerous};l.prototype.getCollectionID=function(m){"use strict";return this.getComposerData(m).collectionID};l.prototype.getPrivacyLabel=function(m){"use strict";return this.getComposerData(m).privacyLabel};l.prototype.getTimelineSelected=function(m){"use strict";return this.getComposerData(m).timelineSelected};l.prototype.getStoriesSelected=function(m){"use strict";return this.getComposerData(m).storiesSelected};l.prototype.$ReactComposerAudienceStore1=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore2=function(m){"use strict";var n=this.validateAction(m,["composerID","audienceElement"]),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore3=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore4=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore5=function(m){"use strict";var n=this.validateAction(m,["composerID","collectionID"]),o=n[0],p=n[1],q=this.getComposerData(o);q.collectionID=p;q.privacyLabel=m.privacyLabel;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore6=function(m){"use strict";var n=this.validateAction(m,["composerID","timelineSelected"]),o=n[0],p=n[1],q=this.getComposerData(o);q.timelineSelected=p;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore7=function(m){"use strict";var n=this.validateAction(m,["composerID"]),o=this.getComposerData(n);o.timelineSelected=!o.timelineSelected;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore8=function(m){"use strict";var n=this.validateAction(m,["composerID","storiesSelected"]),o=n[0],p=n[1],q=this.getComposerData(o);q.storiesSelected=p;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore9=function(m){"use strict";var n=this.validateAction(m,["composerID"]),o=this.getComposerData(n);o.storiesSelected=!o.storiesSelected;this.emitChange(n)};f.exports=new l()}),null);
__d("ReactComposerCollectionsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SHOW_COLLECTION_SELECTOR:null,HIDE_COLLECTION_SELECTOR:null,SHOW_CREATION_LAYER:null,HIDE_CREATION_LAYER:null,SHOW_SHARING_SPACE_CREATION_LAYER:null,HIDE_SHARING_SPACE_CREATION_LAYER:null,SPACE_SELECTOR_LOADED:null},"ReactComposerCollectionsActionTypes")}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT:"event",FILE:"file",ISSUE_TAG:"issue_tag",LINK:"link",MENTION_TAG:"mention_tag",MILESTONE:"milestone",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",TEXT:"text",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",MESSAGING:"messaging",ALBUM:"album",BREAKING_NEWS:"breaking_news",ASSET_3D:"ASSET_3D",LOCAL_ALERTS:"local_alerts"})}),null);
__d("ReactComposerPerfLogger",["ComposerType","ComposerXSessionIDs","MarauderLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=c("ComposerType").STATUS,j={logEvent:function k(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c("ComposerXSessionIDs").getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true}var q=babelHelpers["extends"]({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c("MarauderLogger").log(l,"composer",q,undefined,undefined,p)},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}}},getInstance:function k(l){return h[l]}};f.exports=j}),null);
__d("ReactComposerSproutsDisplayState",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({INLINE:null,EXPANDED:null},"ReactComposerSproutsDisplayState")}),null);
__d("ReactComposerStore",["Bootloader","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerInit","ReactComposerScrapedAttachmentActionType","ReactComposerSproutsDisplayState","UserScheduledPostsTypedLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerActionStore"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isActive:false,orderedSprouts:[],serverErrorResponse:null,posting:false,postSucceeded:false,publishing:false,rankerRequestID:null,sproutSurface:null,ref:null,targetType:null,sproutsDisplayState:c("ReactComposerSproutsDisplayState").INLINE,scheduledPublishTime:null,hasLoggedSproutPromotionView:false,hasFinishedSproutPromotion:false,shouldShowVoiceSwitcherNux:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerActionTypes").INIT_CONFIG:k&&k.$ReactComposerStore1(l);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:k&&k.$ReactComposerStore2(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerStore3(l);break;case c("ReactComposerActionTypes").EXPAND_SPROUTS:k&&k.$ReactComposerStore4(l);break;case c("ReactComposerActionTypes").COLLAPSE_SPROUTS:k&&k.$ReactComposerStore5(l);break;case c("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT:case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerStore6(l);break;case c("ReactComposerActionTypes").SCHEDULE:k&&k.$ReactComposerStore7(l);break;case c("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW:k&&k.$ReactComposerStore8(l);break;case c("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION:k&&k.$ReactComposerStore9(l);break;case c("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION:k&&k.$ReactComposerStore10(l);break;case c("ReactComposerActionTypes").SET_SHOULD_SHOW_VOICE_SWITCHER_NUX:k&&k.$ReactComposerStore11(l);break}});k=this}j.prototype.$ReactComposerStore7=function(k){"use strict";if(this.getRef(k.composerID)==="timeline"&&this.getTargetType(k.composerID)==="feed")new(c("UserScheduledPostsTypedLogger"))().setAction("scheduled_post_submit").log();var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduleDate};j.prototype.getScheduledPublishTime=function(k){"use strict";return this.getComposerData(k).scheduledPublishTime};j.prototype.getServerErrorResponse=function(k){"use strict";return this.getComposerData(k).serverErrorResponse};j.prototype.getRef=function(k){"use strict";return this.getComposerData(k).ref};j.prototype.getTargetType=function(k){"use strict";return this.getComposerData(k).targetType};j.prototype.getOrderedSprouts=function(k){"use strict";return this.getComposerData(k).orderedSprouts};j.prototype.getRankerRequestID=function(k){"use strict";return this.getComposerData(k).rankerRequestID};j.prototype.isPosting=function(k){"use strict";return this.getComposerData(k).posting};j.prototype.hasPostSucceeded=function(k){"use strict";return this.getComposerData(k).postSucceeded};j.prototype.isActive=function(k){"use strict";return this.getComposerData(k).isActive};j.prototype.isPublishing=function(k){"use strict";return this.getComposerData(k).publishing};j.prototype.getSproutsDisplayState=function(k){"use strict";return this.getComposerData(k).sproutsDisplayState};j.prototype.getSproutSurface=function(k){"use strict";var l=this.getComposerData(k);return l.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE?l.inlineSproutSurface:l.sproutSurface};j.prototype.hasLoggedSproutPromotionView=function(k){"use strict";return this.getComposerData(k).hasLoggedSproutPromotionView};j.prototype.hasFinishedSproutPromotion=function(k){"use strict";return this.getComposerData(k).hasFinishedSproutPromotion};j.prototype.getClearSproutPromotionOnNewComposer=function(k){"use strict";return this.getComposerData(k).clearSproutPromotionOnNewComposer};j.prototype.isUploading=function(k){"use strict";return this.getComposerData(k).uploading};j.prototype.shouldShowVoiceSwitcherNux=function(k){"use strict";return this.getComposerData(k).shouldShowVoiceSwitcherNux};j.prototype.__shouldIgnoreAction=function(k){"use strict";return false};j.prototype.__onPostStarted=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.posting=true;this.emitChange(l)};j.prototype.__onPostPreprocessing=function(k){"use strict";this.__onPostStarted(k)};j.prototype.__onPostSucceeded=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.serverErrorResponse=null;m.posting=false;m.postSucceeded=true;m.publishing=false;this.emitChange(l)};j.prototype.__onPostError=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.serverErrorResponse=k.response;m.posting=false;m.postSucceeded=false;m.publishing=false;this.emitChange(l)};j.prototype.__onPostFinally=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.posting=false;m.publishing=false;this.emitChange(l)};j.prototype.$ReactComposerStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","loggingConfig","activateOnInit"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.ref=n.ref;p.composerVersion=n.composerVersion;p.targetType=n.targetType;p.rankerRequestID=n.rankerRequestID||null;p.sproutSurface=n.sproutSurface||null;p.inlineSproutSurface=n.inlineSproutSurface||null;p.lazySproutsExpand=k.lazySproutsExpand||false;p.orderedSprouts=[];var q=k.sproutsConfig,r=k.promotedSprout;if(q){if(r)p.orderedSprouts.push(r);for(var s in q)if(q[s].enabled&&s!==r)p.orderedSprouts.push(s)}if(o){this.$ReactComposerStore12(m);this.emitChange(m)}};j.prototype.$ReactComposerStore8=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.hasLoggedSproutPromotionView=true;this.emitChange(l)};j.prototype.$ReactComposerStore9=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.hasFinishedSproutPromotion=true;m.clearSproutPromotionOnNewComposer=true;this.emitChange(l)};j.prototype.$ReactComposerStore10=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.clearSproutPromotionOnNewComposer=true;this.emitChange(l)};j.prototype.$ReactComposerStore11=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.shouldShowVoiceSwitcherNux=k.value;this.emitChange(l)};j.prototype.$ReactComposerStore2=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.publishing=true;this.emitChange(l)};j.prototype.$ReactComposerStore6=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(k.composerID);m.uploading=k.uploading;this.emitChange(l)};j.prototype.$ReactComposerStore3=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);if(!m.lazySproutsExpand)m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED;this.$ReactComposerStore12(l);this.emitChange(l)};j.prototype.$ReactComposerStore4=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").EXPANDED;this.emitChange(l)};j.prototype.$ReactComposerStore5=function(k){"use strict";var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.sproutsDisplayState=c("ReactComposerSproutsDisplayState").INLINE;this.emitChange(l)};j.prototype.$ReactComposerStore12=function(k){"use strict";var l=this.getComposerData(k);if(!l.isActive){l.isActive=true;c("Bootloader").loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(m,n,o,p){return n.onBeforeUnload(m(o.handler,k,p.getNextURI()))},"ReactComposerStore")}};j.prototype.__cleanup=function(k){"use strict";setTimeout(c("ReactComposerInit").resetComposer.bind(null,k.composerID),0)};f.exports=new j()}),null);
__d("ReactComposerConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ID_PREFIX:"rc.",GK_VIDEO_COPYRIGHT:"video_copyright_confirmation_dialog",GK_MULTILINGUAL_COMPOSER:"multilingual_composer_www",GK_PAGE_BREAKING_COMPOSER:"breaking_news_page"})}),null);
__d("ReactComposerIDGenerator",["ReactComposerConstants","uniqueID"],(function a(b,c,d,e,f,g){"use strict";var h={getID:function i(){return c("ReactComposerConstants").ID_PREFIX+c("uniqueID")()},isComposerID:function i(j){return!!j&&j.startsWith(c("ReactComposerConstants").ID_PREFIX)}};f.exports=h}),null);
__d("ReactComposerInit",["invariant","Arbiter","React","ReactComposerEvents","ReactComposerStore","ReactComposerIDGenerator","ReactDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={_isUnmounting:false,instances:new Map(),changeProps:function j(k,l){var m=i._getCurrentInstance(k);m.props=l;i.resetComposer(k,true)},normalizeComposerID:function j(k){if(!k.contextConfig.composerID)k.contextConfig.composerID=c("ReactComposerIDGenerator").getID();return k.contextConfig.composerID},init:function j(k,l,m){var n=i.normalizeComposerID(l),o={ComposerModule:k,props:l,container:m,hidden:false};this._render(o);i.instances.set(n,o);c("Arbiter").inform(c("ReactComposerEvents").INSTANCE_MOUNTED+n)},_render:function j(k){var l=k.ComposerModule,m=k.props,n=k.container;c("ReactDOM").render(c("React").createElement(l,m),n)},_createNewComposer:function j(k,l){if(k.props.config.sproutsPromotionConfig&&k.props.config.sproutsPromotionConfig.promotionID)if(c("ReactComposerStore").getClearSproutPromotionOnNewComposer(k.props.contextConfig.composerID))k.props.config.sproutsPromotionConfig={};k.props.contextConfig.composerID=c("ReactComposerIDGenerator").getID();k.props.prefillConfig={};i.init(k.ComposerModule,k.props,l)},resetComposer:function j(k){var l=i._getCurrentInstance(k);i.unmountInstance(k);if(l.hidden)l.container.parentNode&&l.container.parentNode.removeChild(l.container);else i._createNewComposer(l,l.container);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID})},hideComposer:function j(k){var l=i._getCurrentInstance(k);l.container.style.display="none";l.hidden=true},showComposer:function j(k){var l=i._getCurrentInstance(k);l.container.style.display="block";l.hidden=false},hideAndReplaceComposer:function j(k){var l=i._getCurrentInstance(k),m=l.container.cloneNode(false);l.container.removeAttribute("id");l.container.parentNode&&l.container.parentNode.appendChild(m);this.hideComposer(k);i._createNewComposer(l,m);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_RESET+k,{newComposerID:l.props.contextConfig.composerID})},isInstanceMounted:function j(k){return!!i.instances.get(k)},unmountInstance:function j(k){if(i.isInstanceMounted(k)&&!i._isUnmounting){i._isUnmounting=true;i._unmountReact(k);i._isUnmounting=false;i.instances["delete"](k)}},_unmountReact:function j(k){var l=i._getCurrentInstance(k);c("ReactDOM").unmountComponentAtNode(l.container);c("Arbiter").inform(c("ReactComposerEvents").COMPOSER_UNMOUNT+k);return l},_getCurrentInstance:function j(k){var l=i.instances.get(k);l||h(0);return l}};f.exports=i}),null);
__d("SATPPresetCollection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA:"CAMERA",COMMENTS:"COMMENTS",COMPOSER_TOP:"COMPOSER_TOP",COMPOSER_DEFAULT:"COMPOSER_DEFAULTS",COMPOSER_ALL:"COMPOSER_ALL",LISTS:"LISTS",AVATARS:"AVATARS"})}),null);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerEntryPointRef","ComposerPerfEvent","ComposerWaterfallEvent","ComposerXMarauderLogger","ComposerXSessionIDs","FacerecWaterfallEvent","immutable","PhotosUploadWaterfallXMixin","PhotoUploadFacerecWaterfallTypedLogger","PUWApplications","PUWMethods","PUWSteps","ReactComposerActionTypes","ReactComposerAlbumActionType","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ComposerSharingSpacesEvent","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactComposerSproutsDisplayState","ExtensibleSproutsItemType","ExtensibleSproutsLayoutStateType","SATPPresetCollection","classWithMixins","ifRequired","mixin","nullthrows","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("classWithMixins")(c("ReactComposerStoreBase"),c("mixin")(c("PhotosUploadWaterfallXMixin"))));j=i&&i.prototype;function k(){var l=void 0;j.constructor.call(this,function(){return{activated:false,perfTimes:{},sessionID:null,uniqueEvents:c("immutable").Map([[c("PUWSteps").CLIENT_PUBLISH_SUCCESS,false],[c("PUWSteps").CLIENT_FLOW_SUCCESS,false]])}},function(m){l&&l.handler(m)});l=this}k.prototype.handler=function(l){__p&&__p();if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c("ReactComposerAlbumActionType").CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore38(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore39(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore40(l);break;case c("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore41(l);break;case c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore42(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore43(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore44(l);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore45(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore46(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:case c("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:this.$ReactComposerLoggingStore47(l);break;case c("ReactComposerCollectionsActionTypes").SPACE_SELECTOR_LOADED:this.$ReactComposerLoggingStore48(l);break;case c("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED:this.$ReactComposerLoggingStore49(l);break;default:}};k.prototype.getSessionID=function(l){return c("ComposerXSessionIDs").getSessionID(l)};k.prototype.isActivated=function(l){return this.getComposerData(l).activated};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c("ReactComposerLoggingQueue").getLength()>0)this.$ReactComposerLoggingStore50()};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}})};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore52(n,o,p)};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore53(n,o,p)};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore54(n,o,p)};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,"composerID");if(c("ReactComposerAttachmentStore").isSelectedAttachmentActive(m))this.$ReactComposerLoggingStore2(l);if(l.loggingName&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),l.loggingName)){var n=this.validateAction(l,"sproutSurface");this.$ReactComposerLoggingStore52(m,l.loggingName,l.loggingName,n)}};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootloadDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootstrapDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").ALBUM_INTENT)};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MEDIA,o);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").MEDIA_INTENT);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN)};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ExtensibleSproutsItemType").MEDIA,o)};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_ADD);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_BEGIN,o)};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_PROCESS_FAIL,o)};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_FAIL,o)};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PROCESS_UNAVAILABLE)};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,["composerID","fileUpload"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size})};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,["composerID","fileUpload","timeToUpload"]),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))q=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width})};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,["composerID","fileUpload","error","timeToUpload"]),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))r=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore51(n,c("ComposerWaterfallEvent").PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width})};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA);this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_CANCEL)};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_ADD)};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").VIDEO_REMOVE);this.$ReactComposerLoggingStore57(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore53(n,q,p)};k.prototype.$ReactComposerLoggingStore24=function(l){__p&&__p();var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1],p=c("ReactComposerTaggerStore").getSelectedTagger(n),event=null;switch(p){case c("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").WITH_TAG,o);event=c("ComposerWaterfallEvent").FRIEND_TAG_INTENT;break;case c("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").LOCATION,o);event=c("ComposerWaterfallEvent").LOCATION_INTENT;break;case c("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore52(n,c("ExtensibleSproutsItemType").MINUTIAE,o);event=c("ComposerWaterfallEvent").MINUTIAE_INTENT;break;case c("ReactComposerTaggerType").MARKDOWN:event=c("ComposerWaterfallEvent").MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore58(p);if(q)this.$ReactComposerLoggingStore52(n,q,o);break}if(event===null)return;this.$ReactComposerLoggingStore51(n,event)};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore58(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore57(n,q,p)};k.prototype.$ReactComposerLoggingStore26=function(l){__p&&__p();var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.perfTimes.postStartTime=c("performanceAbsoluteNow")();this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST);if(this.$ReactComposerLoggingStore59(m)){this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore60(m));c("ReactComposerPhotoStore").getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log()})})}this.$ReactComposerLoggingStore61(m,"post")};k.prototype.$ReactComposerLoggingStore27=function(l){__p&&__p();var m,n=this,o=this.validateAction(l,"composerID"),p=this.getComposerData(o);this.$ReactComposerLoggingStore51(o,c("ComposerWaterfallEvent").COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore55(o,c("ComposerPerfEvent").CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(o),duration:c("performanceAbsoluteNow")()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(o)){var q=this.$ReactComposerLoggingStore60(o);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore56(o,c("PUWSteps").CLIENT_FLOW_SUCCESS);var r=c("ReactComposerPhotoStore").getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++});if(s>0)c("Bootloader").loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||"",surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s})}.bind(n),"ReactComposerLoggingStore")})()}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore55(m,c("ComposerPerfEvent").CLIENT_POST_FAILED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),duration:c("performanceAbsoluteNow")()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore59(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore60(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PUBLISH_FAIL,p)}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,["composerID","numPhotos","method"]),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c("PUWMethods").FILE_SELECTOR)this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore56(n,c("PUWSteps").CLIENT_SELECT_SUCCESS,q)};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_BEGIN)};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_PHOTO_EDIT_SUCCESS)};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore56(m,c("PUWSteps").CLIENT_TRANSFER_MANUAL_RETRY)};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,["photoID","facebox"]),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log()};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,["photos","facerecWaterfallEvent"]),n=m[0],o=m[1];n.forEach(function(p){new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("nullthrows")(o)).setPhotoFbid(p).log()})};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").LINK,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore57(m,c("ReactComposerFeatureType").PRIVACY,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").COMPOSER_CANCEL)};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore61(m,"cancel");this.$ReactComposerLoggingStore51(m,c("ComposerWaterfallEvent").NAVIGATE_AWAY)};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore57(n,c("ReactComposerFeatureType").COLLECTIONS,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore46=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase())};k.prototype.$ReactComposerLoggingStore47=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","isCancel"]),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore54.bind(this):this.$ReactComposerLoggingStore53.bind(this);q(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o);if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore48=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","spaceCount"]),n=m[0],o=m[1],p=m[2];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{space_count:p}})};k.prototype.$ReactComposerLoggingStore49=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];if(Object.prototype.hasOwnProperty.call(c("ComposerSharingSpacesEvent"),o))this.$ReactComposerLoggingStore51(n,o.toLowerCase(),{extraData:{profile_channel_audience_type:c("ReactComposerAudienceStore").getPrivacyLabel(n)}})};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,["composerID","visibilityMap","event","sproutsState"]),n=m[0],o=m[1],event=m[2],p=m[3];this.$ReactComposerLoggingStore51(n,event,{extraData:{sprouts_visibilities:o,state:p===c("ReactComposerSproutsDisplayState").INLINE?c("ExtensibleSproutsLayoutStateType").COLLAPSED:c("ExtensibleSproutsLayoutStateType").EXPANDED_DEFAULT,promoted_sprout_name:l.promotedSprout,promotion_id:l.promotionID}})};k.prototype.$ReactComposerLoggingStore59=function(l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO);return m&&!!n.size};k.prototype.$ReactComposerLoggingStore60=function(l){var m=c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[],n=c("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(l);return{volume:c("ReactComposerPhotoStore").getPhotos(l).size,with_tag_count:m.length,sticker_count:n}};k.prototype.$ReactComposerLoggingStore52=function(l,m,n,o){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_INTENT,{extraData:babelHelpers["extends"]({feature_type:m,source:n},o&&{sprout_surface:o})})};k.prototype.$ReactComposerLoggingStore57=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_UPDATE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore54=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_CANCEL,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore53=function(l,m,n){this.$ReactComposerLoggingStore51(l,c("ComposerWaterfallEvent").FEATURE_DONE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore51=function(l,event){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}if(c("ReactComposerStore").getRef(l)===c("ComposerEntryPointRef").RECENT_POSTS)c("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData("payload",JSON.stringify(this.$ReactComposerLoggingStore62(l))).addToExtraData("message",c("ReactComposerStatusStore").getMessageText(l)).log()}.bind(this),"ReactComposerLoggingStore");m.extraData=Object.assign({is_markdown_enabled:!!c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore62(l),ordered_sprouts:c("ReactComposerStore").getOrderedSprouts(l),ranker_request_id:c("ReactComposerStore").getRankerRequestID(l),sprout_surface:c("ReactComposerStore").getSproutSurface(l)},m.extraData);c("ComposerXMarauderLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore55=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}c("ReactComposerPerfLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore56=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true)}this.logPUWStep(m,this.getSessionID(l),c("PUWApplications").WEB_REACT_COMPOSER,c("ReactComposerStore").getRef(l),n,o,p)};k.prototype.$ReactComposerLoggingStore50=function(){while(c("ReactComposerLoggingQueue").getLength()>0){var l=c("ReactComposerLoggingQueue").pop();this.handler(l)}};k.prototype.$ReactComposerLoggingStore62=function(l){return{character:c("ReactComposerStatusStore").getTextLength(l),location_tag:c("ReactComposerTaggerStore").hasLocationTag(l),implicit_location:c("ReactComposerTaggerStore").hasImplicitLocation(l),minutiae:c("ReactComposerTaggerStore").hasMinutiae(l),with_who_tag:c("ReactComposerTaggerStore").getNumberOfWithWhoTags(l),photo:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(l),three_sixty_photo:c("ReactComposerMediaUploadStore").getSphericalPhotoCount(l),asset_3d:c("ReactComposerTaggerStore").hasData(l,c("ReactComposerTaggerType").ASSET_3D)?1:0,video:c("ReactComposerMediaUploadStore").getUploadsCount(l,c("ReactComposerMediaUploadType").VIDEO),shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(l)?1:0,backdated:c("ReactComposerTaggerStore").hasBackdate(l)?c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").BACKDATE):null,audience:c("ReactComposerAudienceStore").getAudience(l),collection:c("ReactComposerAudienceStore").getCollectionID(l)}};k.prototype.$ReactComposerLoggingStore58=function(l){__p&&__p();switch(l){case c("ReactComposerTaggerType").PEOPLE:return c("ExtensibleSproutsItemType").WITH_TAG;case c("ReactComposerTaggerType").LOCATION:return c("ExtensibleSproutsItemType").LOCATION;case c("ReactComposerTaggerType").ACTIVITY:return c("ExtensibleSproutsItemType").MINUTIAE;case c("ReactComposerTaggerType").MARKDOWN:return c("ExtensibleSproutsItemType").MARKDOWN;case c("ReactComposerTaggerType").BACKDATE:return c("ExtensibleSproutsItemType").BACKDATE;case c("ReactComposerTaggerType").SPONSOR:return c("ExtensibleSproutsItemType").SPONSOR_TAG;case c("ReactComposerTaggerType").PRODUCT:return c("ExtensibleSproutsItemType").TAG_PRODUCT;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerFeatureType").PAGE_CTA;case c("ReactComposerTaggerType").FORMATTED_TEXT:case c("ReactComposerTaggerType").FORMATTED_TEXT_TRAY:return c("ExtensibleSproutsItemType").TEXT_BACKGROUND;case c("ReactComposerTaggerType").ISSUE_TAG:return c("ReactComposerFeatureType").ISSUE_TAG;case c("ReactComposerTaggerType").STICKER:return c("ExtensibleSproutsItemType").STICKER;case c("ReactComposerTaggerType").GIF:return c("ExtensibleSproutsItemType").GIF;case c("ReactComposerTaggerType").VIDEO_SUGGESTIONS:return c("ExtensibleSproutsItemType").VIDEO_SUGGESTIONS;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerFeatureType").MESSAGING;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return c("ExtensibleSproutsItemType").CONTACT_YOUR_REPRESENTATIVE;case c("ReactComposerTaggerType").FUN_FACT:return c("ExtensibleSproutsItemType").FUN_FACT;case c("ReactComposerTaggerType").FUNDRAISER:return c("ExtensibleSproutsItemType").FUNDRAISER;case c("ReactComposerTaggerType").ALBUM:return c("ReactComposerFeatureType").ALBUM;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ExtensibleSproutsItemType").VISUAL_POLLS;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ExtensibleSproutsItemType").RECOMMENDATION;case c("ReactComposerTaggerType").SALES_PROMO:return c("ExtensibleSproutsItemType").SALES_PROMO;case c("ReactComposerTaggerType").TAG_EVENT:return c("ExtensibleSproutsItemType").TAG_EVENT;case c("ReactComposerTaggerType").TAG_EVENT_TICKET:return c("ExtensibleSproutsItemType").TAG_EVENT_TICKET;case c("ReactComposerTaggerType").BREAKING_NEWS:return c("ReactComposerFeatureType").BREAKING_NEWS;case c("ReactComposerTaggerType").ASSET_3D:return c("ReactComposerFeatureType").ASSET_3D;case c("ReactComposerTaggerType").PLAY_WITH_FRIENDS:return c("ExtensibleSproutsItemType").PLAY_WITH_FRIENDS;case c("ReactComposerTaggerType").LOCAL_ALERTS:return c("ReactComposerFeatureType").LOCAL_ALERTS;default:return null}};k.prototype.$ReactComposerLoggingStore61=function(l,m){c("ifRequired")("ReactComposerFormattedTextStore",function(n){var o=n.getTextFormatPresetID(l)||n.getPrevSelectedTextFormatPresetID(l),p=n.getTrackingString(l);if(o)c("ifRequired")("SATPInteractionsTypedLogger",function(q){new q().setTrackingString(p).setUserActionString(m).setPresetID(o).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()})})};f.exports=new k()}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("exif-js-2.3.0",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i={exports:h},j;function k(){__p&&__p();(function(){__p&&__p();var o=false,p=this,q=function(N){if(N instanceof q)return N;if(!(this instanceof q))return new q(N);this.EXIFwrapped=N};if(typeof h!=="undefined"){if(typeof i!=="undefined"&&i.exports)h=i.exports=q;h.EXIF=q}else p.EXIF=q;var r=q.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=q.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},t=q.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=q.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},v=q.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function w(N){return!!N.exifdata}function x(N,O){O=O||N.match(/^data\:([^\;]+)\;base64,/im)[1]||"";N=N.replace(/^data\:([^\;]+)\;base64,/gim,"");var P=atob(N),Q=P.length,R=new ArrayBuffer(Q),S=new Uint8Array(R);for(var T=0;T<Q;T++)S[T]=P.charCodeAt(T);return R}function y(N,O){var P=new XMLHttpRequest();P.open("GET",N,true);P.responseType="blob";P.onload=function(Q){if(this.status==200||this.status===0)O(this.response)};P.send()}function z(N,O){__p&&__p();function P(T){__p&&__p();var U=A(T);N.exifdata=U||{};var V=B(T);N.iptcdata=V||{};if(q.isXmpEnabled){var W=K(T);N.xmpdata=W||{}}if(O)O.call(N)}if(N.src)if(/^data\:/i.test(N.src)){var Q=x(N.src);P(Q)}else if(/^blob\:/i.test(N.src)){var R=new FileReader();R.onload=function(T){P(T.target.result)};y(N.src,function(T){R.readAsArrayBuffer(T)})}else{var S=new XMLHttpRequest();S.onload=function(){if(this.status==200||this.status===0)P(S.response);else throw"Could not load image";S=null};S.open("GET",N.src,true);S.responseType="arraybuffer";S.send(null)}else if(self.FileReader&&(N instanceof self.Blob||N instanceof self.File)){var R=new FileReader();R.onload=function(T){if(o)false;P(T.target.result)};R.readAsArrayBuffer(N)}}function A(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R;while(P<Q){if(O.getUint8(P)!=255){if(o)false;return false}R=O.getUint8(P+1);if(o)false;if(R==225){if(o)false;return J(O,P+4,O.getUint16(P+2)-2)}else P+=2+O.getUint16(P+2)}}function B(N){__p&&__p();var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=function(O,P){return O.getUint8(P)===56&&O.getUint8(P+1)===66&&O.getUint8(P+2)===73&&O.getUint8(P+3)===77&&O.getUint8(P+4)===4&&O.getUint8(P+5)===4};while(P<Q){if(R(O,P)){var S=O.getUint8(P+7);if(S%2!==0)S+=1;if(S===0)S=4;var T=P+8+S,U=O.getUint16(P+6+S);return D(N,T,U);break}P++}}var C={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function D(N,O,P){__p&&__p();var Q=new DataView(N),R={},S,T,U,V,W=O;while(W<O+P){if(Q.getUint8(W)===28&&Q.getUint8(W+1)===2){V=Q.getUint8(W+2);if(V in C){U=Q.getInt16(W+3);T=C[V];S=I(Q,W+5,U);if(R.hasOwnProperty(T))if(R[T]instanceof Array)R[T].push(S);else R[T]=[R[T],S];else R[T]=S}}W++}return R}function E(N,O,P,Q,R){var S=N.getUint16(P,!R),T={},U,V,W;for(W=0;W<S;W++){U=P+W*12+2;V=Q[N.getUint16(U,!R)];if(!V&&o)false;T[V]=F(N,U,O,P,R)}return T}function F(N,O,P,Q,R){__p&&__p();var S=N.getUint16(O+2,!R),T=N.getUint32(O+4,!R),U=N.getUint32(O+8,!R)+P,V,W,X,Y,Z,$;switch(S){case 1:case 7:if(T==1)return N.getUint8(O+8,!R);else{V=T>4?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint8(V+Y);return W}case 2:V=T>4?U:O+8;return I(N,V,T-1);case 3:if(T==1)return N.getUint16(O+8,!R);else{V=T>2?U:O+8;W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint16(V+2*Y,!R);return W}case 4:if(T==1)return N.getUint32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getUint32(U+4*Y,!R);return W}case 5:if(T==1){Z=N.getUint32(U,!R);$=N.getUint32(U+4,!R);X=new Number(Z/$);X.numerator=Z;X.denominator=$;return X}else{W=[];for(Y=0;Y<T;Y++){Z=N.getUint32(U+8*Y,!R);$=N.getUint32(U+4+8*Y,!R);W[Y]=new Number(Z/$);W[Y].numerator=Z;W[Y].denominator=$}return W}case 9:if(T==1)return N.getInt32(O+8,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+4*Y,!R);return W}case 10:if(T==1)return N.getInt32(U,!R)/N.getInt32(U+4,!R);else{W=[];for(Y=0;Y<T;Y++)W[Y]=N.getInt32(U+8*Y,!R)/N.getInt32(U+4+8*Y,!R);return W}}}function G(N,O,P){var Q=N.getUint16(O,!P);return N.getUint32(O+2+Q*12,!P)}function H(N,O,P,Q){__p&&__p();var R=G(N,O+P,Q);if(!R)return{};else if(R>N.byteLength)return{};var S=E(N,O,O+R,u,Q);if(S.Compression)switch(S.Compression){case 6:if(S.JpegIFOffset&&S.JpegIFByteCount){var T=O+S.JpegIFOffset,U=S.JpegIFByteCount;S.blob=new Blob([new Uint8Array(N.buffer,T,U)],{type:"image/jpeg"})}break;case 1:break;default:}else S.PhotometricInterpretation==2;return S}function I(N,O,P){var Q="";for(var R=O;R<O+P;R++)Q+=String.fromCharCode(N.getUint8(R));return Q}function J(N,O){__p&&__p();if(I(N,O,4)!="Exif"){if(o)false;return false}var P,Q,R,S,T,U=O+6;if(N.getUint16(U)==18761)P=false;else if(N.getUint16(U)==19789)P=true;else{if(o)false;return false}if(N.getUint16(U+2,!P)!=42){if(o)false;return false}var V=N.getUint32(U+4,!P);if(V<8){if(o)false;return false}Q=E(N,U,U+V,s,P);if(Q.ExifIFDPointer){S=E(N,U,U+Q.ExifIFDPointer,r,P);for(R in S){switch(R){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":S[R]=v[R][S[R]];break;case"ExifVersion":case"FlashpixVersion":S[R]=String.fromCharCode(S[R][0],S[R][1],S[R][2],S[R][3]);break;case"ComponentsConfiguration":S[R]=v.Components[S[R][0]]+v.Components[S[R][1]]+v.Components[S[R][2]]+v.Components[S[R][3]];break}Q[R]=S[R]}}if(Q.GPSInfoIFDPointer){T=E(N,U,U+Q.GPSInfoIFDPointer,t,P);for(R in T){switch(R){case"GPSVersionID":T[R]=T[R][0]+"."+T[R][1]+"."+T[R][2]+"."+T[R][3];break}Q[R]=T[R]}}Q.thumbnail=H(N,U,V,P);return Q}function K(N){__p&&__p();if(!("DOMParser"in self))return;var O=new DataView(N);if(o)false;if(O.getUint8(0)!=255||O.getUint8(1)!=216){if(o)false;return false}var P=2,Q=N.byteLength,R=new DOMParser();while(P<Q-4)if(I(O,P,4)=="http"){var S=P-1,T=O.getUint16(P-2)-1,U=I(O,S,T),V=U.indexOf("xmpmeta>")+8;U=U.substring(U.indexOf("<x:xmpmeta"),V);var W=U.indexOf("x:xmpmeta")+10;U=U.slice(0,W)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+U.slice(W);var X=R.parseFromString(U,"text/xml");return M(X)}else P++}function L(N){__p&&__p();var O={};if(N.nodeType==1){if(N.attributes.length>0){O["@attributes"]={};for(var P=0;P<N.attributes.length;P++){var Q=N.attributes.item(P);O["@attributes"][Q.nodeName]=Q.nodeValue}}}else if(N.nodeType==3)return N.nodeValue;if(N.hasChildNodes())for(var R=0;R<N.childNodes.length;R++){var S=N.childNodes.item(R),T=S.nodeName;if(O[T]==null)O[T]=L(S);else{if(O[T].push==null){var U=O[T];O[T]=[];O[T].push(U)}O[T].push(L(S))}}return O}function M(N){__p&&__p();try{var O={};if(N.children.length>0)for(var P=0;P<N.children.length;P++){var Q=N.children.item(P),R=Q.attributes;for(var S in R){var T=R[S],U=T.nodeName,V=T.nodeValue;if(U!==undefined)O[U]=V}var W=Q.nodeName;if(typeof O[W]=="undefined")O[W]=L(Q);else{if(typeof O[W].push=="undefined"){var X=O[W];O[W]=[];O[W].push(X)}O[W].push(L(Q))}}else O=N.textContent;return O}catch(Y){}}q.enableXmp=function(){q.isXmpEnabled=true};q.disableXmp=function(){q.isXmpEnabled=false};q.getData=function(N,O){if((self.Image&&N instanceof self.Image||self.HTMLImageElement&&N instanceof self.HTMLImageElement)&&!N.complete)return false;if(!w(N))z(N,O);else if(O)O.call(N);return true};q.getTag=function(N,O){if(!w(N))return;return N.exifdata[O]};q.getIptcTag=function(N,O){if(!w(N))return;return N.iptcdata[O]};q.getAllTags=function(N){if(!w(N))return{};var O,P=N.exifdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.getAllIptcTags=function(N){if(!w(N))return{};var O,P=N.iptcdata,Q={};for(O in P)if(P.hasOwnProperty(O))Q[O]=P[O];return Q};q.pretty=function(N){__p&&__p();if(!w(N))return"";var O,P=N.exifdata,Q="";for(O in P)if(P.hasOwnProperty(O))if(typeof P[O]=="object")if(P[O]instanceof Number)Q+=O+" : "+P[O]+" ["+P[O].numerator+"/"+P[O].denominator+"]\r\n";else Q+=O+" : ["+P[O].length+" values]\r\n";else Q+=O+" : "+P[O]+"\r\n";return Q};q.readFromBinaryFile=function(N){return A(N)};if(typeof j==="function"&&j.amd)j("exif-js",[],function(){return q})}).call(this)}var l=false,m=function(){if(!l){l=true;k()}return i.exports},n=function(o){switch(o){case undefined:return m()}};f.exports=n}),null);
__d("exif-js",["exif-js-2.3.0"],(function a(b,c,d,e,f,g){f.exports=c("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function a(b,c,d,e,f,g){__p&&__p();c("exif-js").enableXmp();function h(j){__p&&__p();var k=function k(l){return j.charCodeAt(l)&255};this.getByteAt=k;this.getShortAt=function(l,m){var n=this.getSShortAt(l,m);return n>0?n:n+65536};this.getSShortAt=function(l,m){var n=k(l),o=k(l+1);return m?(n<<8)+o:(o<<8)+n};this.getLongAt=function(l,m){var n=this.getSLongAt(l,m);return n>0?n:n+4294967296};this.getSLongAt=function(l,m){var n=k(l),o=k(l+1),p=k(l+2),q=k(l+3);return m?(((n<<8)+o<<8)+p<<8)+q:(((q<<8)+p<<8)+o<<8)+n};this.getStringAt=function(l,m){return j.substr(l,m)};this.getLength=function(){return j.length}}var i={readFromFile:function j(k,l){var m=new FileReader();m.addEventListener("load",function(event){var n=event.target.result,o=n instanceof ArrayBuffer?this.readFromArrayBuffer(n):this.readFromBinaryString(n);l(o)}.bind(this),false);if(window.DataView)m.readAsArrayBuffer(k);else m.readAsBinaryString(k)},readFromBinaryString:function j(k){return c("exif-js").readFromBinaryFile(new h(k))},readFromArrayBuffer:function j(k){return c("exif-js").readFromBinaryFile(k)}};f.exports=i}),null);
__d("StringEncoding",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(o,p){__p&&__p();var q=new Uint8Array(o),r=0,s=[];while(r<q.length){var t=q[r],u=void 0;if(t>>7===0)u=1;else if(t>>5===6){t&=31;u=2}else if(t>>4===14){t&=15;u=3}else if(t>>3===30){t&=7;u=4}else if(t>>2===62){t&=3;u=5}else if(t>>1===126){t&=1;u=6}else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(r+u>q.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var v=1;v<u;v++){var w=q[r+v];if(w>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");w&=63;t<<=6;t|=w}if(t>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!t)switch(p){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(t);r+=u}return String.fromCodePoint.apply(String,s)}function i(o){return(o&255)<<8|o>>8}function j(o,p){__p&&__p();if(o.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");var q=new Uint16Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==65534){++r;t=true}while(r<q.length){var u=q[r];if(t)u=i(u);var v=u;if(u>55295&&u<57344){if((u&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(r+1>=q.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++r;var w=q[r];if(t)w=i(w);if((w&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");v=((u&1023)<<10|w&1023)+65536}if(!v)switch(p){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(v);++r}return String.fromCodePoint.apply(String,s)}function k(o){return(o&255)<<24|(o&255<<8)<<8|(o&255<<16)>>8|o>>>24}function l(o,p){__p&&__p();if(o.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");var q=new Uint32Array(o),r=0,s=[],t=false;if(q[0]===65279)++r;else if(q[0]==4294836224){++r;t=true}while(r<q.length){var u=q[r];if(t)u=k(u);if(u&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(u>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!u)switch(p){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,s);case"include":break}s.push(u);++r}return String.fromCodePoint.apply(String,s)}var m={"utf-8":h,"utf-16":j,"utf-32":l};function n(o,p){__p&&__p();if(o)this.$Decoder1=o;else this.$Decoder1=["utf-8","utf-16","utf-32"];if(!p)p="error";this.$Decoder2=p;for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;this.$Decoder3(u)}}n.prototype.getPrecedence=function(){return this.$Decoder1};n.prototype.decode=function(o){__p&&__p();var p=[];for(var q=this.$Decoder1,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=this.$Decoder3(u);try{return v(o,this.$Decoder2)}catch(w){p.push(w)}}throw new Error(p.join(", "))};n.prototype.$Decoder3=function(o){var p=m[o];if(!p)throw new Error("Unknown encoding "+o);return p};f.exports.Decoder=n}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(m){this.$ImageMetadata4="";this.$ImageMetadata6=m;this.$ImageMetadata7=new Uint8Array(m);this.$ImageMetadata8()}h.prototype.$ImageMetadata8=function(){__p&&__p();var m=0;while(m<this.$ImageMetadata7.length){m=this.$ImageMetadata9(m);if(m===-1)return;var n=this.$ImageMetadata7[m+1],o=i[n];if(!o)return;var p=o.length;if(p===undefined)p=this.$ImageMetadata7[m+2]*256+this.$ImageMetadata7[m+3];this.$ImageMetadata10(m,p,o);if(o.name==="SOS")return;m+=2+p}};h.prototype.$ImageMetadata10=function(m,n,o){__p&&__p();switch(o.name){case"APP1":if(this.$ImageMetadata11(m+4,j)){if(!this.$ImageMetadata1){this.$ImageMetadata1=m;this.$ImageMetadata2=n}this.$ImageMetadata12(m+4+j.length,n-2-j.length)}else if(this.$ImageMetadata11(m+4,k)){this.$ImageMetadata1=m;this.$ImageMetadata2=n;this.$ImageMetadata13(m+4+k.length,n-2-k.length)}else if(this.$ImageMetadata11(m+4,l))this.$ImageMetadata14(m+4+l.length,n-2-l.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$ImageMetadata15(m+4,n-2);break}};h.prototype.$ImageMetadata15=function(m,n){var o=this.$ImageMetadata7[m+3]*256+this.$ImageMetadata7[m+4],p=this.$ImageMetadata7[m+1]*256+this.$ImageMetadata7[m+2];if(o>0&&p>0)this.$ImageMetadata5={x:o,y:p}};h.prototype.$ImageMetadata12=function(m,n){__p&&__p();var o=emptyFunction;try{emptyFunction=c("emptyFunction");var p=c("ImageExif").readFromArrayBuffer(this.$ImageMetadata6)||{}}finally{emptyFunction=o}var q={};for(var r in p){var s=p[r];if(typeof s==="string")s=s.trim();q[r.trim()]=s}this.$ImageMetadata3=q};h.prototype.$ImageMetadata13=function(m,n){var o=new(c("StringEncoding").Decoder)(null,"truncate");try{var p=o.decode(this.$ImageMetadata6.slice(m,m+n));this.$ImageMetadata4=p}catch(q){return}};h.prototype.$ImageMetadata14=function(m){};h.prototype.$ImageMetadata11=function(m,n){return n.split("").every(function(o){return this.$ImageMetadata7[m++]===o.charCodeAt(0)}.bind(this))};h.prototype.$ImageMetadata9=function(m){for(var n=m;n+1<this.$ImageMetadata7.length;++n)if(this.$ImageMetadata7[n]===255&&this.$ImageMetadata7[n+1]!==0&&this.$ImageMetadata7[n+1]!==255)return n;return-1};h.prototype.hasAPP1=function(){return Boolean(this.$ImageMetadata1)};h.prototype.hasExif=function(){return Boolean(this.$ImageMetadata3)};h.prototype.hasXMP=function(){return Boolean(this.$ImageMetadata4)};h.prototype.hasSize=function(){return Boolean(this.$ImageMetadata5)};h.prototype.getAPP1Location=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata1};h.prototype.getAPP1Length=function(){if(!this.hasAPP1())return null;return this.$ImageMetadata2};h.prototype.getExif=function(){if(!this.$ImageMetadata3)throw new Error("Image has no Exif data");return this.$ImageMetadata3};h.prototype.getXMPString=function(){return this.$ImageMetadata4};h.prototype.getSize=function(){if(!this.$ImageMetadata5)throw new Error("Could not find size data?!");return this.$ImageMetadata5};h.genMetadataFromBlob=function m(n){return c("regeneratorRuntime").async(function o(p){while(1)switch(p.prev=p.next){case 0:p.t0=h;p.next=3;return c("regeneratorRuntime").awrap(h.$ImageMetadata16(n));case 3:p.t1=p.sent;return p.abrupt("return",new p.t0(p.t1));case 5:case"end":return p.stop()}},null,this)};h.$ImageMetadata16=function(m){return new(c("Promise"))(function(n,o){var p=new b.FileReader();p.onabort=o;p.onerror=o;p.onload=n;p.readAsArrayBuffer(m)})};var i=[];i[216]={name:"SOI",length:0};i[192]={name:"SOF0"};i[193]={name:"SOF1"};i[194]={name:"SOF2"};i[195]={name:"SOF3"};i[197]={name:"SOF5"};i[198]={name:"SOF6"};i[199]={name:"SOF7"};i[200]={name:"JPG"};i[201]={name:"SOF9"};i[202]={name:"SOF10"};i[203]={name:"SOF11"};i[205]={name:"SOF13"};i[206]={name:"SOF14"};i[207]={name:"SOF15"};i[196]={name:"DHT"};i[219]={name:"DQT"};i[221]={name:"DRI",length:2};i[218]={name:"SOS"};i[208]={name:"RST0",length:0};i[209]={name:"RST1",length:0};i[210]={name:"RST2",length:0};i[211]={name:"RST3",length:0};i[212]={name:"RST4",length:0};i[213]={name:"RST5",length:0};i[214]={name:"RST6",length:0};i[215]={name:"RST7",length:0};i[224]={name:"APP0"};i[225]={name:"APP1"};i[226]={name:"APP2"};i[227]={name:"APP3"};i[228]={name:"APP4"};i[229]={name:"APP5"};i[230]={name:"APP6"};i[231]={name:"APP7"};i[232]={name:"APP8"};i[233]={name:"APP9"};i[234]={name:"APP10"};i[235]={name:"APP11"};i[236]={name:"APP12"};i[237]={name:"APP13"};i[238]={name:"APP14"};i[239]={name:"APP15"};i[254]={name:"COM"};i[217]={name:"EOI",length:0};var j="Exif\0\0",k="http://ns.adobe.com/xap/1.0/\0",l="http://ns.adobe.com/xmp/extension/\0";f.exports=h}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=2048,i={genArrayBufferFromBlob:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){if(b.FileReader){var n=new b.FileReader();n.onabort=m;n.onerror=m;n.onload=function(event){l(event.target.result)};n.readAsArrayBuffer(k)}else m(new Error("global.FileReader doesn't exit"))})},shouldCheckInServer:function j(k){__p&&__p();if(!k.hasExif()&&!k.hasXMP()||!k.hasSize())return false;var l=k.getXMPString();if(this.getMayContainSphericalMetadata(l))return true;var m=k.getSize(),n=m.x,o=m.y;if(Math.max(n,o)<h||n/o<2&&o/n<2)return false;var p=k.hasExif()?k.getExif():{};if(l===""&&(!p.Make||!p.Model))return false;return true},genPhotosphereMetadata:function j(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();this.genArrayBufferFromBlob(k).done(function(n){__p&&__p();var o,p=this;try{(function(){var r=new(c("ImageMetadata"))(n);if(p.shouldCheckInServer(r))p.genPhotosphereMetadataFromServer(r.hasSize()?r.getSize():{x:0,y:0},r.getXMPString(),r.hasExif()?r.getExif():{}).done(function(s){var t=s.payload;l({photoSphereMetadata:t,imageMetadata:r})},m);else l({})})()}catch(q){q.__manual=true;m(q)}}.bind(this),m)}.bind(this))},genPhotosphereMetadataFromServer:function j(k,l,m){return new(c("Promise"))(function(n,o){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:this.getExifString(m),height:k.y,width:k.x,xmp:l}).setHandler(n).setErrorHandler(o).send()}.bind(this))},getExifString:function j(k){return JSON.stringify(k,function(l,m){if(l==="FocalLength"&&m.numerator&&m.denominator)return m.numerator+"/"+m.denominator;return m})},getMayContainSphericalMetadata:function j(k){return k!==""&&k.indexOf("GPano:")>-1}};f.exports=i}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="ProjectionType";function i(j){this.props=j}i.createFromBlob=function j(k){var l;return c("regeneratorRuntime").async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(k));case 2:l=n.sent;return n.abrupt("return",new this(l));case 4:case"end":return n.stop()}},null,this)};i.prototype.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};i.prototype.getImageMetadata=function(){return this.props.imageMetadata};i.prototype.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};i.prototype.getSize=function(){if(this.props.imageMetadata)return this.props.imageMetadata.getSize();return null};i.prototype.getProjectionType=function(){var j="";if(this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h])j=this.props.photoSphereMetadata[h];return j};f.exports=i}),null);
__d("SphericalPhotoUploadHelper",[],(function a(b,c,d,e,f,g){"use strict";f.exports={shouldResize360:function h(i,j,k){if(j&&Math.max(j.x,j.y)<=k||i==="cubestrip")return false;return true}}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","JSLogger","PhotosMimeType","PhotosUploadID","ReactComposerMediaUtils","SphericalImage","SphericalPhotoConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalPhotoUploadHelper").shouldResize360,i=b.URL||b.webkitURL||{};function j(k){__p&&__p();this.$XComposerPhotoUploader2=k.uploadData||{};this.$XComposerPhotoUploader1=k.uploadEndpoint;this.$XComposerPhotoUploader3=k.retryLimit;this.$XComposerPhotoUploader4=k.concurrentLimit;this.$XComposerPhotoUploader5=k.resizer;this.$XComposerPhotoUploader6=k.onUploadEnqueued||c("emptyFunction");this.$XComposerPhotoUploader7=k.onUploadsEnqueued||c("emptyFunction");this.$XComposerPhotoUploader8=k.onResizeStart||c("emptyFunction");this.$XComposerPhotoUploader11=k.onResizeProgress||c("emptyFunction");this.$XComposerPhotoUploader9=k.onResizeSuccess||c("emptyFunction");this.$XComposerPhotoUploader10=k.onResizeFailure||c("emptyFunction");this.$XComposerPhotoUploader12=k.onSphericalCheckFailure||c("emptyFunction");this.$XComposerPhotoUploader13=k.onSphericalCheckSuccess||c("emptyFunction");this.$XComposerPhotoUploader14=k.onUploadIsSpherical||c("emptyFunction");this.$XComposerPhotoUploader15=k.onUploadSent||c("emptyFunction");this.$XComposerPhotoUploader16=k.onUploadStart||c("emptyFunction");this.$XComposerPhotoUploader17=k.onUploadProgress||c("emptyFunction");this.$XComposerPhotoUploader18=k.onUploadSuccess||c("emptyFunction");this.$XComposerPhotoUploader19=k.onUploadFailure||c("emptyFunction");this.$XComposerPhotoUploader20=c("JSLogger").create("composer")}j.prototype.upload=function(k,l){__p&&__p();l=l||0;var m=Object.assign({},this.$XComposerPhotoUploader2),n=null;if(!this.$XComposerPhotoUploader21(k)){var o=c("PhotosUploadID").getNewID();k.uploadID=o;m.upload_id=o;this.$XComposerPhotoUploader6({uploadID:o,fileName:k.value.split("/").pop().split("\\").pop(),fileURL:i.createObjectURL?i.createObjectURL(k):null})}else{n=Array.from(k.files);n=n.filter(function(s){return!c("ReactComposerMediaUtils").hasVideos([s.name])});if(n.length===0)return;var p=n.length+l;n.forEach(function(s){if(!s.uploadID)s.uploadID=c("PhotosUploadID").getNewID();this.$XComposerPhotoUploader6({uploadID:s.uploadID,fileName:s.name,isSpherical:false,fileURL:i.createObjectURL?i.createObjectURL(s):null})}.bind(this))}this.$XComposerPhotoUploader7();var q=new(c("FileInputUploader"))(k).setURI(this.$XComposerPhotoUploader1).setData(m).setAllowCrossOrigin(true).setNetworkErrorRetryLimit(this.$XComposerPhotoUploader3).setUploadInParallel(true);if(n&&n.length>0){q.setFiles({farr:n});if(this.$XComposerPhotoUploader5)q.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this));else q.setPreprocessHandler(this.$XComposerPhotoUploader23.bind(this));if(this.$XComposerPhotoUploader4)q.setConcurrentLimit(this.$XComposerPhotoUploader4)}q.subscribe("progress",function(s,m){return this.$XComposerPhotoUploader17(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));q.subscribe("failure",function(s,m){return this.$XComposerPhotoUploader19(this.$XComposerPhotoUploader24(m,k),m,n)}.bind(this));q.subscribe("start",function(s,m){return this.$XComposerPhotoUploader16(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));q.subscribe("success",function(s,m){return this.$XComposerPhotoUploader18(this.$XComposerPhotoUploader24(m,k),m)}.bind(this));try{q.send();this.$XComposerPhotoUploader15(k)}catch(r){this.$XComposerPhotoUploader20.error("error_send_unpublished_files",r);throw r}};j.prototype.getAsyncUploadRequest=function(k,l){__p&&__p();var m=new(c("AsyncUploadRequest"))().setData(Object.assign({},l&&l.data,this.$XComposerPhotoUploader2)).setFiles({farr:k}).setAllowCrossOrigin(true).setURI(this.$XComposerPhotoUploader1);if(this.$XComposerPhotoUploader4)m.setLimit(this.$XComposerPhotoUploader4);if(this.$XComposerPhotoUploader5)m.setPreprocessHandler(this.$XComposerPhotoUploader22.bind(this));m.subscribe("start",function(n,o){return this.$XComposerPhotoUploader16(o.getFile().uploadID,{upload:o})}.bind(this));m.subscribe("progress",function(n,o){return this.$XComposerPhotoUploader17(o.getFile().uploadID,{upload:o,event:o.getProgressEvent()})}.bind(this));m.subscribe("success",function(n,o){return this.$XComposerPhotoUploader18(o.getFile().uploadID,{upload:o,response:o.getResponse()})}.bind(this));m.subscribe("failure",function(n,o){return this.$XComposerPhotoUploader19(o.getFile().uploadID,{upload:o,response:o.getResponse()},k)}.bind(this));return m};j.prototype.$XComposerPhotoUploader24=function(k,l){if(k.upload)return k.upload.getFile().uploadID;else return l.uploadID};j.prototype.$XComposerPhotoUploader23=function(k,l){(function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader25(k,l));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader25=function k(l,m){__p&&__p();var n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:n=l.getFile();q.next=3;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader26(n));case 3:o=q.sent;if(o&&o.isSpherical())this.$XComposerPhotoUploader14(n,o.isSpherical(),o.getProjectionType());else this.$XComposerPhotoUploader14(n,false,"");m(l);case 6:case"end":return q.stop()}},null,this)};j.prototype.$XComposerPhotoUploader22=function(k,l){(function m(){return c("regeneratorRuntime").async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader27(k,l));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,this)}).bind(this)().done()};j.prototype.$XComposerPhotoUploader26=function k(l){__p&&__p();var m,n;return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:m=c("performanceNow")();p.prev=1;p.next=4;return c("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(l));case 4:n=p.sent;this.$XComposerPhotoUploader13(l,c("performanceNow")()-m,n);return p.abrupt("return",n);case 9:p.prev=9;p.t0=p["catch"](1);this.$XComposerPhotoUploader12(l,c("performanceNow")()-m);return p.abrupt("return",null);case 14:case"end":return p.stop()}},null,this,[[1,9]])};j.prototype.$XComposerPhotoUploader28=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resizeBlob.bind(this.$XComposerPhotoUploader5),k)};j.prototype.$XComposerPhotoUploader30=function(k){return this.$XComposerPhotoUploader29(this.$XComposerPhotoUploader5.resize360Blob.bind(this.$XComposerPhotoUploader5),k,c("SphericalPhotoConfig").upload_size_limit)};j.prototype.$XComposerPhotoUploader29=function(k,l,m){__p&&__p();var n=c("curry")(this.$XComposerPhotoUploader11,l.uploadID),o=function(){return this.$XComposerPhotoUploader8(l)}.bind(this);return new(c("Promise"))(function(p,q){o();k(l,function(r,s,t,u,v){if(r)q(r);else if(t)p(null);else p({blob:s,originalWidth:u,originalHeight:v})},n,m)})};j.prototype.$XComposerPhotoUploader27=function k(l,m){__p&&__p();var n,o,p,q,r,s,t,u,v,w;return c("regeneratorRuntime").async(function x(y){__p&&__p();while(1)switch(y.prev=y.next){case 0:n=l.getFile();if(!(!n||!c("PhotosMimeType").isJpeg(n.type))){y.next=5;break}this.$XComposerPhotoUploader14(n,false,"");m(l);return y.abrupt("return");case 5:o=c("performanceNow")();p=void 0,q=void 0;y.prev=7;r=null;y.next=11;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader26(n));case 11:r=y.sent;if(!(r&&r.isSpherical())){y.next=23;break}this.$XComposerPhotoUploader14(n,true,r.getProjectionType());s=r.getSize();t=c("SphericalPhotoConfig").upload_size_limit;u=r.getProjectionType();if(!h(u,s,t)){y.next=21;break}y.next=20;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader30(n));case 20:p=y.sent;case 21:y.next=27;break;case 23:this.$XComposerPhotoUploader14(n,false,"");y.next=26;return c("regeneratorRuntime").awrap(this.$XComposerPhotoUploader28(n));case 26:p=y.sent;case 27:if(p){q=p.blob;q.uploadID=n.uploadID;q.name=n.name;l.setFile(q);l.getAdditionalData().set("js_resized",true).set("original_width",p.originalWidth).set("original_height",p.originalHeight)}v=q===null;l.getFile().filename=n.name;this.$XComposerPhotoUploader9(n,q||n,v,c("performanceNow")()-o);y.next=38;break;case 33:y.prev=33;y.t0=y["catch"](7);w=c("performanceNow")()-o;this.$XComposerPhotoUploader10(n,q||n,y.t0,w);case 38:m(l);case 39:case"end":return y.stop()}},null,this,[[7,33]])};j.prototype.$XComposerPhotoUploader21=function(k){return!!k.files&&c("AsyncUploadRequest").isSupported()};f.exports=j}),null);
__d("ReactComposerPhotoUploader",["ActorURI","AsyncUploadRequest","FaceRecognitionController","JpegResizer","JpegResizerConfig","PhotosUploadID","PhotosUploadWaterfallErrorCodes","ReactComposerLoggingStore","ReactComposerMediaConfig","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactComposerPhotoActions","QE2Logger","SphericalPhotoConfig","XComposerPhotoUploader","ifRequired","performanceNow"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=b.URL||b.webkitURL||{},i="www_js_resize_repack";function j(k,l,m){__p&&__p();this.$ReactComposerPhotoUploader1=k.composerID;this.$ReactComposerPhotoUploader5=m;var n=c("ReactComposerMediaConfig").photo,o=null;if(c("JpegResizer").isSupported()){o=c("JpegResizer").getSingleton(l>1?c("JpegResizer").DEFAULT_POOL_SIZE:1);o.setHighQuality(n.highQuality).setUndershoot(c("JpegResizerConfig").undershoot).setEncodeQuality(c("JpegResizerConfig").quality)}else c("ReactComposerMediaUploadActions").resizerUnavailable(this.$ReactComposerPhotoUploader1);var p=c("ActorURI").create(n.uploadEndpoint,k.actorID);this.$ReactComposerPhotoUploader2=new(c("XComposerPhotoUploader"))({uploadEndpoint:p,uploadData:Object.assign({qn:c("ReactComposerLoggingStore").getSessionID(this.$ReactComposerPhotoUploader1),target_id:k.targetID},n.uploadData),retryLimit:n.retryLimit,concurrentLimit:n.concurrentLimit,resizer:o,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onSphericalCheckSuccess:this.$ReactComposerPhotoUploader11.bind(this),onSphericalCheckFailure:this.$ReactComposerPhotoUploader12.bind(this),onUploadIsSpherical:this.$ReactComposerPhotoUploader13.bind(this),onUploadStart:this.$ReactComposerPhotoUploader14.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader15.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader16.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader17.bind(this),gks:k.gks});this.$ReactComposerPhotoUploader3=new(c("FaceRecognitionController"))({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe("photo",this.$ReactComposerPhotoUploader18.bind(this));this.$ReactComposerPhotoUploader3.subscribe("done",this.$ReactComposerPhotoUploader19.bind(this));this.$ReactComposerPhotoUploader4=new Map()}j.prototype.upload=function(k){var l=c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size;this.$ReactComposerPhotoUploader2.upload(k,l)};j.prototype.retry=function(k){var l=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([k]);l.send()};j.prototype.getAsyncUploadRequest=function(k,l){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(k,l)};j.prototype.enqueueAsyncUploadRequest=function(k,l,m,n,o){l.forEach(function(p){var q=m.indexMap?m.indexMap.get(p.uploadID):c("ReactComposerMediaUploadStore").getUploads(k).size;c("ReactComposerMediaUploadActions").enqueue(k,p.uploadID,p.name,q,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,h.createObjectURL?h.createObjectURL(p):null,n.xyTags,o)});this.getAsyncUploadRequest(l,m).send()};j.prototype.isUploadLimitExceeded=function(k,l){var m=this.getMaxSelectableFilesCount(k),n=!l||!c("AsyncUploadRequest").isSupported()?1:l.length;return n>m};j.prototype.getMaxSelectableFilesCount=function(k){return!!k?c("ReactComposerMediaConfig").photo.limit:1};j.prototype.$ReactComposerPhotoUploader6=function(k){c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerPhotoUploader1,k.uploadID,k.fileName,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,k.fileURL,null,k.isSpherical)};j.prototype.$ReactComposerPhotoUploader13=function(k,l,m){c("ReactComposerMediaUploadActions").isSpherical(this.$ReactComposerPhotoUploader1,k.uploadID,l,m)};j.prototype.$ReactComposerPhotoUploader7=function(k){c("ReactComposerMediaUploadActions").startResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{bytes:k.size});c("QE2Logger").logExposureForUser(i)};j.prototype.$ReactComposerPhotoUploader10=function(k,event){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressResizing(this.$ReactComposerPhotoUploader1,k,100*event.written/event.total)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader8=function(k,l,m,n){c("ReactComposerMediaUploadActions").doneResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,media_data_size:k.size,bytes:l.size,custom_tags:{skipped_resizing:m}})};j.prototype.$ReactComposerPhotoUploader9=function(k,l,m,n){c("ReactComposerMediaUploadActions").failResizing(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:n,bytes:k.size,error_code:m.code,error_info:m.message})};j.prototype.$ReactComposerPhotoUploader11=function(k,l,m){var n=m.isSpherical()&&c("SphericalPhotoConfig").is_www_perceived_perf_on;c("ReactComposerMediaUploadActions").doneSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{dt:l,projection_type:m.getProjectionType()},m,n)};j.prototype.$ReactComposerPhotoUploader12=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?false:arguments[2],n=m?c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_TIMEOUT:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED;c("ReactComposerMediaUploadActions").failSphericalCheck(this.$ReactComposerPhotoUploader1,k.uploadID,{error_code:n,dt:l})};j.prototype.$ReactComposerPhotoUploader14=function(k,l){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING);this.$ReactComposerPhotoUploader4.set(k,c("performanceNow")())};j.prototype.$ReactComposerPhotoUploader15=function(k,l){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerPhotoUploader1,k,100*l.event.loaded/l.event.total,false,null,null)}.bind(this),0)};j.prototype.$ReactComposerPhotoUploader16=function(k,l){__p&&__p();if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;if(!l.response.payload)return;var m=Array.isArray(l.response.payload)?l.response.payload:[l.response.payload],n=this.$ReactComposerPhotoUploader4.get(k)||0,o=n?c("performanceNow")()-n:0,p=m[0],q=m.slice(1);c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerPhotoUploader1,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE,fileUpload:l.upload,timeToUpload:o,photoID:p.photoID,sphericalPhotoID:p.sphericalPhotoID,thumbSrc:p.thumbSrc,originalPhotoID:p.originalPhotoID,mediaLocation:p.mediaLocation,cubestripURI:p.cubestripURI||null,imageSrc:p.imageSrc,width:p.width,height:p.height,mediaTakenTime:p.mediaTakenTime});c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerPhotoUploader1);this.$ReactComposerPhotoUploader20(k,p,l.upload);q.forEach(function(r){var s=c("PhotosUploadID").getNewID();c("ReactComposerMediaUploadActions").doneUploadingExtra(this.$ReactComposerPhotoUploader1,s,r.photoID,r.thumbSrc,r.cubestripURI||null,r.imageSrc,r.width,r.height);this.$ReactComposerPhotoUploader20(s,r,l.upload)}.bind(this))};j.prototype.$ReactComposerPhotoUploader20=function(k,l,m){if(this.$ReactComposerPhotoUploader21()){c("ReactComposerPhotoActions").startRecognizing(this.$ReactComposerPhotoUploader1,l.photoID);this.$ReactComposerPhotoUploader3.start([l.photoID])}var n=c("ReactComposerMediaUploadStore").getMediaUpload(this.$ReactComposerPhotoUploader1,k);if(n.xyTags)c("ReactComposerMediaUtils").handleXYTagsOnly(this.$ReactComposerPhotoUploader1,n.photoID,n.xyTags)};j.prototype.$ReactComposerPhotoUploader17=function(k,l,m){if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,k))return;var n=l.response,o={code:n.getError(),description:n.getErrorDescription(),summary:n.getErrorSummary(),"transient":n.isTransient()||n.getError()==1004||n.getError()==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerPhotoUploader1,k,l.upload,c("performanceNow")()-this.$ReactComposerPhotoUploader4.get(k),o,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED)};j.prototype.$ReactComposerPhotoUploader18=function(k,l){if(this.$ReactComposerPhotoUploader21())l.faceboxes.forEach(function(m){var n=void 0;if(m.recognitions.length>0){var o=m.recognitions[0].user;n={subjectID:o.fbid,value:o.name}}c("ReactComposerPhotoActions").addFacebox(this.$ReactComposerPhotoUploader1,l.photo,{id:m.fbid,x:m.x,y:m.y,top:m.top,left:m.left,width:m.width,height:m.height,croppedURI:m.src,bestRecognition:n,allRecognitions:m.allRecognitions})}.bind(this));c("ReactComposerPhotoActions").finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,l.photo)};j.prototype.$ReactComposerPhotoUploader19=function(k,l){c("ReactComposerPhotoActions").finishRecognizing(this.$ReactComposerPhotoUploader1,l.unresolved,l.facerecWaterfallEvent||null)};j.prototype.$ReactComposerPhotoUploader21=function(){if(this.$ReactComposerPhotoUploader5.disableFaceRecognition)return false;return c("ifRequired")("ReactComposerOptimisticPostingStore",function(k){return!k.isOptimisticallyPosting(this.$ReactComposerPhotoUploader1)}.bind(this),function(){return true})};f.exports=j}),null);
__d("ReactComposerFailedPhotoUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoUploader"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",_uploader:undefined,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{mediaConfig:h.object.isRequired},render:function j(){return c("React").createElement(c("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();k.manuallyRetried=true;c("ReactComposerMediaUploadActions").retryMediaUpload(this.context.composerID,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY);if(!this._uploader)this._uploader=new(c("ReactComposerPhotoUploader"))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(k)}});f.exports=i}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i){if(i.bgURL){var j={backgroundImage:"url("+i.bgURL+")"};return c("React").createElement("div",{className:i.bgClassName,style:j})}else if(i.imgSrc)return c("React").createElement(c("Image.react"),{alt:i.alt,className:i.imgClassName,src:i.imgSrc,style:i.style,width:i.width,height:i.height});return null};f.exports=h}),null);
__d("ReactComposerQuestionAttachmentOptionImage.react",["cx","fbt","ReactComposerFailedPhotoUploadContainer.react","ReactComposerPhotoThumbnail.react","ReactComposerMediaUploadType","ReactComposerPhotoUploadState","FileInput.react","Link.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,m=c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED,n=40;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;o.prototype.render=function(){return this.$ReactComposerQuestionAttachmentOptionImage1()};o.prototype.$ReactComposerQuestionAttachmentOptionImage1=function(){if(this.props.upload.mediaType==c("ReactComposerMediaUploadType").VIDEO)return null;return this.$ReactComposerQuestionAttachmentOptionImage2()};o.prototype.$ReactComposerQuestionAttachmentOptionImage2=function(){var p=this.props.upload;if(p.state===m)return c("React").createElement(c("ReactComposerFailedPhotoUploadContainer.react"),{error:p.error,filename:p.filename,key:p.id,mediaConfig:this.props.mediaConfig,uploadID:p.id});else if(p.state===l)return c("React").createElement(c("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.props.onFileSelected,ref:this.props.setFileInput,title:i._("Ch\u1ecdn m\u1ed9t t\u1ec7p \u0111\u1ec3 t\u1ea3i l\u00ean"),"data-testid":"add-more-photos"},c("React").createElement(c("Link.react"),{className:"_348w"},c("React").createElement(c("ReactComposerPhotoThumbnail.react"),{bgClassName:"_348x",bgURL:p.fileURL,height:n,width:n})));return c("React").createElement("div",{className:"_348y"},c("React").createElement(c("XUISpinner.react"),{size:"large"}))};function o(){j.apply(this,arguments)}f.exports=o}),null);
__d("ReactComposerQuestionAttachmentOptionImageContainer.react",["cx","fbt","Link.react","ReactComposerMediaUtils","ReactComposerQuestionAttachmentOptionImage.react","FileInput.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerQuestionAttachmentOptionImageContainer3=function(event){if(this.props.onFileSelected){var r=this.props.onFileSelected;r(event,this.fileInput.getFileInput())}c("ReactComposerMediaUtils").clearInput(this.fileInput.getFileInput(),true)}.bind(this),this.$ReactComposerQuestionAttachmentOptionImageContainer4=function(r){this.fileInput=r}.bind(this),n}l.prototype.getDefaultProps=function(){return{canUploadMultiplePhotos:false,upload:null}};l.prototype.render=function(){var m=this.props.upload?this.$ReactComposerQuestionAttachmentOptionImageContainer1():this.$ReactComposerQuestionAttachmentOptionImageContainer2();return m};l.prototype.$ReactComposerQuestionAttachmentOptionImageContainer2=function(){return c("React").createElement("div",{className:"_61kz"},c("React").createElement(c("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.$ReactComposerQuestionAttachmentOptionImageContainer3,ref:this.$ReactComposerQuestionAttachmentOptionImageContainer4,title:i._("Ch\u1ecdn m\u1ed9t t\u1ec7p \u0111\u1ec3 t\u1ea3i l\u00ean"),"data-testid":"add-more-photos"},this.$ReactComposerQuestionAttachmentOptionImageContainer5()))};l.prototype.$ReactComposerQuestionAttachmentOptionImageContainer1=function(){var m=this.props.upload;return c("React").createElement("div",{key:m.photoID,className:"_61k_"},c("React").createElement(c("ReactComposerQuestionAttachmentOptionImage.react"),{upload:this.props.upload,mediaConfig:this.props.mediaConfig,onFileSelected:this.$ReactComposerQuestionAttachmentOptionImageContainer3,mediaAcceptParam:this.props.mediaAcceptParam,canUploadMultiplePhotos:this.props.canUploadMultiplePhotos,setFileInput:this.$ReactComposerQuestionAttachmentOptionImageContainer4}))};l.prototype.$ReactComposerQuestionAttachmentOptionImageContainer5=function(){return c("React").createElement(c("Link.react"),{"aria-label":i._("Li\u00ean k\u1ebft t\u1ea3i \u1ea3nh l\u00ean"),className:"_348w"})};f.exports=l}),null);
__d("PollAttachmentAddOption.react",["ix","cx","fbt","AbstractTextArea.react","Bootloader","Image.react","Link.react","React","ReactComposerQuestionAttachmentOptionImageContainer.react","ReactComposerPhotoUploadState","TextAreaControl","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=5,n=c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,o={addImageOptionTextInput:"_4l_h",addImageOptionTextInputRightBorder:"_4l_h _gz4",addOption:"_31qf _31qg",addImageOption:"_31qf _31qg _gz5",addOptionLabel:"_31qi",centerPlus:"_65lo",charCount:"_31qk",addOptionInput:"_4sjs",addOptionImageInput:"_gzh"};k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={text:"",isFocused:false,isUploading:false,upload:null},this.$PollAttachmentAddOption7=function(){this.setState({text:"",isFocused:false,isUploading:false,upload:null});this.$PollAttachmentAddOption2.release()}.bind(this),this.$PollAttachmentAddOption8=function(v){var w=v.getPayload();if(w&&w.fbid)this.setState({upload:babelHelpers["extends"]({state:n,fileURL:w.thumbnail_uri},w)});else this.refs.imageContainer.fileInput&&this.refs.imageContainer.fileInput.getFileInput().clear()}.bind(this),this.$PollAttachmentAddOption9=function(){this.setState({isUploading:true})}.bind(this),this.$PollAttachmentAddOption10=function(){this.setState({isUploading:false})}.bind(this),this.$PollAttachmentAddOption11=function(){this.setState({isUploading:false})}.bind(this),this.$PollAttachmentAddOption4=function(event){if(this.state.isUploading)return;c("Bootloader").loadModules(["PollImageUploader"],function(v){if(this.$PollAttachmentAddOption2)this.$PollAttachmentAddOption2.release();this.$PollAttachmentAddOption2=new v(this.refs.imageContainer.fileInput.getFileInput(),this.$PollAttachmentAddOption8,this.$PollAttachmentAddOption9,this.$PollAttachmentAddOption10,this.$PollAttachmentAddOption11)}.bind(this),"PollAttachmentAddOption.react")}.bind(this),this.$PollAttachmentAddOption6=function(event){if(this.state.isUploading)return;this.props.onAdd(this.state.text,this.state.upload);this.setState({text:"",upload:null})}.bind(this),r}p.prototype.componentDidMount=function(){var q=this.refs.textArea.getTextFieldDOM();this.$PollAttachmentAddOption1=new(c("TextAreaControl"))(q);this.$PollAttachmentAddOption1.setAutogrow(true);this.$PollAttachmentAddOption1.onupdate()};p.prototype.componentDidUpdate=function(){this.$PollAttachmentAddOption1.onupdate()};p.prototype.componentWillUnmount=function(){this.$PollAttachmentAddOption1=null};p.prototype.render=function(){__p&&__p();var q=void 0,r=void 0,s=void 0,t=o.addOption,u=o.addOptionInput;if(this.props.hasImageOption){t=o.addImageOption;u=this.state.upload?o.addImageOptionTextInput:o.addImageOptionTextInputRightBorder;s=this.$PollAttachmentAddOption3();q=c("React").createElement("div",{className:o.addOptionImageInput,onClick:this.$PollAttachmentAddOption4,role:"presentation"},c("React").createElement(c("ReactComposerQuestionAttachmentOptionImageContainer.react"),{canUploadMultiplePhotos:false,mediaAcceptParam:"image/*",mediaConfig:{photoLimit:1},ref:"imageContainer",upload:this.state.upload}));if(this.state.isUploading)r=c("React").createElement("div",{className:"_gzi"},c("React").createElement("div",{className:"_g-d"},c("React").createElement(c("XUISpinner.react"),{size:"large"})))}return c("React").createElement("div",null,c("React").createElement("div",{className:o.charCount},s,c("React").createElement("div",{className:!this.state.isFocused?"_14f8":""},this.state.text.length,"/",this.props.maxOptionLength)),c("React").createElement("div",{className:t},c("React").createElement("div",{className:o.addOptionLabel},c("React").createElement(c("Image.react"),{className:o.centerPlus,src:h("126622")})),c("React").createElement("div",{className:u},c("React").createElement(c("AbstractTextArea.react"),{onChange:function(event){return this.$PollAttachmentAddOption5(event)}.bind(this),onEnter:this.$PollAttachmentAddOption6,maxLength:this.props.maxOptionLength,disabled:this.props.disabled,onFocus:function(){return this.setState({isFocused:true})}.bind(this),onBlur:function(){return this.setState({isFocused:false})}.bind(this),placeholder:j._("Th\u00eam t\u00f9y ch\u1ecdn"),value:this.state.text,ref:"textArea"})),q,r))};p.prototype.$PollAttachmentAddOption3=function(){return c("React").createElement("div",{"data-testid":"clear-add-poll-option-button",className:!(this.state.text||this.state.upload||this.state.isUploading)?"_14f8":""},c("React").createElement(c("Link.react"),{onClick:this.$PollAttachmentAddOption7},c("React").createElement(c("Image.react"),{src:h("125920")})))};p.prototype.$PollAttachmentAddOption5=function(event){if(event.target.value.length>this.props.maxOptionLength||event.target.value.split(/\r|\n|\r\n/).length>m)return;this.setState({text:event.target.value})};f.exports=p}),null);
__d("QuestionPollAnswersState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPEN:"OPEN",LOCKED:"LOCKED"})}),null);
__d("PollAttachmentComponent.react",["cx","fbt","Facepile.react","GroupsPollAttachmentDeleteOption.react","GroupsPollDeleteOptionMutation","LeftRight.react","PollAddOptionMutation","PollAddVoteMutation","PollAttachmentUtils","PollRemoveVoteMutation","PollAttachmentAddOption.react","ProfileBrowserLink","QuestionPollAnswersState","React","ShimButton.react","SimpleXUIDialog","RelayModern","SpotlightPollOptionImageViewer","SpotlightViewerInit","TextWithEntities.react","WorkModeConfig","getURLRanges","randomShuffle","PollAttachmentComponent_viewer.graphql","PollAttachmentComponent_node.graphql","PollAttachmentComponentRefetchQuery.graphql"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PollAttachmentUtils").isEigenpoll,m=c("RelayModern").createRefetchContainer,n=c("RelayModern").graphql,o=520,p=660,q=5,r={accessible:"accessible_elem",root:"_3cof",facepileCenter:"_3cog _man",optionContainer:"_61xb",row:"_mb4",optionRow:"_mb4 _1jwy",optionLabel:"_31qh",optionSelector:"_3cok",optionBar:"_3col",optionBarImage:"_eh7",optionImage:"_eh8",optionVotes:"_3com",optionText:"_3con",optionTextPadded:"_3con _eh9",optionTextImage:"_eha",optionTextSpanImage:"_ehb",optionExpanderLink:"_3coo",optionExpander:"_31qf _3cop",space:"_3coq"};j=babelHelpers.inherits(s,c("React").Component);k=j&&j.prototype;function s(){__p&&__p();var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.state={isLocked:false,disableShuffle:!this.props.shouldShuffle,numOptionsToShow:5},this.$PollAttachmentComponent1=function(y){this.setState({isLocked:true});this.setState(function(z){return{numOptionsToShow:z.numOptionsToShow-1}});c("GroupsPollDeleteOptionMutation").commit(this.props.relay.environment,{optionID:y,questionID:this.props.node.id,callbacks:{onSuccess:function(){this.setState({isLocked:false})}.bind(this),onFailure:function(z){this.setState({isLocked:false});var A=z.getError();c("SimpleXUIDialog").show(A&&A.source&&A.source.description,A&&A.source&&A.source.summary)}.bind(this)}})}.bind(this),this.$PollAttachmentComponent3=function(y,z){__p&&__p();if(y.replace(/\s+/g,"")===""){var A=i._("Add some text to your poll option so people know what it's about."),B=i._("Poll Option Needs Text");c("SimpleXUIDialog").show(A,B)}else{this.setState({isLocked:true,numOptionsToShow:this.props.node.options.count+1});c("PollAddOptionMutation").commit(this.props.relay.environment,{node:this.props.node,optionText:y,viewer:this.props.viewer,numOptionsToShow:this.props.node.options.count+1,imageUpload:z,callbacks:{onSuccess:function(){this.setState({isLocked:false})}.bind(this),onFailure:function(C){this.setState({isLocked:false,numOptionsToShow:this.props.node.options.count});var D=C.getError();c("SimpleXUIDialog").show(D&&D.source&&D.source.description,D&&D.source&&D.source.summary)}.bind(this)}})}}.bind(this),u}s.prototype.render=function(){__p&&__p();var t=this.props.node;if(!t)return c("React").createElement("div",null);var u=!this.state.isLocked&&t.can_viewer_post,v=this.state.numOptionsToShow,w=t.options.edges.reduce(function(E,F){return Math.max(E,F.node.voters.count)},1),x=[].concat(t.options.edges);if(this.props.shouldShuffle&&!this.state.disableShuffle)x=c("randomShuffle")(x);var y=x.some(function(E){return!!E.node.associated_image});x=x.slice(0,v).map(function(E){__p&&__p();var F=E.node.voters.edges;if(!c("WorkModeConfig").is_work_user)F=F.filter(function(T){return T.node?T.node.is_viewer_friend:null});else F=F.filter(function(T){return T.node.id!==this.props.viewer.actor.id}.bind(this));F=F.slice(0,10).map(function(T){return T.node});if(E.node.viewer_has_voted)F.unshift(this.props.viewer.actor);var G=F.map(function(T){return{URL:T.url,name:T.name,uniqueID:parseInt(T.id,10),profilePicURI:T.profile_picture.uri}}),H=c("ProfileBrowserLink").constructPageURI("option_voters",{option_id:E.node.id}).toString(),I=c("ProfileBrowserLink").constructDialogURI("option_voters",{option_id:E.node.id}).toString(),J=function(T){__p&&__p();if(!u)return;if(T.target.href!==undefined)return;if(T.target.dataset!==undefined&&T.target.dataset.url!==undefined){c("SpotlightViewerInit").render(c("React").createElement(c("SpotlightPollOptionImageViewer"),{setid:"poll-option-message",optionText:E.node.text_with_entities.text,photoid:E.node.associated_image.id,thumbsrc:E.node.associated_image.image.uri,profiles:G,voterCount:E.node.voters.count,clearcache:true,dimensions:[[E.node.associated_image.image.width,E.node.associated_image.image.height].join(",")],minHeight:o,minWidth:p}));return}this.setState({isLocked:true});var U=E.node.viewer_has_voted?c("PollRemoveVoteMutation"):c("PollAddVoteMutation");U.commit(this.props.relay.environment,{node:t,option:E.node,viewer:this.props.viewer,numOptionsToShow:v,callbacks:{onSuccess:function(){this.setState({isLocked:false})}.bind(this),onFailure:function(V){this.setState({isLocked:false});var W=V.getError();c("SimpleXUIDialog").show(W&&W.source&&W.source.description,W&&W.source&&W.source.summary)}.bind(this)}})}.bind(this),K=r.optionBar,L=r.optionText,M=null,N=void 0,O=void 0;if(y&&this.props.shouldShowImage){L=r.optionTextPadded;if(E.node.associated_image){K=r.optionBarImage;L=r.optionTextImage;M=r.optionTextSpanImage;var P={backgroundImage:"url("+E.node.associated_image.image.uri+")"};N=c("React").createElement("div",{className:"_ehe"},c("React").createElement("div",{className:"_eh8",style:P,"data-url":E.node.associated_image.image.uri}))}}if(G.length)O=c("React").createElement("div",{className:r.accessible},i._("Nh\u1eefng ng\u01b0\u1eddi b\u1ecf phi\u1ebfu cho t\u00f9y ch\u1ecdn n\u00e0y"));var Q=t.options.count>1&&E.node.can_viewer_delete_groups_poll_option,R=Q?c("React").createElement(c("GroupsPollAttachmentDeleteOption.react"),{onDelete:this.$PollAttachmentComponent1,optionID:E.node.id}):null,S=Q?q-1:q;return c("React").createElement("div",{key:E.node.id,className:r.optionContainer},c("React").createElement("div",{className:u?r.optionRow:r.row},c("React").createElement("div",{className:"_mb5"},c("React").createElement("div",{className:r.optionLabel},c("React").createElement("input",{"aria-label":E.node.text_with_entities.text,type:l(t.response_method)?"checkbox":"radio",disabled:!u,className:r.optionSelector,checked:E.node.viewer_has_voted,onChange:J})),c("React").createElement("div",{className:K,onClick:J,role:"presentation"},c("React").createElement("div",{className:r.optionVotes,style:{width:100*E.node.voters.count/w+"%"}}),c("React").createElement("div",{className:L},c("React").createElement(c("TextWithEntities.react"),{className:M,ranges:c("getURLRanges")(E.node.text_with_entities.text),renderEmoticons:false,renderEmoji:true,text:E.node.text_with_entities.text})),N)),O,c("React").createElement("div",{className:"_mb6"},c("React").createElement("div",{className:r.facepileCenter},c("React").createElement(c("LeftRight.react"),{direction:"right"},c("React").createElement(c("Facepile.react"),{moreColor:"gray",moreCount:E.node.voters.count-Math.min(S,G.length),moreDialogLink:I,morePageLink:H,numFaces:S,profiles:G,showHovercard:true,size:28}),R)))))}.bind(this));var z=null,A=null;if(t.options.count>v){var B=t.options.count-v,C=i._({"*":"{options} t\u00f9y ch\u1ecdn kh\u00e1c..."},[i._param("options",B,[0])]),D=i._("1 t\u00f9y ch\u1ecdn kh\u00e1c...");z=c("React").createElement("div",{className:r.optionContainer},c("React").createElement("div",{className:r.space}),c("React").createElement(c("ShimButton.react"),{className:r.optionExpanderLink,form:"link",onClick:function(){return this.$PollAttachmentComponent2()}.bind(this)},c("React").createElement("div",{className:r.optionExpander},B>1?C:D)))}else if(t.poll_answers_state===c("QuestionPollAnswersState").OPEN&&t.can_viewer_post)A=c("React").createElement("div",{className:r.optionContainer},c("React").createElement(c("PollAttachmentAddOption.react"),{onAdd:this.$PollAttachmentComponent3,maxOptionLength:this.props.maxOptionLength,disabled:this.state.isLocked,hasImageOption:y}));return c("React").createElement("div",{className:r.root},x,z,A)};s.prototype.$PollAttachmentComponent2=function(){this.setState({disableShuffle:true,numOptionsToShow:this.props.node.options.count});this.props.relay.refetch({first:this.props.node.options.count,questionID:this.props.node.id})};f.exports=m(s,{viewer:function t(){return c("PollAttachmentComponent_viewer.graphql")},node:function t(){return c("PollAttachmentComponent_node.graphql")}},function(){return c("PollAttachmentComponentRefetchQuery.graphql")})}),null);
__d("PollAttachment.react",["PollAttachmentComponent.react","React","RelayModern","RelayFBEnvironment","PollAttachmentQuery.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=c("RelayModern").graphql,l=c("RelayModern").QueryRenderer;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props.shouldShuffle?200:5;return c("React").createElement(l,{environment:c("RelayFBEnvironment"),variables:{questionID:this.props.questionID,maxOptionLength:this.props.maxOptionLength,shouldShuffle:this.props.shouldShuffle,first:n},query:h||(h=function h(){return c("PollAttachmentQuery.graphql")}),render:function(o){var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,p.message);else if(q)return c("React").createElement(c("PollAttachmentComponent.react"),babelHelpers["extends"]({},this.props,q));return c("React").createElement("div",null,"Loading")}.bind(this)})};function m(){i.apply(this,arguments)}f.exports=m}),null);